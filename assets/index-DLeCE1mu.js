var dw=t=>{throw TypeError(t)};var mh=(t,e,n)=>e.has(t)||dw("Cannot "+n);var U=(t,e,n)=>(mh(t,e,"read from private field"),n?n.call(t):e.get(t)),Re=(t,e,n)=>e.has(t)?dw("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),fe=(t,e,n,r)=>(mh(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ut=(t,e,n)=>(mh(t,e,"access private method"),n);var qc=(t,e,n,r)=>({set _(s){fe(t,e,s,n)},get _(){return U(t,e,r)}});function dA(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function oE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iE={exports:{}},ef={},aE={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fc=Symbol.for("react.element"),fA=Symbol.for("react.portal"),hA=Symbol.for("react.fragment"),pA=Symbol.for("react.strict_mode"),mA=Symbol.for("react.profiler"),gA=Symbol.for("react.provider"),yA=Symbol.for("react.context"),vA=Symbol.for("react.forward_ref"),wA=Symbol.for("react.suspense"),_A=Symbol.for("react.memo"),xA=Symbol.for("react.lazy"),fw=Symbol.iterator;function EA(t){return t===null||typeof t!="object"?null:(t=fw&&t[fw]||t["@@iterator"],typeof t=="function"?t:null)}var lE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cE=Object.assign,uE={};function ya(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||lE}ya.prototype.isReactComponent={};ya.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ya.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dE(){}dE.prototype=ya.prototype;function ag(t,e,n){this.props=t,this.context=e,this.refs=uE,this.updater=n||lE}var lg=ag.prototype=new dE;lg.constructor=ag;cE(lg,ya.prototype);lg.isPureReactComponent=!0;var hw=Array.isArray,fE=Object.prototype.hasOwnProperty,cg={current:null},hE={key:!0,ref:!0,__self:!0,__source:!0};function pE(t,e,n){var r,s={},o=null,i=null;if(e!=null)for(r in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(o=""+e.key),e)fE.call(e,r)&&!hE.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:fc,type:t,key:o,ref:i,props:s,_owner:cg.current}}function TA(t,e){return{$$typeof:fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ug(t){return typeof t=="object"&&t!==null&&t.$$typeof===fc}function SA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pw=/\/+/g;function gh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SA(""+t.key):e.toString(36)}function Iu(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case fc:case fA:i=!0}}if(i)return i=t,s=s(i),t=r===""?"."+gh(i,0):r,hw(s)?(n="",t!=null&&(n=t.replace(pw,"$&/")+"/"),Iu(s,e,n,"",function(u){return u})):s!=null&&(ug(s)&&(s=TA(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(pw,"$&/")+"/")+t)),e.push(s)),1;if(i=0,r=r===""?".":r+":",hw(t))for(var a=0;a<t.length;a++){o=t[a];var c=r+gh(o,a);i+=Iu(o,e,n,c,s)}else if(c=EA(t),typeof c=="function")for(t=c.call(t),a=0;!(o=t.next()).done;)o=o.value,c=r+gh(o,a++),i+=Iu(o,e,n,c,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Kc(t,e,n){if(t==null)return t;var r=[],s=0;return Iu(t,r,"","",function(o){return e.call(n,o,s++)}),r}function bA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sn={current:null},Ru={transition:null},CA={ReactCurrentDispatcher:sn,ReactCurrentBatchConfig:Ru,ReactCurrentOwner:cg};function mE(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Kc,forEach:function(t,e,n){Kc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Kc(t,function(){e++}),e},toArray:function(t){return Kc(t,function(e){return e})||[]},only:function(t){if(!ug(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=ya;Ee.Fragment=hA;Ee.Profiler=mA;Ee.PureComponent=ag;Ee.StrictMode=pA;Ee.Suspense=wA;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CA;Ee.act=mE;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cE({},t.props),s=t.key,o=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,i=cg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)fE.call(e,c)&&!hE.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:fc,type:t.type,key:s,ref:o,props:r,_owner:i}};Ee.createContext=function(t){return t={$$typeof:yA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gA,_context:t},t.Consumer=t};Ee.createElement=pE;Ee.createFactory=function(t){var e=pE.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:vA,render:t}};Ee.isValidElement=ug;Ee.lazy=function(t){return{$$typeof:xA,_payload:{_status:-1,_result:t},_init:bA}};Ee.memo=function(t,e){return{$$typeof:_A,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Ru.transition;Ru.transition={};try{t()}finally{Ru.transition=e}};Ee.unstable_act=mE;Ee.useCallback=function(t,e){return sn.current.useCallback(t,e)};Ee.useContext=function(t){return sn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return sn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return sn.current.useEffect(t,e)};Ee.useId=function(){return sn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return sn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return sn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return sn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return sn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return sn.current.useReducer(t,e,n)};Ee.useRef=function(t){return sn.current.useRef(t)};Ee.useState=function(t){return sn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return sn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return sn.current.useTransition()};Ee.version="18.3.1";aE.exports=Ee;var g=aE.exports;const W=oE(g),dg=dA({__proto__:null,default:W},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IA=g,RA=Symbol.for("react.element"),AA=Symbol.for("react.fragment"),PA=Object.prototype.hasOwnProperty,NA=IA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kA={key:!0,ref:!0,__self:!0,__source:!0};function gE(t,e,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(i=e.ref);for(r in e)PA.call(e,r)&&!kA.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:RA,type:t,key:o,ref:i,props:s,_owner:NA.current}}ef.Fragment=AA;ef.jsx=gE;ef.jsxs=gE;iE.exports=ef;var y=iE.exports,yE={exports:{}},An={},vE={exports:{}},wE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,L){var q=j.length;j.push(L);e:for(;0<q;){var se=q-1>>>1,K=j[se];if(0<s(K,L))j[se]=L,j[q]=K,q=se;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var L=j[0],q=j.pop();if(q!==L){j[0]=q;e:for(var se=0,K=j.length,X=K>>>1;se<X;){var ae=2*(se+1)-1,_e=j[ae],xe=ae+1,G=j[xe];if(0>s(_e,q))xe<K&&0>s(G,_e)?(j[se]=G,j[xe]=q,se=xe):(j[se]=_e,j[ae]=q,se=ae);else if(xe<K&&0>s(G,q))j[se]=G,j[xe]=q,se=xe;else break e}}return L}function s(j,L){var q=j.sortIndex-L.sortIndex;return q!==0?q:j.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,h=3,m=!1,S=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=j)r(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=n(u)}}function N(j){if(v=!1,T(j),!S)if(n(c)!==null)S=!0,Z(O);else{var L=n(u);L!==null&&Y(N,L.startTime-j)}}function O(j,L){S=!1,v&&(v=!1,x(b),b=-1),m=!0;var q=h;try{for(T(L),f=n(c);f!==null&&(!(f.expirationTime>L)||j&&!A());){var se=f.callback;if(typeof se=="function"){f.callback=null,h=f.priorityLevel;var K=se(f.expirationTime<=L);L=t.unstable_now(),typeof K=="function"?f.callback=K:f===n(c)&&r(c),T(L)}else r(c);f=n(c)}if(f!==null)var X=!0;else{var ae=n(u);ae!==null&&Y(N,ae.startTime-L),X=!1}return X}finally{f=null,h=q,m=!1}}var M=!1,I=null,b=-1,C=5,R=-1;function A(){return!(t.unstable_now()-R<C)}function D(){if(I!==null){var j=t.unstable_now();R=j;var L=!0;try{L=I(!0,j)}finally{L?k():(M=!1,I=null)}}else M=!1}var k;if(typeof w=="function")k=function(){w(D)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ne=$.port2;$.port1.onmessage=D,k=function(){ne.postMessage(null)}}else k=function(){E(D,0)};function Z(j){I=j,M||(M=!0,k())}function Y(j,L){b=E(function(){j(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){S||m||(S=!0,Z(O))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var q=h;h=L;try{return j()}finally{h=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,L){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=h;h=j;try{return L()}finally{h=q}},t.unstable_scheduleCallback=function(j,L,q){var se=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?se+q:se):q=se,j){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=q+K,j={id:d++,callback:L,priorityLevel:j,startTime:q,expirationTime:K,sortIndex:-1},q>se?(j.sortIndex=q,e(u,j),n(c)===null&&j===n(u)&&(v?(x(b),b=-1):v=!0,Y(N,q-se))):(j.sortIndex=K,e(c,j),S||m||(S=!0,Z(O))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var L=h;return function(){var q=h;h=L;try{return j.apply(this,arguments)}finally{h=q}}}})(wE);vE.exports=wE;var DA=vE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA=g,Rn=DA;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _E=new Set,Cl={};function Qo(t,e){ta(t,e),ta(t+"Capture",e)}function ta(t,e){for(Cl[t]=e,t=0;t<e.length;t++)_E.add(e[t])}var Yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gp=Object.prototype.hasOwnProperty,MA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mw={},gw={};function VA(t){return gp.call(gw,t)?!0:gp.call(mw,t)?!1:MA.test(t)?gw[t]=!0:(mw[t]=!0,!1)}function LA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jA(t,e,n,r){if(e===null||typeof e>"u"||LA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function on(t,e,n,r,s,o,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=i}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new on(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new on(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new on(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new on(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new on(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new on(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new on(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new on(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new on(t,5,!1,t.toLowerCase(),null,!1,!1)});var fg=/[\-:]([a-z])/g;function hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fg,hg);Vt[e]=new on(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fg,hg);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fg,hg);Vt[e]=new on(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new on("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new on(t,1,!1,t.toLowerCase(),null,!0,!0)});function pg(t,e,n,r){var s=Vt.hasOwnProperty(e)?Vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jA(e,n,s,r)&&(n=null),r||s===null?VA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=OA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gc=Symbol.for("react.element"),vi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),yp=Symbol.for("react.profiler"),xE=Symbol.for("react.provider"),EE=Symbol.for("react.context"),gg=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),wp=Symbol.for("react.suspense_list"),yg=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),TE=Symbol.for("react.offscreen"),yw=Symbol.iterator;function za(t){return t===null||typeof t!="object"?null:(t=yw&&t[yw]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,yh;function el(t){if(yh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);yh=e&&e[1]||""}return`
`+yh+t}var vh=!1;function wh(t,e){if(!t||vh)return"";vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=i&&0<=a);break}}}finally{vh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function FA(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function _p(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wi:return"Fragment";case vi:return"Portal";case yp:return"Profiler";case mg:return"StrictMode";case vp:return"Suspense";case wp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EE:return(t.displayName||"Context")+".Consumer";case xE:return(t._context.displayName||"Context")+".Provider";case gg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yg:return e=t.displayName||null,e!==null?e:_p(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return _p(t(e))}catch{}}return null}function $A(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _p(e);case 8:return e===mg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UA(t){var e=SE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qc(t){t._valueTracker||(t._valueTracker=UA(t))}function bE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ju(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xp(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Gs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function CE(t,e){e=e.checked,e!=null&&pg(t,"checked",e,!1)}function Ep(t,e){CE(t,e);var n=Gs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tp(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ww(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tp(t,e,n){(e!=="number"||Ju(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Pi(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Gs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Sp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _w(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(tl(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Gs(n)}}function IE(t,e){var n=Gs(e.value),r=Gs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Yc,AE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Yc=Yc||document.createElement("div"),Yc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Yc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ll={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BA=["Webkit","ms","Moz","O"];Object.keys(ll).forEach(function(t){BA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ll[e]=ll[t]})});function PE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ll.hasOwnProperty(t)&&ll[t]?(""+e).trim():e+"px"}function NE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=PE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zA=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cp(t,e){if(e){if(zA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Ip(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rp=null;function vg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ap=null,Ni=null,ki=null;function Ew(t){if(t=mc(t)){if(typeof Ap!="function")throw Error(H(280));var e=t.stateNode;e&&(e=of(e),Ap(t.stateNode,t.type,e))}}function kE(t){Ni?ki?ki.push(t):ki=[t]:Ni=t}function DE(){if(Ni){var t=Ni,e=ki;if(ki=Ni=null,Ew(t),e)for(t=0;t<e.length;t++)Ew(e[t])}}function OE(t,e){return t(e)}function ME(){}var _h=!1;function VE(t,e,n){if(_h)return t(e,n);_h=!0;try{return OE(t,e,n)}finally{_h=!1,(Ni!==null||ki!==null)&&(ME(),DE())}}function Rl(t,e){var n=t.stateNode;if(n===null)return null;var r=of(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Pp=!1;if(Yr)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Pp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Pp=!1}function WA(t,e,n,r,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var cl=!1,Zu=null,ed=!1,Np=null,HA={onError:function(t){cl=!0,Zu=t}};function qA(t,e,n,r,s,o,i,a,c){cl=!1,Zu=null,WA.apply(HA,arguments)}function KA(t,e,n,r,s,o,i,a,c){if(qA.apply(this,arguments),cl){if(cl){var u=Zu;cl=!1,Zu=null}else throw Error(H(198));ed||(ed=!0,Np=u)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function LE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tw(t){if(Yo(t)!==t)throw Error(H(188))}function GA(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Tw(s),t;if(o===r)return Tw(s),e;o=o.sibling}throw Error(H(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function jE(t){return t=GA(t),t!==null?FE(t):null}function FE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FE(t);if(e!==null)return e;t=t.sibling}return null}var $E=Rn.unstable_scheduleCallback,Sw=Rn.unstable_cancelCallback,QA=Rn.unstable_shouldYield,YA=Rn.unstable_requestPaint,ft=Rn.unstable_now,XA=Rn.unstable_getCurrentPriorityLevel,wg=Rn.unstable_ImmediatePriority,UE=Rn.unstable_UserBlockingPriority,td=Rn.unstable_NormalPriority,JA=Rn.unstable_LowPriority,BE=Rn.unstable_IdlePriority,tf=null,Ir=null;function ZA(t){if(Ir&&typeof Ir.onCommitFiberRoot=="function")try{Ir.onCommitFiberRoot(tf,t,void 0,(t.current.flags&128)===128)}catch{}}var nr=Math.clz32?Math.clz32:nP,eP=Math.log,tP=Math.LN2;function nP(t){return t>>>=0,t===0?32:31-(eP(t)/tP|0)|0}var Xc=64,Jc=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=nl(a):(o&=i,o!==0&&(r=nl(o)))}else i=n&~s,i!==0?r=nl(i):o!==0&&(r=nl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-nr(e),s=1<<n,r|=t[n],e&=~s;return r}function rP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sP(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var i=31-nr(o),a=1<<i,c=s[i];c===-1?(!(a&n)||a&r)&&(s[i]=rP(a,e)):c<=e&&(t.expiredLanes|=a),o&=~a}}function kp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function zE(){var t=Xc;return Xc<<=1,!(Xc&4194240)&&(Xc=64),t}function xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function hc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-nr(e),t[e]=n}function oP(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-nr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function _g(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-nr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Le=0;function WE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HE,xg,qE,KE,GE,Dp=!1,Zc=[],Ds=null,Os=null,Ms=null,Al=new Map,Pl=new Map,xs=[],iP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bw(t,e){switch(t){case"focusin":case"focusout":Ds=null;break;case"dragenter":case"dragleave":Os=null;break;case"mouseover":case"mouseout":Ms=null;break;case"pointerover":case"pointerout":Al.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(e.pointerId)}}function Ha(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=mc(e),e!==null&&xg(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function aP(t,e,n,r,s){switch(e){case"focusin":return Ds=Ha(Ds,t,e,n,r,s),!0;case"dragenter":return Os=Ha(Os,t,e,n,r,s),!0;case"mouseover":return Ms=Ha(Ms,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Al.set(o,Ha(Al.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Pl.set(o,Ha(Pl.get(o)||null,t,e,n,r,s)),!0}return!1}function QE(t){var e=Co(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=LE(n),e!==null){t.blockedOn=e,GE(t.priority,function(){qE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Au(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Op(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rp=r,n.target.dispatchEvent(r),Rp=null}else return e=mc(n),e!==null&&xg(e),t.blockedOn=n,!1;e.shift()}return!0}function Cw(t,e,n){Au(t)&&n.delete(e)}function lP(){Dp=!1,Ds!==null&&Au(Ds)&&(Ds=null),Os!==null&&Au(Os)&&(Os=null),Ms!==null&&Au(Ms)&&(Ms=null),Al.forEach(Cw),Pl.forEach(Cw)}function qa(t,e){t.blockedOn===e&&(t.blockedOn=null,Dp||(Dp=!0,Rn.unstable_scheduleCallback(Rn.unstable_NormalPriority,lP)))}function Nl(t){function e(s){return qa(s,t)}if(0<Zc.length){qa(Zc[0],t);for(var n=1;n<Zc.length;n++){var r=Zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ds!==null&&qa(Ds,t),Os!==null&&qa(Os,t),Ms!==null&&qa(Ms,t),Al.forEach(e),Pl.forEach(e),n=0;n<xs.length;n++)r=xs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xs.length&&(n=xs[0],n.blockedOn===null);)QE(n),n.blockedOn===null&&xs.shift()}var Di=is.ReactCurrentBatchConfig,rd=!0;function cP(t,e,n,r){var s=Le,o=Di.transition;Di.transition=null;try{Le=1,Eg(t,e,n,r)}finally{Le=s,Di.transition=o}}function uP(t,e,n,r){var s=Le,o=Di.transition;Di.transition=null;try{Le=4,Eg(t,e,n,r)}finally{Le=s,Di.transition=o}}function Eg(t,e,n,r){if(rd){var s=Op(t,e,n,r);if(s===null)Nh(t,e,r,sd,n),bw(t,r);else if(aP(s,t,e,n,r))r.stopPropagation();else if(bw(t,r),e&4&&-1<iP.indexOf(t)){for(;s!==null;){var o=mc(s);if(o!==null&&HE(o),o=Op(t,e,n,r),o===null&&Nh(t,e,r,sd,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Nh(t,e,r,null,n)}}var sd=null;function Op(t,e,n,r){if(sd=null,t=vg(r),t=Co(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=LE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sd=t,null}function YE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XA()){case wg:return 1;case UE:return 4;case td:case JA:return 16;case BE:return 536870912;default:return 16}default:return 16}}var As=null,Tg=null,Pu=null;function XE(){if(Pu)return Pu;var t,e=Tg,n=e.length,r,s="value"in As?As.value:As.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var i=n-t;for(r=1;r<=i&&e[n-r]===s[o-r];r++);return Pu=s.slice(t,1<r?1-r:void 0)}function Nu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function eu(){return!0}function Iw(){return!1}function Pn(t){function e(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?eu:Iw,this.isPropagationStopped=Iw,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=eu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=eu)},persist:function(){},isPersistent:eu}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sg=Pn(va),pc=ot({},va,{view:0,detail:0}),dP=Pn(pc),Eh,Th,Ka,nf=ot({},pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bg,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ka&&(Ka&&t.type==="mousemove"?(Eh=t.screenX-Ka.screenX,Th=t.screenY-Ka.screenY):Th=Eh=0,Ka=t),Eh)},movementY:function(t){return"movementY"in t?t.movementY:Th}}),Rw=Pn(nf),fP=ot({},nf,{dataTransfer:0}),hP=Pn(fP),pP=ot({},pc,{relatedTarget:0}),Sh=Pn(pP),mP=ot({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),gP=Pn(mP),yP=ot({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),vP=Pn(yP),wP=ot({},va,{data:0}),Aw=Pn(wP),_P={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},EP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function TP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=EP[t])?!!e[t]:!1}function bg(){return TP}var SP=ot({},pc,{key:function(t){if(t.key){var e=_P[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bg,charCode:function(t){return t.type==="keypress"?Nu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bP=Pn(SP),CP=ot({},nf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pw=Pn(CP),IP=ot({},pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bg}),RP=Pn(IP),AP=ot({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),PP=Pn(AP),NP=ot({},nf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),kP=Pn(NP),DP=[9,13,27,32],Cg=Yr&&"CompositionEvent"in window,ul=null;Yr&&"documentMode"in document&&(ul=document.documentMode);var OP=Yr&&"TextEvent"in window&&!ul,JE=Yr&&(!Cg||ul&&8<ul&&11>=ul),Nw=" ",kw=!1;function ZE(t,e){switch(t){case"keyup":return DP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function e1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _i=!1;function MP(t,e){switch(t){case"compositionend":return e1(e);case"keypress":return e.which!==32?null:(kw=!0,Nw);case"textInput":return t=e.data,t===Nw&&kw?null:t;default:return null}}function VP(t,e){if(_i)return t==="compositionend"||!Cg&&ZE(t,e)?(t=XE(),Pu=Tg=As=null,_i=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JE&&e.locale!=="ko"?null:e.data;default:return null}}var LP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!LP[t.type]:e==="textarea"}function t1(t,e,n,r){kE(r),e=od(e,"onChange"),0<e.length&&(n=new Sg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dl=null,kl=null;function jP(t){f1(t,0)}function rf(t){var e=Ti(t);if(bE(e))return t}function FP(t,e){if(t==="change")return e}var n1=!1;if(Yr){var bh;if(Yr){var Ch="oninput"in document;if(!Ch){var Ow=document.createElement("div");Ow.setAttribute("oninput","return;"),Ch=typeof Ow.oninput=="function"}bh=Ch}else bh=!1;n1=bh&&(!document.documentMode||9<document.documentMode)}function Mw(){dl&&(dl.detachEvent("onpropertychange",r1),kl=dl=null)}function r1(t){if(t.propertyName==="value"&&rf(kl)){var e=[];t1(e,kl,t,vg(t)),VE(jP,e)}}function $P(t,e,n){t==="focusin"?(Mw(),dl=e,kl=n,dl.attachEvent("onpropertychange",r1)):t==="focusout"&&Mw()}function UP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return rf(kl)}function BP(t,e){if(t==="click")return rf(e)}function zP(t,e){if(t==="input"||t==="change")return rf(e)}function WP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var or=typeof Object.is=="function"?Object.is:WP;function Dl(t,e){if(or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!gp.call(e,s)||!or(t[s],e[s]))return!1}return!0}function Vw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lw(t,e){var n=Vw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vw(n)}}function s1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?s1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function o1(){for(var t=window,e=Ju();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ju(t.document)}return e}function Ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HP(t){var e=o1(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&s1(n.ownerDocument.documentElement,n)){if(r!==null&&Ig(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=Lw(n,o);var i=Lw(n,r);s&&i&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qP=Yr&&"documentMode"in document&&11>=document.documentMode,xi=null,Mp=null,fl=null,Vp=!1;function jw(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vp||xi==null||xi!==Ju(r)||(r=xi,"selectionStart"in r&&Ig(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fl&&Dl(fl,r)||(fl=r,r=od(Mp,"onSelect"),0<r.length&&(e=new Sg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xi)))}function tu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ei={animationend:tu("Animation","AnimationEnd"),animationiteration:tu("Animation","AnimationIteration"),animationstart:tu("Animation","AnimationStart"),transitionend:tu("Transition","TransitionEnd")},Ih={},i1={};Yr&&(i1=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function sf(t){if(Ih[t])return Ih[t];if(!Ei[t])return t;var e=Ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in i1)return Ih[t]=e[n];return t}var a1=sf("animationend"),l1=sf("animationiteration"),c1=sf("animationstart"),u1=sf("transitionend"),d1=new Map,Fw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function io(t,e){d1.set(t,e),Qo(e,[t])}for(var Rh=0;Rh<Fw.length;Rh++){var Ah=Fw[Rh],KP=Ah.toLowerCase(),GP=Ah[0].toUpperCase()+Ah.slice(1);io(KP,"on"+GP)}io(a1,"onAnimationEnd");io(l1,"onAnimationIteration");io(c1,"onAnimationStart");io("dblclick","onDoubleClick");io("focusin","onFocus");io("focusout","onBlur");io(u1,"onTransitionEnd");ta("onMouseEnter",["mouseout","mouseover"]);ta("onMouseLeave",["mouseout","mouseover"]);ta("onPointerEnter",["pointerout","pointerover"]);ta("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QP=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function $w(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,KA(r,e,void 0,t),t.currentTarget=null}function f1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var i=r.length-1;0<=i;i--){var a=r[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;$w(s,a,u),o=c}else for(i=0;i<r.length;i++){if(a=r[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;$w(s,a,u),o=c}}}if(ed)throw t=Np,ed=!1,Np=null,t}function Qe(t,e){var n=e[Up];n===void 0&&(n=e[Up]=new Set);var r=t+"__bubble";n.has(r)||(h1(e,t,2,!1),n.add(r))}function Ph(t,e,n){var r=0;e&&(r|=4),h1(n,t,r,e)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ol(t){if(!t[nu]){t[nu]=!0,_E.forEach(function(n){n!=="selectionchange"&&(QP.has(n)||Ph(n,!1,t),Ph(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nu]||(e[nu]=!0,Ph("selectionchange",!1,e))}}function h1(t,e,n,r){switch(YE(e)){case 1:var s=cP;break;case 4:s=uP;break;default:s=Eg}n=s.bind(null,e,n,t),s=void 0,!Pp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Nh(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Co(a),i===null)return;if(c=i.tag,c===5||c===6){r=o=i;continue e}a=a.parentNode}}r=r.return}VE(function(){var u=o,d=vg(n),f=[];e:{var h=d1.get(t);if(h!==void 0){var m=Sg,S=t;switch(t){case"keypress":if(Nu(n)===0)break e;case"keydown":case"keyup":m=bP;break;case"focusin":S="focus",m=Sh;break;case"focusout":S="blur",m=Sh;break;case"beforeblur":case"afterblur":m=Sh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Rw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=hP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=RP;break;case a1:case l1:case c1:m=gP;break;case u1:m=PP;break;case"scroll":m=dP;break;case"wheel":m=kP;break;case"copy":case"cut":case"paste":m=vP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Pw}var v=(e&4)!==0,E=!v&&t==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var w=u,T;w!==null;){T=w;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,x!==null&&(N=Rl(w,x),N!=null&&v.push(Ml(w,N,T)))),E)break;w=w.return}0<v.length&&(h=new m(h,S,null,n,d),f.push({event:h,listeners:v}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Rp&&(S=n.relatedTarget||n.fromElement)&&(Co(S)||S[Xr]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(S=n.relatedTarget||n.toElement,m=u,S=S?Co(S):null,S!==null&&(E=Yo(S),S!==E||S.tag!==5&&S.tag!==6)&&(S=null)):(m=null,S=u),m!==S)){if(v=Rw,N="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=Pw,N="onPointerLeave",x="onPointerEnter",w="pointer"),E=m==null?h:Ti(m),T=S==null?h:Ti(S),h=new v(N,w+"leave",m,n,d),h.target=E,h.relatedTarget=T,N=null,Co(d)===u&&(v=new v(x,w+"enter",S,n,d),v.target=T,v.relatedTarget=E,N=v),E=N,m&&S)t:{for(v=m,x=S,w=0,T=v;T;T=li(T))w++;for(T=0,N=x;N;N=li(N))T++;for(;0<w-T;)v=li(v),w--;for(;0<T-w;)x=li(x),T--;for(;w--;){if(v===x||x!==null&&v===x.alternate)break t;v=li(v),x=li(x)}v=null}else v=null;m!==null&&Uw(f,h,m,v,!1),S!==null&&E!==null&&Uw(f,E,S,v,!0)}}e:{if(h=u?Ti(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var O=FP;else if(Dw(h))if(n1)O=zP;else{O=UP;var M=$P}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(O=BP);if(O&&(O=O(t,u))){t1(f,O,n,d);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Tp(h,"number",h.value)}switch(M=u?Ti(u):window,t){case"focusin":(Dw(M)||M.contentEditable==="true")&&(xi=M,Mp=u,fl=null);break;case"focusout":fl=Mp=xi=null;break;case"mousedown":Vp=!0;break;case"contextmenu":case"mouseup":case"dragend":Vp=!1,jw(f,n,d);break;case"selectionchange":if(qP)break;case"keydown":case"keyup":jw(f,n,d)}var I;if(Cg)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _i?ZE(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(JE&&n.locale!=="ko"&&(_i||b!=="onCompositionStart"?b==="onCompositionEnd"&&_i&&(I=XE()):(As=d,Tg="value"in As?As.value:As.textContent,_i=!0)),M=od(u,b),0<M.length&&(b=new Aw(b,t,null,n,d),f.push({event:b,listeners:M}),I?b.data=I:(I=e1(n),I!==null&&(b.data=I)))),(I=OP?MP(t,n):VP(t,n))&&(u=od(u,"onBeforeInput"),0<u.length&&(d=new Aw("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=I))}f1(f,e)})}function Ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function od(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Rl(t,n),o!=null&&r.unshift(Ml(t,o,s)),o=Rl(t,e),o!=null&&r.push(Ml(t,o,s))),t=t.return}return r}function li(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Uw(t,e,n,r,s){for(var o=e._reactName,i=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,s?(c=Rl(n,o),c!=null&&i.unshift(Ml(n,c,a))):s||(c=Rl(n,o),c!=null&&i.push(Ml(n,c,a)))),n=n.return}i.length!==0&&t.push({event:e,listeners:i})}var YP=/\r\n?/g,XP=/\u0000|\uFFFD/g;function Bw(t){return(typeof t=="string"?t:""+t).replace(YP,`
`).replace(XP,"")}function ru(t,e,n){if(e=Bw(e),Bw(t)!==e&&n)throw Error(H(425))}function id(){}var Lp=null,jp=null;function Fp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $p=typeof setTimeout=="function"?setTimeout:void 0,JP=typeof clearTimeout=="function"?clearTimeout:void 0,zw=typeof Promise=="function"?Promise:void 0,ZP=typeof queueMicrotask=="function"?queueMicrotask:typeof zw<"u"?function(t){return zw.resolve(null).then(t).catch(eN)}:$p;function eN(t){setTimeout(function(){throw t})}function kh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Nl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Nl(e)}function Vs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ww(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wa=Math.random().toString(36).slice(2),Sr="__reactFiber$"+wa,Vl="__reactProps$"+wa,Xr="__reactContainer$"+wa,Up="__reactEvents$"+wa,tN="__reactListeners$"+wa,nN="__reactHandles$"+wa;function Co(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xr]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ww(t);t!==null;){if(n=t[Sr])return n;t=Ww(t)}return e}t=n,n=t.parentNode}return null}function mc(t){return t=t[Sr]||t[Xr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ti(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function of(t){return t[Vl]||null}var Bp=[],Si=-1;function ao(t){return{current:t}}function Xe(t){0>Si||(t.current=Bp[Si],Bp[Si]=null,Si--)}function qe(t,e){Si++,Bp[Si]=t.current,t.current=e}var Qs={},Yt=ao(Qs),pn=ao(!1),jo=Qs;function na(t,e){var n=t.type.contextTypes;if(!n)return Qs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function ad(){Xe(pn),Xe(Yt)}function Hw(t,e,n){if(Yt.current!==Qs)throw Error(H(168));qe(Yt,e),qe(pn,n)}function p1(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(H(108,$A(t)||"Unknown",s));return ot({},n,r)}function ld(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qs,jo=Yt.current,qe(Yt,t),qe(pn,pn.current),!0}function qw(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=p1(t,e,jo),r.__reactInternalMemoizedMergedChildContext=t,Xe(pn),Xe(Yt),qe(Yt,t)):Xe(pn),qe(pn,n)}var Hr=null,af=!1,Dh=!1;function m1(t){Hr===null?Hr=[t]:Hr.push(t)}function rN(t){af=!0,m1(t)}function lo(){if(!Dh&&Hr!==null){Dh=!0;var t=0,e=Le;try{var n=Hr;for(Le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hr=null,af=!1}catch(s){throw Hr!==null&&(Hr=Hr.slice(t+1)),$E(wg,lo),s}finally{Le=e,Dh=!1}}return null}var bi=[],Ci=0,cd=null,ud=0,Mn=[],Vn=0,Fo=null,Kr=1,Gr="";function To(t,e){bi[Ci++]=ud,bi[Ci++]=cd,cd=t,ud=e}function g1(t,e,n){Mn[Vn++]=Kr,Mn[Vn++]=Gr,Mn[Vn++]=Fo,Fo=t;var r=Kr;t=Gr;var s=32-nr(r)-1;r&=~(1<<s),n+=1;var o=32-nr(e)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Kr=1<<32-nr(e)+s|n<<s|r,Gr=o+t}else Kr=1<<o|n<<s|r,Gr=t}function Rg(t){t.return!==null&&(To(t,1),g1(t,1,0))}function Ag(t){for(;t===cd;)cd=bi[--Ci],bi[Ci]=null,ud=bi[--Ci],bi[Ci]=null;for(;t===Fo;)Fo=Mn[--Vn],Mn[Vn]=null,Gr=Mn[--Vn],Mn[Vn]=null,Kr=Mn[--Vn],Mn[Vn]=null}var Cn=null,Sn=null,et=!1,tr=null;function y1(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=Vs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cn=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Fo!==null?{id:Kr,overflow:Gr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cn=t,Sn=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wp(t){if(et){var e=Sn;if(e){var n=e;if(!Kw(t,e)){if(zp(t))throw Error(H(418));e=Vs(n.nextSibling);var r=Cn;e&&Kw(t,e)?y1(r,n):(t.flags=t.flags&-4097|2,et=!1,Cn=t)}}else{if(zp(t))throw Error(H(418));t.flags=t.flags&-4097|2,et=!1,Cn=t}}}function Gw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cn=t}function su(t){if(t!==Cn)return!1;if(!et)return Gw(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fp(t.type,t.memoizedProps)),e&&(e=Sn)){if(zp(t))throw v1(),Error(H(418));for(;e;)y1(t,e),e=Vs(e.nextSibling)}if(Gw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Sn=Vs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=Cn?Vs(t.stateNode.nextSibling):null;return!0}function v1(){for(var t=Sn;t;)t=Vs(t.nextSibling)}function ra(){Sn=Cn=null,et=!1}function Pg(t){tr===null?tr=[t]:tr.push(t)}var sN=is.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},e._stringRef=o,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function ou(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qw(t){var e=t._init;return e(t._payload)}function w1(t){function e(x,w){if(t){var T=x.deletions;T===null?(x.deletions=[w],x.flags|=16):T.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=$s(x,w),x.index=0,x.sibling=null,x}function o(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags|=2,w):T):(x.flags|=2,w)):(x.flags|=1048576,w)}function i(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,T,N){return w===null||w.tag!==6?(w=$h(T,x.mode,N),w.return=x,w):(w=s(w,T),w.return=x,w)}function c(x,w,T,N){var O=T.type;return O===wi?d(x,w,T.props.children,N,T.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===vs&&Qw(O)===w.type)?(N=s(w,T.props),N.ref=Ga(x,w,T),N.return=x,N):(N=ju(T.type,T.key,T.props,null,x.mode,N),N.ref=Ga(x,w,T),N.return=x,N)}function u(x,w,T,N){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Uh(T,x.mode,N),w.return=x,w):(w=s(w,T.children||[]),w.return=x,w)}function d(x,w,T,N,O){return w===null||w.tag!==7?(w=Lo(T,x.mode,N,O),w.return=x,w):(w=s(w,T),w.return=x,w)}function f(x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$h(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Gc:return T=ju(w.type,w.key,w.props,null,x.mode,T),T.ref=Ga(x,null,w),T.return=x,T;case vi:return w=Uh(w,x.mode,T),w.return=x,w;case vs:var N=w._init;return f(x,N(w._payload),T)}if(tl(w)||za(w))return w=Lo(w,x.mode,T,null),w.return=x,w;ou(x,w)}return null}function h(x,w,T,N){var O=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return O!==null?null:a(x,w,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:return T.key===O?c(x,w,T,N):null;case vi:return T.key===O?u(x,w,T,N):null;case vs:return O=T._init,h(x,w,O(T._payload),N)}if(tl(T)||za(T))return O!==null?null:d(x,w,T,N,null);ou(x,T)}return null}function m(x,w,T,N,O){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(T)||null,a(w,x,""+N,O);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Gc:return x=x.get(N.key===null?T:N.key)||null,c(w,x,N,O);case vi:return x=x.get(N.key===null?T:N.key)||null,u(w,x,N,O);case vs:var M=N._init;return m(x,w,T,M(N._payload),O)}if(tl(N)||za(N))return x=x.get(T)||null,d(w,x,N,O,null);ou(w,N)}return null}function S(x,w,T,N){for(var O=null,M=null,I=w,b=w=0,C=null;I!==null&&b<T.length;b++){I.index>b?(C=I,I=null):C=I.sibling;var R=h(x,I,T[b],N);if(R===null){I===null&&(I=C);break}t&&I&&R.alternate===null&&e(x,I),w=o(R,w,b),M===null?O=R:M.sibling=R,M=R,I=C}if(b===T.length)return n(x,I),et&&To(x,b),O;if(I===null){for(;b<T.length;b++)I=f(x,T[b],N),I!==null&&(w=o(I,w,b),M===null?O=I:M.sibling=I,M=I);return et&&To(x,b),O}for(I=r(x,I);b<T.length;b++)C=m(I,x,b,T[b],N),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?b:C.key),w=o(C,w,b),M===null?O=C:M.sibling=C,M=C);return t&&I.forEach(function(A){return e(x,A)}),et&&To(x,b),O}function v(x,w,T,N){var O=za(T);if(typeof O!="function")throw Error(H(150));if(T=O.call(T),T==null)throw Error(H(151));for(var M=O=null,I=w,b=w=0,C=null,R=T.next();I!==null&&!R.done;b++,R=T.next()){I.index>b?(C=I,I=null):C=I.sibling;var A=h(x,I,R.value,N);if(A===null){I===null&&(I=C);break}t&&I&&A.alternate===null&&e(x,I),w=o(A,w,b),M===null?O=A:M.sibling=A,M=A,I=C}if(R.done)return n(x,I),et&&To(x,b),O;if(I===null){for(;!R.done;b++,R=T.next())R=f(x,R.value,N),R!==null&&(w=o(R,w,b),M===null?O=R:M.sibling=R,M=R);return et&&To(x,b),O}for(I=r(x,I);!R.done;b++,R=T.next())R=m(I,x,b,R.value,N),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?b:R.key),w=o(R,w,b),M===null?O=R:M.sibling=R,M=R);return t&&I.forEach(function(D){return e(x,D)}),et&&To(x,b),O}function E(x,w,T,N){if(typeof T=="object"&&T!==null&&T.type===wi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Gc:e:{for(var O=T.key,M=w;M!==null;){if(M.key===O){if(O=T.type,O===wi){if(M.tag===7){n(x,M.sibling),w=s(M,T.props.children),w.return=x,x=w;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===vs&&Qw(O)===M.type){n(x,M.sibling),w=s(M,T.props),w.ref=Ga(x,M,T),w.return=x,x=w;break e}n(x,M);break}else e(x,M);M=M.sibling}T.type===wi?(w=Lo(T.props.children,x.mode,N,T.key),w.return=x,x=w):(N=ju(T.type,T.key,T.props,null,x.mode,N),N.ref=Ga(x,w,T),N.return=x,x=N)}return i(x);case vi:e:{for(M=T.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=s(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Uh(T,x.mode,N),w.return=x,x=w}return i(x);case vs:return M=T._init,E(x,w,M(T._payload),N)}if(tl(T))return S(x,w,T,N);if(za(T))return v(x,w,T,N);ou(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,T),w.return=x,x=w):(n(x,w),w=$h(T,x.mode,N),w.return=x,x=w),i(x)):n(x,w)}return E}var sa=w1(!0),_1=w1(!1),dd=ao(null),fd=null,Ii=null,Ng=null;function kg(){Ng=Ii=fd=null}function Dg(t){var e=dd.current;Xe(dd),t._currentValue=e}function Hp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oi(t,e){fd=t,Ng=Ii=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(Ng!==t)if(t={context:t,memoizedValue:e,next:null},Ii===null){if(fd===null)throw Error(H(308));Ii=t,fd.dependencies={lanes:0,firstContext:t}}else Ii=Ii.next=t;return e}var Io=null;function Og(t){Io===null?Io=[t]:Io.push(t)}function x1(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Og(e)):(n.next=s.next,s.next=n),e.interleaved=n,Jr(t,r)}function Jr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function Mg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function E1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Jr(t,n)}return s=r.interleaved,s===null?(e.next=e,Og(r)):(e.next=s.next,s.next=e),r.interleaved=e,Jr(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}function Yw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function hd(t,e,n,r){var s=t.updateQueue;ws=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var h=a.lane,m=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,v=a;switch(h=e,m=n,v.tag){case 1:if(S=v.payload,typeof S=="function"){f=S.call(m,f,h);break e}f=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=v.payload,h=typeof S=="function"?S.call(m,f,h):S,h==null)break e;f=ot({},f,h);break e;case 2:ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else m={eventTime:m,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,i|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do i|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Uo|=i,t.lanes=i,t.memoizedState=f}}function Xw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(H(191,s));s.call(r)}}}var gc={},Rr=ao(gc),Ll=ao(gc),jl=ao(gc);function Ro(t){if(t===gc)throw Error(H(174));return t}function Vg(t,e){switch(qe(jl,e),qe(Ll,t),qe(Rr,gc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=bp(e,t)}Xe(Rr),qe(Rr,e)}function oa(){Xe(Rr),Xe(Ll),Xe(jl)}function T1(t){Ro(jl.current);var e=Ro(Rr.current),n=bp(e,t.type);e!==n&&(qe(Ll,t),qe(Rr,n))}function Lg(t){Ll.current===t&&(Xe(Rr),Xe(Ll))}var rt=ao(0);function pd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Oh=[];function jg(){for(var t=0;t<Oh.length;t++)Oh[t]._workInProgressVersionPrimary=null;Oh.length=0}var Du=is.ReactCurrentDispatcher,Mh=is.ReactCurrentBatchConfig,$o=0,st=null,_t=null,Rt=null,md=!1,hl=!1,Fl=0,oN=0;function Bt(){throw Error(H(321))}function Fg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!or(t[n],e[n]))return!1;return!0}function $g(t,e,n,r,s,o){if($o=o,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Du.current=t===null||t.memoizedState===null?cN:uN,t=n(r,s),hl){o=0;do{if(hl=!1,Fl=0,25<=o)throw Error(H(301));o+=1,Rt=_t=null,e.updateQueue=null,Du.current=dN,t=n(r,s)}while(hl)}if(Du.current=gd,e=_t!==null&&_t.next!==null,$o=0,Rt=_t=st=null,md=!1,e)throw Error(H(300));return t}function Ug(){var t=Fl!==0;return Fl=0,t}function yr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function Bn(){if(_t===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=Rt===null?st.memoizedState:Rt.next;if(e!==null)Rt=e,_t=t;else{if(t===null)throw Error(H(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},Rt===null?st.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function $l(t,e){return typeof e=="function"?e(t):e}function Vh(t){var e=Bn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if(($o&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=r):c=c.next=f,st.lanes|=d,Uo|=d}u=u.next}while(u!==null&&u!==o);c===null?i=r:c.next=a,or(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=i,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,st.lanes|=o,Uo|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Lh(t){var e=Bn(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=t(o,i.action),i=i.next;while(i!==s);or(o,e.memoizedState)||(hn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function S1(){}function b1(t,e){var n=st,r=Bn(),s=e(),o=!or(r.memoizedState,s);if(o&&(r.memoizedState=s,hn=!0),r=r.queue,Bg(R1.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,Ul(9,I1.bind(null,n,r,s,e),void 0,null),Pt===null)throw Error(H(349));$o&30||C1(n,e,s)}return s}function C1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function I1(t,e,n,r){e.value=n,e.getSnapshot=r,A1(e)&&P1(t)}function R1(t,e,n){return n(function(){A1(e)&&P1(t)})}function A1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!or(t,n)}catch{return!0}}function P1(t){var e=Jr(t,1);e!==null&&rr(e,t,1,-1)}function Jw(t){var e=yr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$l,lastRenderedState:t},e.queue=t,t=t.dispatch=lN.bind(null,st,t),[e.memoizedState,t]}function Ul(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N1(){return Bn().memoizedState}function Ou(t,e,n,r){var s=yr();st.flags|=t,s.memoizedState=Ul(1|e,n,void 0,r===void 0?null:r)}function lf(t,e,n,r){var s=Bn();r=r===void 0?null:r;var o=void 0;if(_t!==null){var i=_t.memoizedState;if(o=i.destroy,r!==null&&Fg(r,i.deps)){s.memoizedState=Ul(e,n,o,r);return}}st.flags|=t,s.memoizedState=Ul(1|e,n,o,r)}function Zw(t,e){return Ou(8390656,8,t,e)}function Bg(t,e){return lf(2048,8,t,e)}function k1(t,e){return lf(4,2,t,e)}function D1(t,e){return lf(4,4,t,e)}function O1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M1(t,e,n){return n=n!=null?n.concat([t]):null,lf(4,4,O1.bind(null,e,t),n)}function zg(){}function V1(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L1(t,e){var n=Bn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Fg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function j1(t,e,n){return $o&21?(or(n,e)||(n=zE(),st.lanes|=n,Uo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function iN(t,e){var n=Le;Le=n!==0&&4>n?n:4,t(!0);var r=Mh.transition;Mh.transition={};try{t(!1),e()}finally{Le=n,Mh.transition=r}}function F1(){return Bn().memoizedState}function aN(t,e,n){var r=Fs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$1(t))U1(e,n);else if(n=x1(t,e,n,r),n!==null){var s=rn();rr(n,t,r,s),B1(n,e,r)}}function lN(t,e,n){var r=Fs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($1(t))U1(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var i=e.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,or(a,i)){var c=e.interleaved;c===null?(s.next=s,Og(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=x1(t,e,s,r),n!==null&&(s=rn(),rr(n,t,r,s),B1(n,e,r))}}function $1(t){var e=t.alternate;return t===st||e!==null&&e===st}function U1(t,e){hl=md=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_g(t,n)}}var gd={readContext:Un,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},cN={readContext:Un,useCallback:function(t,e){return yr().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:Zw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4194308,4,O1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ou(4,2,t,e)},useMemo:function(t,e){var n=yr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=yr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=aN.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=yr();return t={current:t},e.memoizedState=t},useState:Jw,useDebugValue:zg,useDeferredValue:function(t){return yr().memoizedState=t},useTransition:function(){var t=Jw(!1),e=t[0];return t=iN.bind(null,t[1]),yr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=yr();if(et){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Pt===null)throw Error(H(349));$o&30||C1(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Zw(R1.bind(null,r,o,t),[t]),r.flags|=2048,Ul(9,I1.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=yr(),e=Pt.identifierPrefix;if(et){var n=Gr,r=Kr;n=(r&~(1<<32-nr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uN={readContext:Un,useCallback:V1,useContext:Un,useEffect:Bg,useImperativeHandle:M1,useInsertionEffect:k1,useLayoutEffect:D1,useMemo:L1,useReducer:Vh,useRef:N1,useState:function(){return Vh($l)},useDebugValue:zg,useDeferredValue:function(t){var e=Bn();return j1(e,_t.memoizedState,t)},useTransition:function(){var t=Vh($l)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:S1,useSyncExternalStore:b1,useId:F1,unstable_isNewReconciler:!1},dN={readContext:Un,useCallback:V1,useContext:Un,useEffect:Bg,useImperativeHandle:M1,useInsertionEffect:k1,useLayoutEffect:D1,useMemo:L1,useReducer:Lh,useRef:N1,useState:function(){return Lh($l)},useDebugValue:zg,useDeferredValue:function(t){var e=Bn();return _t===null?e.memoizedState=t:j1(e,_t.memoizedState,t)},useTransition:function(){var t=Lh($l)[0],e=Bn().memoizedState;return[t,e]},useMutableSource:S1,useSyncExternalStore:b1,useId:F1,unstable_isNewReconciler:!1};function Yn(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function qp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var cf={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=rn(),s=Fs(t),o=Qr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ls(t,o,s),e!==null&&(rr(e,t,s,r),ku(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=rn(),s=Fs(t),o=Qr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ls(t,o,s),e!==null&&(rr(e,t,s,r),ku(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=rn(),r=Fs(t),s=Qr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(rr(e,t,r,n),ku(e,t,r))}};function e0(t,e,n,r,s,o,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,i):e.prototype&&e.prototype.isPureReactComponent?!Dl(n,r)||!Dl(s,o):!0}function z1(t,e,n){var r=!1,s=Qs,o=e.contextType;return typeof o=="object"&&o!==null?o=Un(o):(s=mn(e)?jo:Yt.current,r=e.contextTypes,o=(r=r!=null)?na(t,s):Qs),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function t0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&cf.enqueueReplaceState(e,e.state,null)}function Kp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Mg(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Un(o):(o=mn(e)?jo:Yt.current,s.context=na(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(qp(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&cf.enqueueReplaceState(s,s.state,null),hd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ia(t,e){try{var n="",r=e;do n+=FA(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function jh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fN=typeof WeakMap=="function"?WeakMap:Map;function W1(t,e,n){n=Qr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vd||(vd=!0,sm=r),Gp(t,e)},n}function H1(t,e,n){n=Qr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Gp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(js===null?js=new Set([this]):js.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),n}function n0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=CN.bind(null,t,e,n),e.then(t,t))}function r0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s0(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Qr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var hN=is.ReactCurrentOwner,hn=!1;function en(t,e,n,r){e.child=t===null?_1(e,null,n,r):sa(e,t.child,n,r)}function o0(t,e,n,r,s){n=n.render;var o=e.ref;return Oi(e,s),r=$g(t,e,n,r,o,s),n=Ug(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(et&&n&&Rg(e),e.flags|=1,en(t,e,r,s),e.child)}function i0(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!Xg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,q1(t,e,o,r,s)):(t=ju(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Dl,n(i,r)&&t.ref===e.ref)return Zr(t,e,s)}return e.flags|=1,t=$s(o,r),t.ref=e.ref,t.return=e,e.child=t}function q1(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(Dl(o,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Zr(t,e,s)}return Qp(t,e,n,r,s)}function K1(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ai,En),En|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,qe(Ai,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,qe(Ai,En),En|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,qe(Ai,En),En|=r;return en(t,e,s,n),e.child}function G1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Qp(t,e,n,r,s){var o=mn(n)?jo:Yt.current;return o=na(e,o),Oi(e,s),n=$g(t,e,n,r,o,s),r=Ug(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Zr(t,e,s)):(et&&r&&Rg(e),e.flags|=1,en(t,e,n,s),e.child)}function a0(t,e,n,r,s){if(mn(n)){var o=!0;ld(e)}else o=!1;if(Oi(e,s),e.stateNode===null)Mu(t,e),z1(e,n,r),Kp(e,n,r,s),r=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var c=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Un(u):(u=mn(n)?jo:Yt.current,u=na(e,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||c!==u)&&t0(e,i,r,u),ws=!1;var h=e.memoizedState;i.state=h,hd(e,r,i,s),c=e.memoizedState,a!==r||h!==c||pn.current||ws?(typeof d=="function"&&(qp(e,n,d,r),c=e.memoizedState),(a=ws||e0(e,n,a,r,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),i.props=r,i.state=c,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{i=e.stateNode,E1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Yn(e.type,a),i.props=u,f=e.pendingProps,h=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=Un(c):(c=mn(n)?jo:Yt.current,c=na(e,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||h!==c)&&t0(e,i,r,c),ws=!1,h=e.memoizedState,i.state=h,hd(e,r,i,s);var S=e.memoizedState;a!==f||h!==S||pn.current||ws?(typeof m=="function"&&(qp(e,n,m,r),S=e.memoizedState),(u=ws||e0(e,n,u,r,h,S,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,S,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,S,c)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),i.props=r,i.state=S,i.context=c,r=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Yp(t,e,n,r,o,s)}function Yp(t,e,n,r,s,o){G1(t,e);var i=(e.flags&128)!==0;if(!r&&!i)return s&&qw(e,n,!1),Zr(t,e,o);r=e.stateNode,hN.current=e;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&i?(e.child=sa(e,t.child,null,o),e.child=sa(e,null,a,o)):en(t,e,a,o),e.memoizedState=r.state,s&&qw(e,n,!0),e.child}function Q1(t){var e=t.stateNode;e.pendingContext?Hw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hw(t,e.context,!1),Vg(t,e.containerInfo)}function l0(t,e,n,r,s){return ra(),Pg(s),e.flags|=256,en(t,e,n,r),e.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Jp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y1(t,e,n){var r=e.pendingProps,s=rt.current,o=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),qe(rt,s&1),t===null)return Wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=r.children,t=r.fallback,o?(r=e.mode,o=e.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=ff(i,r,0,null),t=Lo(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Jp(n),e.memoizedState=Xp,t):Wg(e,i));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return pN(t,e,i,r,a,s,n);if(o){o=r.fallback,i=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=$s(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=$s(a,o):(o=Lo(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,i=t.child.memoizedState,i=i===null?Jp(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=t.childLanes&~n,e.memoizedState=Xp,r}return o=t.child,t=o.sibling,r=$s(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Wg(t,e){return e=ff({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function iu(t,e,n,r){return r!==null&&Pg(r),sa(e,t.child,null,n),t=Wg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pN(t,e,n,r,s,o,i){if(n)return e.flags&256?(e.flags&=-257,r=jh(Error(H(422))),iu(t,e,i,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=ff({mode:"visible",children:r.children},s,0,null),o=Lo(o,s,i,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sa(e,t.child,null,i),e.child.memoizedState=Jp(i),e.memoizedState=Xp,o);if(!(e.mode&1))return iu(t,e,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(H(419)),r=jh(o,r,void 0),iu(t,e,i,r)}if(a=(i&t.childLanes)!==0,hn||a){if(r=Pt,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Jr(t,s),rr(r,t,s,-1))}return Yg(),r=jh(Error(H(421))),iu(t,e,i,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=IN.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Sn=Vs(s.nextSibling),Cn=e,et=!0,tr=null,t!==null&&(Mn[Vn++]=Kr,Mn[Vn++]=Gr,Mn[Vn++]=Fo,Kr=t.id,Gr=t.overflow,Fo=e),e=Wg(e,r.children),e.flags|=4096,e)}function c0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Hp(t.return,e,n)}function Fh(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function X1(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(en(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&c0(t,n,e);else if(t.tag===19)c0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(qe(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Fh(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Fh(e,!0,n,null,o);break;case"together":Fh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Uo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=$s(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=$s(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function mN(t,e,n){switch(e.tag){case 3:Q1(e),ra();break;case 5:T1(e);break;case 1:mn(e.type)&&ld(e);break;case 4:Vg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;qe(dd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(qe(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?Y1(t,e,n):(qe(rt,rt.current&1),t=Zr(t,e,n),t!==null?t.sibling:null);qe(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X1(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),qe(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,K1(t,e,n)}return Zr(t,e,n)}var J1,Zp,Z1,eT;J1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Zp=function(){};Z1=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ro(Rr.current);var o=null;switch(n){case"input":s=xp(t,s),r=xp(t,r),o=[];break;case"select":s=ot({},s,{value:void 0}),r=ot({},r,{value:void 0}),o=[];break;case"textarea":s=Sp(t,s),r=Sp(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=id)}Cp(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Cl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(o||(o=[]),o.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Cl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Qe("scroll",t),o||a===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};eT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qa(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function gN(t,e,n){var r=e.pendingProps;switch(Ag(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return mn(e.type)&&ad(),zt(e),null;case 3:return r=e.stateNode,oa(),Xe(pn),Xe(Yt),jg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(su(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,tr!==null&&(am(tr),tr=null))),Zp(t,e),zt(e),null;case 5:Lg(e);var s=Ro(jl.current);if(n=e.type,t!==null&&e.stateNode!=null)Z1(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return zt(e),null}if(t=Ro(Rr.current),su(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[Vl]=o,t=(e.mode&1)!==0,n){case"dialog":Qe("cancel",r),Qe("close",r);break;case"iframe":case"object":case"embed":Qe("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)Qe(rl[s],r);break;case"source":Qe("error",r);break;case"img":case"image":case"link":Qe("error",r),Qe("load",r);break;case"details":Qe("toggle",r);break;case"input":vw(r,o),Qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Qe("invalid",r);break;case"textarea":_w(r,o),Qe("invalid",r)}Cp(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ru(r.textContent,a,t),s=["children",""+a]):Cl.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Qe("scroll",r)}switch(n){case"input":Qc(r),ww(r,o,!0);break;case"textarea":Qc(r),xw(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=id)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=i.createElement(n,{is:r.is}):(t=i.createElement(n),n==="select"&&(i=t,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):t=i.createElementNS(t,n),t[Sr]=e,t[Vl]=r,J1(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ip(n,r),n){case"dialog":Qe("cancel",t),Qe("close",t),s=r;break;case"iframe":case"object":case"embed":Qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)Qe(rl[s],t);s=r;break;case"source":Qe("error",t),s=r;break;case"img":case"image":case"link":Qe("error",t),Qe("load",t),s=r;break;case"details":Qe("toggle",t),s=r;break;case"input":vw(t,r),s=xp(t,r),Qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ot({},r,{value:void 0}),Qe("invalid",t);break;case"textarea":_w(t,r),s=Sp(t,r),Qe("invalid",t);break;default:s=r}Cp(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?NE(t,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AE(t,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Il(t,c):typeof c=="number"&&Il(t,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cl.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Qe("scroll",t):c!=null&&pg(t,o,c,i))}switch(n){case"input":Qc(t),ww(t,r,!1);break;case"textarea":Qc(t),xw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Gs(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Pi(t,!!r.multiple,o,!1):r.defaultValue!=null&&Pi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)eT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=Ro(jl.current),Ro(Rr.current),su(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Cn,t!==null))switch(t.tag){case 3:ru(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ru(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return zt(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Sn!==null&&e.mode&1&&!(e.flags&128))v1(),ra(),e.flags|=98560,o=!1;else if(o=su(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(H(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(H(317));o[Sr]=e}else ra(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),o=!1}else tr!==null&&(am(tr),tr=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?Et===0&&(Et=3):Yg())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return oa(),Zp(t,e),t===null&&Ol(e.stateNode.containerInfo),zt(e),null;case 10:return Dg(e.type._context),zt(e),null;case 17:return mn(e.type)&&ad(),zt(e),null;case 19:if(Xe(rt),o=e.memoizedState,o===null)return zt(e),null;if(r=(e.flags&128)!==0,i=o.rendering,i===null)if(r)Qa(o,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=pd(t),i!==null){for(e.flags|=128,Qa(o,!1),r=i.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,t=i.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return qe(rt,rt.current&1|2),e.child}t=t.sibling}o.tail!==null&&ft()>aa&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304)}else{if(!r)if(t=pd(i),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!et)return zt(e),null}else 2*ft()-o.renderingStartTime>aa&&n!==1073741824&&(e.flags|=128,r=!0,Qa(o,!1),e.lanes=4194304);o.isBackwards?(i.sibling=e.child,e.child=i):(n=o.last,n!==null?n.sibling=i:e.child=i,o.last=i)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ft(),e.sibling=null,n=rt.current,qe(rt,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return Qg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function yN(t,e){switch(Ag(e),e.tag){case 1:return mn(e.type)&&ad(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return oa(),Xe(pn),Xe(Yt),jg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Lg(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));ra()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return oa(),null;case 10:return Dg(e.type._context),null;case 22:case 23:return Qg(),null;case 24:return null;default:return null}}var au=!1,Gt=!1,vN=typeof WeakSet=="function"?WeakSet:Set,te=null;function Ri(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ct(t,e,r)}else n.current=null}function em(t,e,n){try{n()}catch(r){ct(t,e,r)}}var u0=!1;function wN(t,e){if(Lp=rd,t=o1(),Ig(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=t,h=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=i+s),f!==o||r!==0&&f.nodeType!==3||(c=i+r),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===s&&(a=i),h===o&&++d===r&&(c=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(jp={focusedElem:t,selectionRange:n},rd=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var v=S.memoizedProps,E=S.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?v:Yn(e.type,v),E);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(N){ct(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return S=u0,u0=!1,S}function pl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&em(e,n,o)}s=s.next}while(s!==r)}}function uf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tT(t){var e=t.alternate;e!==null&&(t.alternate=null,tT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Vl],delete e[Up],delete e[tN],delete e[nN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nT(t){return t.tag===5||t.tag===3||t.tag===4}function d0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=id));else if(r!==4&&(t=t.child,t!==null))for(nm(t,e,n),t=t.sibling;t!==null;)nm(t,e,n),t=t.sibling}function rm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rm(t,e,n),t=t.sibling;t!==null;)rm(t,e,n),t=t.sibling}var kt=null,er=!1;function hs(t,e,n){for(n=n.child;n!==null;)rT(t,e,n),n=n.sibling}function rT(t,e,n){if(Ir&&typeof Ir.onCommitFiberUnmount=="function")try{Ir.onCommitFiberUnmount(tf,n)}catch{}switch(n.tag){case 5:Gt||Ri(n,e);case 6:var r=kt,s=er;kt=null,hs(t,e,n),kt=r,er=s,kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(er?(t=kt,n=n.stateNode,t.nodeType===8?kh(t.parentNode,n):t.nodeType===1&&kh(t,n),Nl(t)):kh(kt,n.stateNode));break;case 4:r=kt,s=er,kt=n.stateNode.containerInfo,er=!0,hs(t,e,n),kt=r,er=s;break;case 0:case 11:case 14:case 15:if(!Gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&em(n,e,i),s=s.next}while(s!==r)}hs(t,e,n);break;case 1:if(!Gt&&(Ri(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ct(n,e,a)}hs(t,e,n);break;case 21:hs(t,e,n);break;case 22:n.mode&1?(Gt=(r=Gt)||n.memoizedState!==null,hs(t,e,n),Gt=r):hs(t,e,n);break;default:hs(t,e,n)}}function f0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new vN),e.forEach(function(r){var s=RN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Kn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:kt=a.stateNode,er=!1;break e;case 3:kt=a.stateNode.containerInfo,er=!0;break e;case 4:kt=a.stateNode.containerInfo,er=!0;break e}a=a.return}if(kt===null)throw Error(H(160));rT(o,i,s),kt=null,er=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ct(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sT(e,t),e=e.sibling}function sT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Kn(e,t),gr(t),r&4){try{pl(3,t,t.return),uf(3,t)}catch(v){ct(t,t.return,v)}try{pl(5,t,t.return)}catch(v){ct(t,t.return,v)}}break;case 1:Kn(e,t),gr(t),r&512&&n!==null&&Ri(n,n.return);break;case 5:if(Kn(e,t),gr(t),r&512&&n!==null&&Ri(n,n.return),t.flags&32){var s=t.stateNode;try{Il(s,"")}catch(v){ct(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,i=n!==null?n.memoizedProps:o,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&CE(s,o),Ip(a,i);var u=Ip(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?NE(s,f):d==="dangerouslySetInnerHTML"?AE(s,f):d==="children"?Il(s,f):pg(s,d,f,u)}switch(a){case"input":Ep(s,o);break;case"textarea":IE(s,o);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?Pi(s,!!o.multiple,m,!1):h!==!!o.multiple&&(o.defaultValue!=null?Pi(s,!!o.multiple,o.defaultValue,!0):Pi(s,!!o.multiple,o.multiple?[]:"",!1))}s[Vl]=o}catch(v){ct(t,t.return,v)}}break;case 6:if(Kn(e,t),gr(t),r&4){if(t.stateNode===null)throw Error(H(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(v){ct(t,t.return,v)}}break;case 3:if(Kn(e,t),gr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Nl(e.containerInfo)}catch(v){ct(t,t.return,v)}break;case 4:Kn(e,t),gr(t);break;case 13:Kn(e,t),gr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Kg=ft())),r&4&&f0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Gt=(u=Gt)||d,Kn(e,t),Gt=u):Kn(e,t),gr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(te=t,d=t.child;d!==null;){for(f=te=d;te!==null;){switch(h=te,m=h.child,h.tag){case 0:case 11:case 14:case 15:pl(4,h,h.return);break;case 1:Ri(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(v){ct(r,n,v)}}break;case 5:Ri(h,h.return);break;case 22:if(h.memoizedState!==null){p0(f);continue}}m!==null?(m.return=h,te=m):p0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=PE("display",i))}catch(v){ct(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ct(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Kn(e,t),gr(t),r&4&&f0(t);break;case 21:break;default:Kn(e,t),gr(t)}}function gr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nT(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Il(s,""),r.flags&=-33);var o=d0(t);rm(t,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=d0(t);nm(t,a,i);break;default:throw Error(H(161))}}catch(c){ct(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function _N(t,e,n){te=t,oT(t)}function oT(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||au;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Gt;a=au;var u=Gt;if(au=i,(Gt=c)&&!u)for(te=s;te!==null;)i=te,c=i.child,i.tag===22&&i.memoizedState!==null?m0(s):c!==null?(c.return=i,te=c):m0(s);for(;o!==null;)te=o,oT(o),o=o.sibling;te=s,au=a,Gt=u}h0(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,te=o):h0(t)}}function h0(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gt||uf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Yn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Xw(e,o,r);break;case 3:var i=e.updateQueue;if(i!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Xw(e,i,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Nl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}Gt||e.flags&512&&tm(e)}catch(h){ct(e,e.return,h)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function p0(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function m0(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{uf(4,e)}catch(c){ct(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ct(e,s,c)}}var o=e.return;try{tm(e)}catch(c){ct(e,o,c)}break;case 5:var i=e.return;try{tm(e)}catch(c){ct(e,i,c)}}}catch(c){ct(e,e.return,c)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var xN=Math.ceil,yd=is.ReactCurrentDispatcher,Hg=is.ReactCurrentOwner,$n=is.ReactCurrentBatchConfig,Ne=0,Pt=null,pt=null,Mt=0,En=0,Ai=ao(0),Et=0,Bl=null,Uo=0,df=0,qg=0,ml=null,dn=null,Kg=0,aa=1/0,Wr=null,vd=!1,sm=null,js=null,lu=!1,Ps=null,wd=0,gl=0,om=null,Vu=-1,Lu=0;function rn(){return Ne&6?ft():Vu!==-1?Vu:Vu=ft()}function Fs(t){return t.mode&1?Ne&2&&Mt!==0?Mt&-Mt:sN.transition!==null?(Lu===0&&(Lu=zE()),Lu):(t=Le,t!==0||(t=window.event,t=t===void 0?16:YE(t.type)),t):1}function rr(t,e,n,r){if(50<gl)throw gl=0,om=null,Error(H(185));hc(t,n,r),(!(Ne&2)||t!==Pt)&&(t===Pt&&(!(Ne&2)&&(df|=n),Et===4&&Es(t,Mt)),gn(t,r),n===1&&Ne===0&&!(e.mode&1)&&(aa=ft()+500,af&&lo()))}function gn(t,e){var n=t.callbackNode;sP(t,e);var r=nd(t,t===Pt?Mt:0);if(r===0)n!==null&&Sw(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sw(n),e===1)t.tag===0?rN(g0.bind(null,t)):m1(g0.bind(null,t)),ZP(function(){!(Ne&6)&&lo()}),n=null;else{switch(WE(r)){case 1:n=wg;break;case 4:n=UE;break;case 16:n=td;break;case 536870912:n=BE;break;default:n=td}n=hT(n,iT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iT(t,e){if(Vu=-1,Lu=0,Ne&6)throw Error(H(327));var n=t.callbackNode;if(Mi()&&t.callbackNode!==n)return null;var r=nd(t,t===Pt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_d(t,r);else{e=r;var s=Ne;Ne|=2;var o=lT();(Pt!==t||Mt!==e)&&(Wr=null,aa=ft()+500,Vo(t,e));do try{SN();break}catch(a){aT(t,a)}while(!0);kg(),yd.current=o,Ne=s,pt!==null?e=0:(Pt=null,Mt=0,e=Et)}if(e!==0){if(e===2&&(s=kp(t),s!==0&&(r=s,e=im(t,s))),e===1)throw n=Bl,Vo(t,0),Es(t,r),gn(t,ft()),n;if(e===6)Es(t,r);else{if(s=t.current.alternate,!(r&30)&&!EN(s)&&(e=_d(t,r),e===2&&(o=kp(t),o!==0&&(r=o,e=im(t,o))),e===1))throw n=Bl,Vo(t,0),Es(t,r),gn(t,ft()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:So(t,dn,Wr);break;case 3:if(Es(t,r),(r&130023424)===r&&(e=Kg+500-ft(),10<e)){if(nd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){rn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=$p(So.bind(null,t,dn,Wr),e);break}So(t,dn,Wr);break;case 4:if(Es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var i=31-nr(r);o=1<<i,i=e[i],i>s&&(s=i),r&=~o}if(r=s,r=ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xN(r/1960))-r,10<r){t.timeoutHandle=$p(So.bind(null,t,dn,Wr),r);break}So(t,dn,Wr);break;case 5:So(t,dn,Wr);break;default:throw Error(H(329))}}}return gn(t,ft()),t.callbackNode===n?iT.bind(null,t):null}function im(t,e){var n=ml;return t.current.memoizedState.isDehydrated&&(Vo(t,e).flags|=256),t=_d(t,e),t!==2&&(e=dn,dn=n,e!==null&&am(e)),t}function am(t){dn===null?dn=t:dn.push.apply(dn,t)}function EN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!or(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~qg,e&=~df,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-nr(e),r=1<<n;t[n]=-1,e&=~r}}function g0(t){if(Ne&6)throw Error(H(327));Mi();var e=nd(t,0);if(!(e&1))return gn(t,ft()),null;var n=_d(t,e);if(t.tag!==0&&n===2){var r=kp(t);r!==0&&(e=r,n=im(t,r))}if(n===1)throw n=Bl,Vo(t,0),Es(t,e),gn(t,ft()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,So(t,dn,Wr),gn(t,ft()),null}function Gg(t,e){var n=Ne;Ne|=1;try{return t(e)}finally{Ne=n,Ne===0&&(aa=ft()+500,af&&lo())}}function Bo(t){Ps!==null&&Ps.tag===0&&!(Ne&6)&&Mi();var e=Ne;Ne|=1;var n=$n.transition,r=Le;try{if($n.transition=null,Le=1,t)return t()}finally{Le=r,$n.transition=n,Ne=e,!(Ne&6)&&lo()}}function Qg(){En=Ai.current,Xe(Ai)}function Vo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,JP(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Ag(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ad();break;case 3:oa(),Xe(pn),Xe(Yt),jg();break;case 5:Lg(r);break;case 4:oa();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:Dg(r.type._context);break;case 22:case 23:Qg()}n=n.return}if(Pt=t,pt=t=$s(t.current,null),Mt=En=e,Et=0,Bl=null,qg=df=Uo=0,dn=ml=null,Io!==null){for(e=0;e<Io.length;e++)if(n=Io[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Io=null}return t}function aT(t,e){do{var n=pt;try{if(kg(),Du.current=gd,md){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}md=!1}if($o=0,Rt=_t=st=null,hl=!1,Fl=0,Hg.current=null,n===null||n.return===null){Et=1,Bl=e,pt=null;break}e:{var o=t,i=n.return,a=n,c=e;if(e=Mt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=r0(i);if(m!==null){m.flags&=-257,s0(m,i,a,o,e),m.mode&1&&n0(o,u,e),e=m,c=u;var S=e.updateQueue;if(S===null){var v=new Set;v.add(c),e.updateQueue=v}else S.add(c);break e}else{if(!(e&1)){n0(o,u,e),Yg();break e}c=Error(H(426))}}else if(et&&a.mode&1){var E=r0(i);if(E!==null){!(E.flags&65536)&&(E.flags|=256),s0(E,i,a,o,e),Pg(ia(c,a));break e}}o=c=ia(c,a),Et!==4&&(Et=2),ml===null?ml=[o]:ml.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=W1(o,c,e);Yw(o,x);break e;case 1:a=c;var w=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(js===null||!js.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=H1(o,a,e);Yw(o,N);break e}}o=o.return}while(o!==null)}uT(n)}catch(O){e=O,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(!0)}function lT(){var t=yd.current;return yd.current=gd,t===null?gd:t}function Yg(){(Et===0||Et===3||Et===2)&&(Et=4),Pt===null||!(Uo&268435455)&&!(df&268435455)||Es(Pt,Mt)}function _d(t,e){var n=Ne;Ne|=2;var r=lT();(Pt!==t||Mt!==e)&&(Wr=null,Vo(t,e));do try{TN();break}catch(s){aT(t,s)}while(!0);if(kg(),Ne=n,yd.current=r,pt!==null)throw Error(H(261));return Pt=null,Mt=0,Et}function TN(){for(;pt!==null;)cT(pt)}function SN(){for(;pt!==null&&!QA();)cT(pt)}function cT(t){var e=fT(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?uT(t):pt=e,Hg.current=null}function uT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yN(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,pt=null;return}}else if(n=gN(n,e,En),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);Et===0&&(Et=5)}function So(t,e,n){var r=Le,s=$n.transition;try{$n.transition=null,Le=1,bN(t,e,n,r)}finally{$n.transition=s,Le=r}return null}function bN(t,e,n,r){do Mi();while(Ps!==null);if(Ne&6)throw Error(H(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(oP(t,o),t===Pt&&(pt=Pt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||lu||(lu=!0,hT(td,function(){return Mi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=$n.transition,$n.transition=null;var i=Le;Le=1;var a=Ne;Ne|=4,Hg.current=null,wN(t,n),sT(n,t),HP(jp),rd=!!Lp,jp=Lp=null,t.current=n,_N(n),YA(),Ne=a,Le=i,$n.transition=o}else t.current=n;if(lu&&(lu=!1,Ps=t,wd=s),o=t.pendingLanes,o===0&&(js=null),ZA(n.stateNode),gn(t,ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vd)throw vd=!1,t=sm,sm=null,t;return wd&1&&t.tag!==0&&Mi(),o=t.pendingLanes,o&1?t===om?gl++:(gl=0,om=t):gl=0,lo(),null}function Mi(){if(Ps!==null){var t=WE(wd),e=$n.transition,n=Le;try{if($n.transition=null,Le=16>t?16:t,Ps===null)var r=!1;else{if(t=Ps,Ps=null,wd=0,Ne&6)throw Error(H(331));var s=Ne;for(Ne|=4,te=t.current;te!==null;){var o=te,i=o.child;if(te.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(te=u;te!==null;){var d=te;switch(d.tag){case 0:case 11:case 15:pl(8,d,o)}var f=d.child;if(f!==null)f.return=d,te=f;else for(;te!==null;){d=te;var h=d.sibling,m=d.return;if(tT(d),d===u){te=null;break}if(h!==null){h.return=m,te=h;break}te=m}}}var S=o.alternate;if(S!==null){var v=S.child;if(v!==null){S.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}te=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,te=i;else e:for(;te!==null;){if(o=te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:pl(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,te=x;break e}te=o.return}}var w=t.current;for(te=w;te!==null;){i=te;var T=i.child;if(i.subtreeFlags&2064&&T!==null)T.return=i,te=T;else e:for(i=w;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:uf(9,a)}}catch(O){ct(a,a.return,O)}if(a===i){te=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,te=N;break e}te=a.return}}if(Ne=s,lo(),Ir&&typeof Ir.onPostCommitFiberRoot=="function")try{Ir.onPostCommitFiberRoot(tf,t)}catch{}r=!0}return r}finally{Le=n,$n.transition=e}}return!1}function y0(t,e,n){e=ia(n,e),e=W1(t,e,1),t=Ls(t,e,1),e=rn(),t!==null&&(hc(t,1,e),gn(t,e))}function ct(t,e,n){if(t.tag===3)y0(t,t,n);else for(;e!==null;){if(e.tag===3){y0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(js===null||!js.has(r))){t=ia(n,t),t=H1(e,t,1),e=Ls(e,t,1),t=rn(),e!==null&&(hc(e,1,t),gn(e,t));break}}e=e.return}}function CN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=rn(),t.pingedLanes|=t.suspendedLanes&n,Pt===t&&(Mt&n)===n&&(Et===4||Et===3&&(Mt&130023424)===Mt&&500>ft()-Kg?Vo(t,0):qg|=n),gn(t,e)}function dT(t,e){e===0&&(t.mode&1?(e=Jc,Jc<<=1,!(Jc&130023424)&&(Jc=4194304)):e=1);var n=rn();t=Jr(t,e),t!==null&&(hc(t,e,n),gn(t,n))}function IN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),dT(t,n)}function RN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),dT(t,n)}var fT;fT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,mN(t,e,n);hn=!!(t.flags&131072)}else hn=!1,et&&e.flags&1048576&&g1(e,ud,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var s=na(e,Yt.current);Oi(e,n),s=$g(null,e,r,t,s,n);var o=Ug();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(o=!0,ld(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Mg(e),s.updater=cf,e.stateNode=s,s._reactInternals=e,Kp(e,r,t,n),e=Yp(null,e,r,!0,o,n)):(e.tag=0,et&&o&&Rg(e),en(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=PN(r),t=Yn(r,t),s){case 0:e=Qp(null,e,r,t,n);break e;case 1:e=a0(null,e,r,t,n);break e;case 11:e=o0(null,e,r,t,n);break e;case 14:e=i0(null,e,r,Yn(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Qp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),a0(t,e,r,s,n);case 3:e:{if(Q1(e),t===null)throw Error(H(387));r=e.pendingProps,o=e.memoizedState,s=o.element,E1(t,e),hd(e,r,null,n);var i=e.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=ia(Error(H(423)),e),e=l0(t,e,r,n,s);break e}else if(r!==s){s=ia(Error(H(424)),e),e=l0(t,e,r,n,s);break e}else for(Sn=Vs(e.stateNode.containerInfo.firstChild),Cn=e,et=!0,tr=null,n=_1(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ra(),r===s){e=Zr(t,e,n);break e}en(t,e,r,n)}e=e.child}return e;case 5:return T1(e),t===null&&Wp(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,i=s.children,Fp(r,s)?i=null:o!==null&&Fp(r,o)&&(e.flags|=32),G1(t,e),en(t,e,i,n),e.child;case 6:return t===null&&Wp(e),null;case 13:return Y1(t,e,n);case 4:return Vg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sa(e,null,r,n):en(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),o0(t,e,r,s,n);case 7:return en(t,e,e.pendingProps,n),e.child;case 8:return en(t,e,e.pendingProps.children,n),e.child;case 12:return en(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,i=s.value,qe(dd,r._currentValue),r._currentValue=i,o!==null)if(or(o.value,i)){if(o.children===s.children&&!pn.current){e=Zr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Qr(-1,n&-n),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Hp(o.return,n,e),a.lanes|=n;break}c=c.next}}else if(o.tag===10)i=o.type===e.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(H(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Hp(i,n,e),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===e){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}en(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oi(e,n),s=Un(s),r=r(s),e.flags|=1,en(t,e,r,n),e.child;case 14:return r=e.type,s=Yn(r,e.pendingProps),s=Yn(r.type,s),i0(t,e,r,s,n);case 15:return q1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Yn(r,s),Mu(t,e),e.tag=1,mn(r)?(t=!0,ld(e)):t=!1,Oi(e,n),z1(e,r,s),Kp(e,r,s,n),Yp(null,e,r,!0,t,n);case 19:return X1(t,e,n);case 22:return K1(t,e,n)}throw Error(H(156,e.tag))};function hT(t,e){return $E(t,e)}function AN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new AN(t,e,n,r)}function Xg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PN(t){if(typeof t=="function")return Xg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gg)return 11;if(t===yg)return 14}return 2}function $s(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ju(t,e,n,r,s,o){var i=2;if(r=t,typeof t=="function")Xg(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case wi:return Lo(n.children,s,o,e);case mg:i=8,s|=8;break;case yp:return t=jn(12,n,e,s|2),t.elementType=yp,t.lanes=o,t;case vp:return t=jn(13,n,e,s),t.elementType=vp,t.lanes=o,t;case wp:return t=jn(19,n,e,s),t.elementType=wp,t.lanes=o,t;case TE:return ff(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xE:i=10;break e;case EE:i=9;break e;case gg:i=11;break e;case yg:i=14;break e;case vs:i=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=jn(i,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function Lo(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function ff(t,e,n,r){return t=jn(22,t,r,e),t.elementType=TE,t.lanes=n,t.stateNode={isHidden:!1},t}function $h(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function Uh(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function NN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Jg(t,e,n,r,s,o,i,a,c){return t=new NN(t,e,n,a,c),e===1?(e=1,o===!0&&(e|=8)):e=0,o=jn(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mg(o),t}function kN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pT(t){if(!t)return Qs;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(mn(n))return p1(t,n,e)}return e}function mT(t,e,n,r,s,o,i,a,c){return t=Jg(n,r,!0,t,s,o,i,a,c),t.context=pT(null),n=t.current,r=rn(),s=Fs(n),o=Qr(r,s),o.callback=e??null,Ls(n,o,s),t.current.lanes=s,hc(t,s,r),gn(t,r),t}function hf(t,e,n,r){var s=e.current,o=rn(),i=Fs(s);return n=pT(n),e.context===null?e.context=n:e.pendingContext=n,e=Qr(o,i),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,i),t!==null&&(rr(t,s,i,o),ku(t,s,i)),i}function xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function v0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Zg(t,e){v0(t,e),(t=t.alternate)&&v0(t,e)}function DN(){return null}var gT=typeof reportError=="function"?reportError:function(t){console.error(t)};function ey(t){this._internalRoot=t}pf.prototype.render=ey.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));hf(t,e,null,null)};pf.prototype.unmount=ey.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bo(function(){hf(null,t,null,null)}),e[Xr]=null}};function pf(t){this._internalRoot=t}pf.prototype.unstable_scheduleHydration=function(t){if(t){var e=KE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xs.length&&e!==0&&e<xs[n].priority;n++);xs.splice(n,0,t),n===0&&QE(t)}};function ty(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function w0(){}function ON(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=xd(i);o.call(u)}}var i=mT(e,r,t,0,null,!1,!1,"",w0);return t._reactRootContainer=i,t[Xr]=i.current,Ol(t.nodeType===8?t.parentNode:t),Bo(),i}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=xd(c);a.call(u)}}var c=Jg(t,0,!1,null,null,!1,!1,"",w0);return t._reactRootContainer=c,t[Xr]=c.current,Ol(t.nodeType===8?t.parentNode:t),Bo(function(){hf(e,c,n,r)}),c}function gf(t,e,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=xd(i);a.call(c)}}hf(e,i,t,s)}else i=ON(n,e,t,s,r);return xd(i)}HE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(_g(e,n|1),gn(e,ft()),!(Ne&6)&&(aa=ft()+500,lo()))}break;case 13:Bo(function(){var r=Jr(t,1);if(r!==null){var s=rn();rr(r,t,1,s)}}),Zg(t,1)}};xg=function(t){if(t.tag===13){var e=Jr(t,134217728);if(e!==null){var n=rn();rr(e,t,134217728,n)}Zg(t,134217728)}};qE=function(t){if(t.tag===13){var e=Fs(t),n=Jr(t,e);if(n!==null){var r=rn();rr(n,t,e,r)}Zg(t,e)}};KE=function(){return Le};GE=function(t,e){var n=Le;try{return Le=t,e()}finally{Le=n}};Ap=function(t,e,n){switch(e){case"input":if(Ep(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=of(r);if(!s)throw Error(H(90));bE(r),Ep(r,s)}}}break;case"textarea":IE(t,n);break;case"select":e=n.value,e!=null&&Pi(t,!!n.multiple,e,!1)}};OE=Gg;ME=Bo;var MN={usingClientEntryPoint:!1,Events:[mc,Ti,of,kE,DE,Gg]},Ya={findFiberByHostInstance:Co,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VN={bundleType:Ya.bundleType,version:Ya.version,rendererPackageName:Ya.rendererPackageName,rendererConfig:Ya.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ya.findFiberByHostInstance||DN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cu.isDisabled&&cu.supportsFiber)try{tf=cu.inject(VN),Ir=cu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ty(e))throw Error(H(200));return kN(t,e,null,n)};An.createRoot=function(t,e){if(!ty(t))throw Error(H(299));var n=!1,r="",s=gT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Jg(t,1,!1,null,null,n,!1,r,s),t[Xr]=e.current,Ol(t.nodeType===8?t.parentNode:t),new ey(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=jE(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Bo(t)};An.hydrate=function(t,e,n){if(!mf(e))throw Error(H(200));return gf(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!ty(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=gT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),e=mT(e,null,t,1,n??null,s,!1,o,i),t[Xr]=e.current,Ol(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new pf(e)};An.render=function(t,e,n){if(!mf(e))throw Error(H(200));return gf(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!mf(t))throw Error(H(40));return t._reactRootContainer?(Bo(function(){gf(null,null,t,!1,function(){t._reactRootContainer=null,t[Xr]=null})}),!0):!1};An.unstable_batchedUpdates=Gg;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!mf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return gf(t,e,n,!1,r)};An.version="18.3.1-next-f1338f8080-20240426";function yT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yT)}catch(t){console.error(t)}}yT(),yE.exports=An;var Fn=yE.exports;const vT=oE(Fn);var wT,_0=Fn;wT=_0.createRoot,_0.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}var Ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ns||(Ns={}));const x0="popstate";function LN(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:i,hash:a}=r.location;return Ed("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Wl(s)}return _T(e,n,null,t)}function jN(t){t===void 0&&(t={});function e(s,o){let{pathname:i="/",search:a="",hash:c=""}=Xo(s.location.hash.substr(1));return!i.startsWith("/")&&!i.startsWith(".")&&(i="/"+i),Ed("",{pathname:i,search:a,hash:c},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){let i=s.document.querySelector("base"),a="";if(i&&i.getAttribute("href")){let c=s.location.href,u=c.indexOf("#");a=u===-1?c:c.slice(0,u)}return a+"#"+(typeof o=="string"?o:Wl(o))}function r(s,o){ny(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return _T(e,n,r,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ny(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FN(){return Math.random().toString(36).substr(2,8)}function E0(t,e){return{usr:t.state,key:t.key,idx:e}}function Ed(t,e,n,r){return n===void 0&&(n=null),zl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xo(e):e,{state:n,key:e&&e.key||r||FN()})}function Wl(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _T(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=Ns.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(zl({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Ns.Pop;let E=d(),x=E==null?null:E-u;u=E,c&&c({action:a,location:v.location,delta:x})}function h(E,x){a=Ns.Push;let w=Ed(v.location,E,x);n&&n(w,E),u=d()+1;let T=E0(w,u),N=v.createHref(w);try{i.pushState(T,"",N)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(N)}o&&c&&c({action:a,location:v.location,delta:1})}function m(E,x){a=Ns.Replace;let w=Ed(v.location,E,x);n&&n(w,E),u=d();let T=E0(w,u),N=v.createHref(w);i.replaceState(T,"",N),o&&c&&c({action:a,location:v.location,delta:0})}function S(E){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof E=="string"?E:Wl(E);return w=w.replace(/ $/,"%20"),vt(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let v={get action(){return a},get location(){return t(s,i)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(x0,f),c=E,()=>{s.removeEventListener(x0,f),c=null}},createHref(E){return e(s,E)},createURL:S,encodeLocation(E){let x=S(E);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:h,replace:m,go(E){return i.go(E)}};return v}var T0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T0||(T0={}));function $N(t,e,n){return n===void 0&&(n="/"),UN(t,e,n)}function UN(t,e,n,r){let s=typeof e=="string"?Xo(e):e,o=ry(s.pathname||"/",n);if(o==null)return null;let i=xT(t);BN(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=ek(o);a=XN(i[c],u)}return a}function xT(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(vt(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Us([r,c.relativePath]),d=n.concat(c);o.children&&o.children.length>0&&(vt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),xT(o.children,e,d,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:QN(u,o.index),routesMeta:d})};return t.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of ET(o.path))s(o,i,c)}),e}function ET(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=ET(r.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function BN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:YN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const zN=/^:[\w-]+$/,WN=3,HN=2,qN=1,KN=10,GN=-2,S0=t=>t==="*";function QN(t,e){let n=t.split("/"),r=n.length;return n.some(S0)&&(r+=GN),e&&(r+=HN),n.filter(s=>!S0(s)).reduce((s,o)=>s+(zN.test(o)?WN:o===""?qN:KN),r)}function YN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function XN(t,e,n){let{routesMeta:r}=t,s={},o="/",i=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",f=JN({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Us([o,f.pathname]),pathnameBase:sk(Us([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Us([o,f.pathnameBase]))}return i}function JN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ZN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let v=a[f]||"";i=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const S=a[f];return m&&!S?u[h]=void 0:u[h]=(S||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:t}}function ZN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ny(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ek(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ny(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ry(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function tk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:nk(n,e):e,search:ok(r),hash:ik(s)}}function nk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TT(t,e){let n=rk(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ST(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xo(t):(s=zl({},t),vt(!s.pathname||!s.pathname.includes("?"),Bh("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Bh("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Bh("#","search","hash",s)));let o=t===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let f=e.length-1;if(!r&&i.startsWith("..")){let h=i.split("/");for(;h[0]==="..";)h.shift(),f-=1;s.pathname=h.join("/")}a=f>=0?e[f]:"/"}let c=tk(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Us=t=>t.join("/").replace(/\/\/+/g,"/"),sk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ok=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ik=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ak(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const bT=["post","put","patch","delete"];new Set(bT);const lk=["get",...bT];new Set(lk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hl(){return Hl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hl.apply(this,arguments)}const sy=g.createContext(null),ck=g.createContext(null),Jo=g.createContext(null),yf=g.createContext(null),Zo=g.createContext({outlet:null,matches:[],isDataRoute:!1}),CT=g.createContext(null);function uk(t,e){let{relative:n}=e===void 0?{}:e;yc()||vt(!1);let{basename:r,navigator:s}=g.useContext(Jo),{hash:o,pathname:i,search:a}=RT(t,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Us([r,i])),s.createHref({pathname:c,search:a,hash:o})}function yc(){return g.useContext(yf)!=null}function vc(){return yc()||vt(!1),g.useContext(yf).location}function IT(t){g.useContext(Jo).static||g.useLayoutEffect(t)}function dk(){let{isDataRoute:t}=g.useContext(Zo);return t?Sk():fk()}function fk(){yc()||vt(!1);let t=g.useContext(sy),{basename:e,future:n,navigator:r}=g.useContext(Jo),{matches:s}=g.useContext(Zo),{pathname:o}=vc(),i=JSON.stringify(TT(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return IT(()=>{a.current=!0}),g.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=ST(u,JSON.parse(i),o,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Us([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,i,o,t])}function RT(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(Jo),{matches:s}=g.useContext(Zo),{pathname:o}=vc(),i=JSON.stringify(TT(s,r.v7_relativeSplatPath));return g.useMemo(()=>ST(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function hk(t,e){return pk(t,e)}function pk(t,e,n,r){yc()||vt(!1);let{navigator:s}=g.useContext(Jo),{matches:o}=g.useContext(Zo),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=vc(),d;if(e){var f;let E=typeof e=="string"?Xo(e):e;c==="/"||(f=E.pathname)!=null&&f.startsWith(c)||vt(!1),d=E}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let E=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(E.length).join("/")}let S=$N(t,{pathname:m}),v=wk(S&&S.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:Us([c,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?c:Us([c,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),o,n,r);return e&&v?g.createElement(yf.Provider,{value:{location:Hl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ns.Pop}},v):v}function mk(){let t=Tk(),e=ak(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const gk=g.createElement(mk,null);class yk extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Zo.Provider,{value:this.props.routeContext},g.createElement(CT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vk(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(sy);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Zo.Provider,{value:e},r)}function wk(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||vt(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=n,S=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||S){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,h)=>{let m,S=!1,v=null,E=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||gk,c&&(u<0&&h===0?(bk("route-fallback"),S=!0,E=null):u===h&&(S=!0,E=f.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,h+1)),w=()=>{let T;return m?T=v:S?T=E:f.route.Component?T=g.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,g.createElement(vk,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?g.createElement(yk,{location:n.location,revalidation:n.revalidation,component:v,error:m,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var AT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(AT||{}),PT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(PT||{});function _k(t){let e=g.useContext(sy);return e||vt(!1),e}function xk(t){let e=g.useContext(ck);return e||vt(!1),e}function Ek(t){let e=g.useContext(Zo);return e||vt(!1),e}function NT(t){let e=Ek(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function Tk(){var t;let e=g.useContext(CT),n=xk(),r=NT();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Sk(){let{router:t}=_k(AT.UseNavigateStable),e=NT(PT.UseNavigateStable),n=g.useRef(!1);return IT(()=>{n.current=!0}),g.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Hl({fromRouteId:e},o)))},[t,e])}const b0={};function bk(t,e,n){b0[t]||(b0[t]=!0)}function kT(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hi(t){vt(!1)}function DT(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Ns.Pop,navigator:o,static:i=!1,future:a}=t;yc()&&vt(!1);let c=e.replace(/^\/*/,"/"),u=g.useMemo(()=>({basename:c,navigator:o,static:i,future:Hl({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof r=="string"&&(r=Xo(r));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:S="default"}=r,v=g.useMemo(()=>{let E=ry(d,c);return E==null?null:{location:{pathname:E,search:f,hash:h,state:m,key:S},navigationType:s}},[c,d,f,h,m,S,s]);return v==null?null:g.createElement(Jo.Provider,{value:u},g.createElement(yf.Provider,{children:n,value:v}))}function Ck(t){let{children:e,location:n}=t;return hk(lm(e),n)}new Promise(()=>{});function lm(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let o=[...e,s];if(r.type===g.Fragment){n.push.apply(n,lm(r.props.children,o));return}r.type!==hi&&vt(!1),!r.props.index||!r.props.children||vt(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=lm(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}function Ik(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function Rk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ak(t,e){return t.button===0&&(!e||e==="_self")&&!Rk(t)}const Pk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Nk="6";try{window.__reactRouterVersion=Nk}catch{}const kk="startTransition",Td=dg[kk];function Dk(t){let{basename:e,children:n,future:r,window:s}=t,o=g.useRef();o.current==null&&(o.current=LN({window:s,v5Compat:!0}));let i=o.current,[a,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&Td?Td(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.useEffect(()=>kT(r),[r]),g.createElement(DT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}function Ok(t){let{basename:e,children:n,future:r,window:s}=t,o=g.useRef();o.current==null&&(o.current=jN({window:s,v5Compat:!0}));let i=o.current,[a,c]=g.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=g.useCallback(f=>{u&&Td?Td(()=>c(f)):c(f)},[c,u]);return g.useLayoutEffect(()=>i.listen(d),[i,d]),g.useEffect(()=>kT(r),[r]),g.createElement(DT,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}const Mk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vi=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,h=Ik(e,Pk),{basename:m}=g.useContext(Jo),S,v=!1;if(typeof u=="string"&&Vk.test(u)&&(S=u,Mk))try{let T=new URL(window.location.href),N=u.startsWith("//")?new URL(T.protocol+u):new URL(u),O=ry(N.pathname,m);N.origin===T.origin&&O!=null?u=O+N.search+N.hash:v=!0}catch{}let E=uk(u,{relative:s}),x=Lk(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||x(T)}return g.createElement("a",cm({},h,{href:S||E,onClick:v||o?r:w,ref:n,target:c}))});var C0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(C0||(C0={}));var I0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I0||(I0={}));function Lk(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:a}=e===void 0?{}:e,c=dk(),u=vc(),d=RT(t,{relative:i});return g.useCallback(f=>{if(Ak(f,n)){f.preventDefault();let h=r!==void 0?r:Wl(u)===Wl(d);c(t,{replace:h,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,r,s,n,t,o,i,a])}const jk=1,Fk=1e6;let zh=0;function $k(){return zh=(zh+1)%Number.MAX_SAFE_INTEGER,zh.toString()}const Wh=new Map,R0=t=>{if(Wh.has(t))return;const e=setTimeout(()=>{Wh.delete(t),yl({type:"REMOVE_TOAST",toastId:t})},Fk);Wh.set(t,e)},Uk=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,jk)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?R0(n):t.toasts.forEach(r=>{R0(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},Fu=[];let $u={toasts:[]};function yl(t){$u=Uk($u,t),Fu.forEach(e=>{e($u)})}function Bk({...t}){const e=$k(),n=s=>yl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>yl({type:"DISMISS_TOAST",toastId:e});return yl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function oy(){const[t,e]=g.useState($u);return g.useEffect(()=>(Fu.push(e),()=>{const n=Fu.indexOf(e);n>-1&&Fu.splice(n,1)}),[t]),{...t,toast:Bk,dismiss:n=>yl({type:"DISMISS_TOAST",toastId:n})}}function me(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function A0(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function OT(...t){return e=>{let n=!1;const r=t.map(s=>{const o=A0(s,e);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():A0(t[s],null)}}}}function Be(...t){return g.useCallback(OT(...t),t)}function zk(t,e){const n=g.createContext(e),r=o=>{const{children:i,...a}=o,c=g.useMemo(()=>a,Object.values(a));return y.jsx(n.Provider,{value:c,children:i})};r.displayName=t+"Provider";function s(o){const i=g.useContext(n);if(i)return i;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[r,s]}function ei(t,e=[]){let n=[];function r(o,i){const a=g.createContext(i),c=n.length;n=[...n,i];const u=f=>{var x;const{scope:h,children:m,...S}=f,v=((x=h==null?void 0:h[t])==null?void 0:x[c])||a,E=g.useMemo(()=>S,Object.values(S));return y.jsx(v.Provider,{value:E,children:m})};u.displayName=o+"Provider";function d(f,h){var v;const m=((v=h==null?void 0:h[t])==null?void 0:v[c])||a,S=g.useContext(m);if(S)return S;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>g.createContext(i));return function(a){const c=(a==null?void 0:a[t])||o;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,Wk(s,...e)]}function Wk(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:i}),[i])}};return n.scopeName=e.scopeName,n}function la(t){const e=qk(t),n=g.forwardRef((r,s)=>{const{children:o,...i}=r,a=g.Children.toArray(o),c=a.find(Gk);if(c){const u=c.props.children,d=a.map(f=>f===c?g.Children.count(u)>1?g.Children.only(null):g.isValidElement(u)?u.props.children:null:f);return y.jsx(e,{...i,ref:s,children:g.isValidElement(u)?g.cloneElement(u,void 0,d):null})}return y.jsx(e,{...i,ref:s,children:o})});return n.displayName=`${t}.Slot`,n}var Hk=la("Slot");function qk(t){const e=g.forwardRef((n,r)=>{const{children:s,...o}=n;if(g.isValidElement(s)){const i=Yk(s),a=Qk(o,s.props);return s.type!==g.Fragment&&(a.ref=r?OT(r,i):i),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var MT=Symbol("radix.slottable");function Kk(t){const e=({children:n})=>y.jsx(y.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=MT,e}function Gk(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===MT}function Qk(t,e){const n={...e};for(const r in e){const s=t[r],o=e[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const c=o(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...t,...n}}function Yk(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function VT(t){const e=t+"CollectionProvider",[n,r]=ei(e),[s,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:E,children:x}=v,w=W.useRef(null),T=W.useRef(new Map).current;return y.jsx(s,{scope:E,itemMap:T,collectionRef:w,children:x})};i.displayName=e;const a=t+"CollectionSlot",c=la(a),u=W.forwardRef((v,E)=>{const{scope:x,children:w}=v,T=o(a,x),N=Be(E,T.collectionRef);return y.jsx(c,{ref:N,children:w})});u.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",h=la(d),m=W.forwardRef((v,E)=>{const{scope:x,children:w,...T}=v,N=W.useRef(null),O=Be(E,N),M=o(d,x);return W.useEffect(()=>(M.itemMap.set(N,{ref:N,...T}),()=>void M.itemMap.delete(N))),y.jsx(h,{[f]:"",ref:O,children:w})});m.displayName=d;function S(v){const E=o(t+"CollectionConsumer",v);return W.useCallback(()=>{const w=E.collectionRef.current;if(!w)return[];const T=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(E.itemMap.values()).sort((M,I)=>T.indexOf(M.ref.current)-T.indexOf(I.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:i,Slot:u,ItemSlot:m},S,r]}var Xk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],be=Xk.reduce((t,e)=>{const n=la(`Primitive.${e}`),r=g.forwardRef((s,o)=>{const{asChild:i,...a}=s,c=i?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(c,{...a,ref:o})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function LT(t,e){t&&Fn.flushSync(()=>t.dispatchEvent(e))}function ir(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Jk(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Zk="DismissableLayer",um="dismissableLayer.update",e2="dismissableLayer.pointerDownOutside",t2="dismissableLayer.focusOutside",P0,jT=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),wc=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=t,u=g.useContext(jT),[d,f]=g.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),S=Be(e,I=>f(I)),v=Array.from(u.layers),[E]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=v.indexOf(E),w=d?v.indexOf(d):-1,T=u.layersWithOutsidePointerEventsDisabled.size>0,N=w>=x,O=r2(I=>{const b=I.target,C=[...u.branches].some(R=>R.contains(b));!N||C||(s==null||s(I),i==null||i(I),I.defaultPrevented||a==null||a())},h),M=s2(I=>{const b=I.target;[...u.branches].some(R=>R.contains(b))||(o==null||o(I),i==null||i(I),I.defaultPrevented||a==null||a())},h);return Jk(I=>{w===u.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},h),g.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(P0=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),N0(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=P0)}},[d,h,n,u]),g.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),N0())},[d,u]),g.useEffect(()=>{const I=()=>m({});return document.addEventListener(um,I),()=>document.removeEventListener(um,I)},[]),y.jsx(be.div,{...c,ref:S,style:{pointerEvents:T?N?"auto":"none":void 0,...t.style},onFocusCapture:me(t.onFocusCapture,M.onFocusCapture),onBlurCapture:me(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:me(t.onPointerDownCapture,O.onPointerDownCapture)})});wc.displayName=Zk;var n2="DismissableLayerBranch",FT=g.forwardRef((t,e)=>{const n=g.useContext(jT),r=g.useRef(null),s=Be(e,r);return g.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),y.jsx(be.div,{...t,ref:s})});FT.displayName=n2;function r2(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let c=function(){$T(e2,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function s2(t,e=globalThis==null?void 0:globalThis.document){const n=ir(t),r=g.useRef(!1);return g.useEffect(()=>{const s=o=>{o.target&&!r.current&&$T(t2,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function N0(){const t=new CustomEvent(um);document.dispatchEvent(t)}function $T(t,e,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?LT(s,o):s.dispatchEvent(o)}var o2=wc,i2=FT,Lt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},a2="Portal",vf=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,o]=g.useState(!1);Lt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?vT.createPortal(y.jsx(be.div,{...r,ref:e}),i):null});vf.displayName=a2;function l2(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var ti=t=>{const{present:e,children:n}=t,r=c2(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),o=Be(r.ref,u2(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:o}):null};ti.displayName="Presence";function c2(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),o=g.useRef("none"),i=t?"mounted":"unmounted",[a,c]=l2(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const u=uu(r.current);o.current=a==="mounted"?u:"none"},[a]),Lt(()=>{const u=r.current,d=s.current;if(d!==t){const h=o.current,m=uu(u);t?c("MOUNT"):m==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),Lt(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=m=>{const v=uu(r.current).includes(CSS.escape(m.animationName));if(m.target===e&&v&&(c("ANIMATION_END"),!s.current)){const E=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=E)})}},h=m=>{m.target===e&&(o.current=uu(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function uu(t){return(t==null?void 0:t.animationName)||"none"}function u2(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var d2=dg[" useInsertionEffect ".trim().toString()]||Lt;function ql({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,o,i]=f2({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const d=g.useRef(t!==void 0);g.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=g.useCallback(d=>{var f;if(a){const h=h2(d)?d(t):d;h!==t&&((f=i.current)==null||f.call(i,h))}else o(d)},[a,t,o,i]);return[c,u]}function f2({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),o=g.useRef(e);return d2(()=>{o.current=e},[e]),g.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function h2(t){return typeof t=="function"}var UT=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),p2="VisuallyHidden",wf=g.forwardRef((t,e)=>y.jsx(be.span,{...t,ref:e,style:{...UT,...t.style}}));wf.displayName=p2;var m2=wf,iy="ToastProvider",[ay,g2,y2]=VT("Toast"),[BT,y$]=ei("Toast",[y2]),[v2,_f]=BT(iy),zT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=t,[a,c]=g.useState(null),[u,d]=g.useState(0),f=g.useRef(!1),h=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${iy}\`. Expected non-empty \`string\`.`),y.jsx(ay.Provider,{scope:e,children:y.jsx(v2,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>d(m=>m+1),[]),onToastRemove:g.useCallback(()=>d(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:h,children:i})})};zT.displayName=iy;var WT="ToastViewport",w2=["F8"],dm="toast.viewportPause",fm="toast.viewportResume",HT=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=w2,label:s="Notifications ({hotkey})",...o}=t,i=_f(WT,n),a=g2(n),c=g.useRef(null),u=g.useRef(null),d=g.useRef(null),f=g.useRef(null),h=Be(e,f,i.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=i.toastCount>0;g.useEffect(()=>{const E=x=>{var T;r.length!==0&&r.every(N=>x[N]||x.code===N)&&((T=f.current)==null||T.focus())};return document.addEventListener("keydown",E),()=>document.removeEventListener("keydown",E)},[r]),g.useEffect(()=>{const E=c.current,x=f.current;if(S&&E&&x){const w=()=>{if(!i.isClosePausedRef.current){const M=new CustomEvent(dm);x.dispatchEvent(M),i.isClosePausedRef.current=!0}},T=()=>{if(i.isClosePausedRef.current){const M=new CustomEvent(fm);x.dispatchEvent(M),i.isClosePausedRef.current=!1}},N=M=>{!E.contains(M.relatedTarget)&&T()},O=()=>{E.contains(document.activeElement)||T()};return E.addEventListener("focusin",w),E.addEventListener("focusout",N),E.addEventListener("pointermove",w),E.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",T),()=>{E.removeEventListener("focusin",w),E.removeEventListener("focusout",N),E.removeEventListener("pointermove",w),E.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",T)}}},[S,i.isClosePausedRef]);const v=g.useCallback(({tabbingDirection:E})=>{const w=a().map(T=>{const N=T.ref.current,O=[N,...k2(N)];return E==="forwards"?O:O.reverse()});return(E==="forwards"?w.reverse():w).flat()},[a]);return g.useEffect(()=>{const E=f.current;if(E){const x=w=>{var O,M,I;const T=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!T){const b=document.activeElement,C=w.shiftKey;if(w.target===E&&C){(O=u.current)==null||O.focus();return}const D=v({tabbingDirection:C?"backwards":"forwards"}),k=D.findIndex($=>$===b);Hh(D.slice(k+1))?w.preventDefault():C?(M=u.current)==null||M.focus():(I=d.current)==null||I.focus()}};return E.addEventListener("keydown",x),()=>E.removeEventListener("keydown",x)}},[a,v]),y.jsxs(i2,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&y.jsx(hm,{ref:u,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"forwards"});Hh(E)}}),y.jsx(ay.Slot,{scope:n,children:y.jsx(be.ol,{tabIndex:-1,...o,ref:h})}),S&&y.jsx(hm,{ref:d,onFocusFromOutsideViewport:()=>{const E=v({tabbingDirection:"backwards"});Hh(E)}})]})});HT.displayName=WT;var qT="ToastFocusProxy",hm=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,o=_f(qT,n);return y.jsx(wf,{tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});hm.displayName=qT;var _c="Toast",_2="toast.swipeStart",x2="toast.swipeMove",E2="toast.swipeCancel",T2="toast.swipeEnd",KT=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=t,[a,c]=ql({prop:r,defaultProp:s??!0,onChange:o,caller:_c});return y.jsx(ti,{present:n||a,children:y.jsx(C2,{open:a,...i,ref:e,onClose:()=>c(!1),onPause:ir(t.onPause),onResume:ir(t.onResume),onSwipeStart:me(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:me(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:me(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:me(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});KT.displayName=_c;var[S2,b2]=BT(_c,{onClose(){}}),C2=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:h,onSwipeEnd:m,...S}=t,v=_f(_c,n),[E,x]=g.useState(null),w=Be(e,$=>x($)),T=g.useRef(null),N=g.useRef(null),O=s||v.duration,M=g.useRef(0),I=g.useRef(O),b=g.useRef(0),{onToastAdd:C,onToastRemove:R}=v,A=ir(()=>{var ne;(E==null?void 0:E.contains(document.activeElement))&&((ne=v.viewport)==null||ne.focus()),i()}),D=g.useCallback($=>{!$||$===1/0||(window.clearTimeout(b.current),M.current=new Date().getTime(),b.current=window.setTimeout(A,$))},[A]);g.useEffect(()=>{const $=v.viewport;if($){const ne=()=>{D(I.current),u==null||u()},Z=()=>{const Y=new Date().getTime()-M.current;I.current=I.current-Y,window.clearTimeout(b.current),c==null||c()};return $.addEventListener(dm,Z),$.addEventListener(fm,ne),()=>{$.removeEventListener(dm,Z),$.removeEventListener(fm,ne)}}},[v.viewport,O,c,u,D]),g.useEffect(()=>{o&&!v.isClosePausedRef.current&&D(O)},[o,O,v.isClosePausedRef,D]),g.useEffect(()=>(C(),()=>R()),[C,R]);const k=g.useMemo(()=>E?eS(E):null,[E]);return v.viewport?y.jsxs(y.Fragment,{children:[k&&y.jsx(I2,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:k}),y.jsx(S2,{scope:n,onClose:A,children:Fn.createPortal(y.jsx(ay.ItemSlot,{scope:n,children:y.jsx(o2,{asChild:!0,onEscapeKeyDown:me(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||A(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(be.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...S,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:me(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:me(t.onPointerDown,$=>{$.button===0&&(T.current={x:$.clientX,y:$.clientY})}),onPointerMove:me(t.onPointerMove,$=>{if(!T.current)return;const ne=$.clientX-T.current.x,Z=$.clientY-T.current.y,Y=!!N.current,j=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,q=j?L(0,ne):0,se=j?0:L(0,Z),K=$.pointerType==="touch"?10:2,X={x:q,y:se},ae={originalEvent:$,delta:X};Y?(N.current=X,du(x2,f,ae,{discrete:!1})):k0(X,v.swipeDirection,K)?(N.current=X,du(_2,d,ae,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(ne)>K||Math.abs(Z)>K)&&(T.current=null)}),onPointerUp:me(t.onPointerUp,$=>{const ne=N.current,Z=$.target;if(Z.hasPointerCapture($.pointerId)&&Z.releasePointerCapture($.pointerId),N.current=null,T.current=null,ne){const Y=$.currentTarget,j={originalEvent:$,delta:ne};k0(ne,v.swipeDirection,v.swipeThreshold)?du(T2,m,j,{discrete:!0}):du(E2,h,j,{discrete:!0}),Y.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),I2=t=>{const{__scopeToast:e,children:n,...r}=t,s=_f(_c,e),[o,i]=g.useState(!1),[a,c]=g.useState(!1);return P2(()=>i(!0)),g.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:y.jsx(vf,{asChild:!0,children:y.jsx(wf,{...r,children:o&&y.jsxs(y.Fragment,{children:[s.label," ",n]})})})},R2="ToastTitle",GT=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(be.div,{...r,ref:e})});GT.displayName=R2;var A2="ToastDescription",QT=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return y.jsx(be.div,{...r,ref:e})});QT.displayName=A2;var YT="ToastAction",XT=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?y.jsx(ZT,{altText:n,asChild:!0,children:y.jsx(ly,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${YT}\`. Expected non-empty \`string\`.`),null)});XT.displayName=YT;var JT="ToastClose",ly=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=b2(JT,n);return y.jsx(ZT,{asChild:!0,children:y.jsx(be.button,{type:"button",...r,ref:e,onClick:me(t.onClick,s.onClose)})})});ly.displayName=JT;var ZT=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return y.jsx(be.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function eS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),N2(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&e.push(i)}else e.push(...eS(r))}}),e}function du(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?LT(s,o):s.dispatchEvent(o)}var k0=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),o=r>s;return e==="left"||e==="right"?o&&r>n:!o&&s>n};function P2(t=()=>{}){const e=ir(t);Lt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function N2(t){return t.nodeType===t.ELEMENT_NODE}function k2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Hh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var D2=zT,tS=HT,nS=KT,rS=GT,sS=QT,oS=XT,iS=ly;function aS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aS(t))&&(r&&(r+=" "),r+=e);return r}const D0=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,O0=lS,cy=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return O0(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=e,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],f=o==null?void 0:o[u];if(d===null)return null;const h=D0(d)||D0(f);return s[u][h]}),a=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:f,className:h,...m}=d;return Object.entries(m).every(S=>{let[v,E]=S;return Array.isArray(E)?E.includes({...o,...a}[v]):{...o,...a}[v]===E})?[...u,f,h]:u},[]);return O0(t,i,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var M2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},c)=>g.createElement("svg",{ref:c,...M2,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cS("lucide",s),...a},[...i.map(([u,d])=>g.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=g.forwardRef(({className:r,...s},o)=>g.createElement(V2,{ref:o,iconNode:e,className:cS(`lucide-${O2(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uS=tt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=tt("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j2=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fS=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=tt("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=tt("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ys=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=tt("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=tt("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=tt("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hS=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),dy="-",X2=t=>{const e=Z2(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:i=>{const a=i.split(dy);return a[0]===""&&a.length!==1&&a.shift(),pS(a,e)||J2(i)},getConflictingClassGroupIds:(i,a)=>{const c=n[i]||[];return a&&r[i]?[...c,...r[i]]:c}}},pS=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?pS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(dy);return(i=e.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},j0=/^\[(.+)\]$/,J2=t=>{if(j0.test(t)){const e=j0.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Z2=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return tD(Object.entries(t.classGroups),n).forEach(([o,i])=>{mm(i,r,o,e)}),r},mm=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:F0(e,s);o.classGroupId=n;return}if(typeof s=="function"){if(eD(s)){mm(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{mm(i,F0(e,o),n,r)})})},F0=(t,e)=>{let n=t;return e.split(dy).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},eD=t=>t.isThemeGetter,tD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[e+i,a])):o);return[n,s]}):t,nD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},mS="!",rD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],o=e.length,i=a=>{const c=[];let u=0,d=0,f;for(let E=0;E<a.length;E++){let x=a[E];if(u===0){if(x===s&&(r||a.slice(E,E+o)===e)){c.push(a.slice(d,E)),d=E+o;continue}if(x==="/"){f=E;continue}}x==="["?u++:x==="]"&&u--}const h=c.length===0?a:a.substring(d),m=h.startsWith(mS),S=m?h.substring(1):h,v=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:S,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:i}):i},sD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},oD=t=>({cache:nD(t.cacheSize),parseClassName:rD(t),...X2(t)}),iD=/\s+/,aD=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,o=[],i=t.trim().split(iD);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:m}=n(u);let S=!!m,v=r(S?h.substring(0,m):h);if(!v){if(!S){a=u+(a.length>0?" "+a:a);continue}if(v=r(h),!v){a=u+(a.length>0?" "+a:a);continue}S=!1}const E=sD(d).join(":"),x=f?E+mS:E,w=x+v;if(o.includes(w))continue;o.push(w);const T=s(v,S);for(let N=0;N<T.length;++N){const O=T[N];o.push(x+O)}a=u+(a.length>0?" "+a:a)}return a};function lD(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=gS(e))&&(r&&(r+=" "),r+=n);return r}const gS=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=gS(t[r]))&&(n&&(n+=" "),n+=e);return n};function cD(t,...e){let n,r,s,o=i;function i(c){const u=e.reduce((d,f)=>f(d),t());return n=oD(u),r=n.cache.get,s=n.cache.set,o=a,a(c)}function a(c){const u=r(c);if(u)return u;const d=aD(c,n);return s(c,d),d}return function(){return o(lD.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yS=/^\[(?:([a-z-]+):)?(.+)\]$/i,uD=/^\d+\/\d+$/,dD=new Set(["px","full","screen"]),fD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,mD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Br=t=>Li(t)||dD.has(t)||uD.test(t),ps=t=>_a(t,"length",SD),Li=t=>!!t&&!Number.isNaN(Number(t)),qh=t=>_a(t,"number",Li),Xa=t=>!!t&&Number.isInteger(Number(t)),yD=t=>t.endsWith("%")&&Li(t.slice(0,-1)),ve=t=>yS.test(t),ms=t=>fD.test(t),vD=new Set(["length","size","percentage"]),wD=t=>_a(t,vD,vS),_D=t=>_a(t,"position",vS),xD=new Set(["image","url"]),ED=t=>_a(t,xD,CD),TD=t=>_a(t,"",bD),Ja=()=>!0,_a=(t,e,n)=>{const r=yS.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},SD=t=>hD.test(t)&&!pD.test(t),vS=()=>!1,bD=t=>mD.test(t),CD=t=>gD.test(t),ID=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),o=Ge("borderRadius"),i=Ge("borderSpacing"),a=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),d=Ge("hueRotate"),f=Ge("invert"),h=Ge("gap"),m=Ge("gradientColorStops"),S=Ge("gradientColorStopPositions"),v=Ge("inset"),E=Ge("margin"),x=Ge("opacity"),w=Ge("padding"),T=Ge("saturate"),N=Ge("scale"),O=Ge("sepia"),M=Ge("skew"),I=Ge("space"),b=Ge("translate"),C=()=>["auto","contain","none"],R=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",ve,e],D=()=>[ve,e],k=()=>["",Br,ps],$=()=>["auto",Li,ve],ne=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Z=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ve],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>[Li,ve];return{cacheSize:500,separator:":",theme:{colors:[Ja],spacing:[Br,ps],blur:["none","",ms,ve],brightness:se(),borderColor:[t],borderRadius:["none","","full",ms,ve],borderSpacing:D(),borderWidth:k(),contrast:se(),grayscale:L(),hueRotate:se(),invert:L(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[yD,ps],inset:A(),margin:A(),opacity:se(),padding:D(),saturate:se(),scale:se(),sepia:L(),skew:se(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",ve]}],container:["container"],columns:[{columns:[ms]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ne(),ve]}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Xa,ve]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ve]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Xa,ve]}],"grid-cols":[{"grid-cols":[Ja]}],"col-start-end":[{col:["auto",{span:["full",Xa,ve]},ve]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ja]}],"row-start-end":[{row:["auto",{span:[Xa,ve]},ve]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ve]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ve,e]}],"min-w":[{"min-w":[ve,e,"min","max","fit"]}],"max-w":[{"max-w":[ve,e,"none","full","min","max","fit","prose",{screen:[ms]},ms]}],h:[{h:[ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ms,ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",qh]}],"font-family":[{font:[Ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ve]}],"line-clamp":[{"line-clamp":["none",Li,qh]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Br,ve]}],"list-image":[{"list-image":["none",ve]}],"list-style-type":[{list:["none","disc","decimal",ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Br,ps]}],"underline-offset":[{"underline-offset":["auto",Br,ve]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ne(),_D]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wD]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ED]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Z()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Z()]}],"outline-offset":[{"outline-offset":[Br,ve]}],"outline-w":[{outline:[Br,ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:k()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Br,ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ms,TD]}],"shadow-color":[{shadow:[Ja]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ms,ve]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[T]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[T]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ve]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ve]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[N]}],"scale-x":[{"scale-x":[N]}],"scale-y":[{"scale-y":[N]}],rotate:[{rotate:[Xa,ve]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ve]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ve]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ve]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Br,ps,qh]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RD=cD(ID);function De(...t){return RD(lS(t))}const AD=D2,wS=g.forwardRef(({className:t,...e},n)=>y.jsx(tS,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));wS.displayName=tS.displayName;const PD=cy("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),_S=g.forwardRef(({className:t,variant:e,...n},r)=>y.jsx(nS,{ref:r,className:De(PD({variant:e}),t),...n}));_S.displayName=nS.displayName;const ND=g.forwardRef(({className:t,...e},n)=>y.jsx(oS,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));ND.displayName=oS.displayName;const xS=g.forwardRef(({className:t,...e},n)=>y.jsx(iS,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:y.jsx(hS,{className:"h-4 w-4"})}));xS.displayName=iS.displayName;const ES=g.forwardRef(({className:t,...e},n)=>y.jsx(rS,{ref:n,className:De("text-sm font-semibold",t),...e}));ES.displayName=rS.displayName;const TS=g.forwardRef(({className:t,...e},n)=>y.jsx(sS,{ref:n,className:De("text-sm opacity-90",t),...e}));TS.displayName=sS.displayName;function kD(){const{toasts:t}=oy();return y.jsxs(AD,{children:[t.map(function({id:e,title:n,description:r,action:s,...o}){return y.jsxs(_S,{...o,children:[y.jsxs("div",{className:"grid gap-1",children:[n&&y.jsx(ES,{children:n}),r&&y.jsx(TS,{children:r})]}),s,y.jsx(xS,{})]},e)}),y.jsx(wS,{})]})}var $0=["light","dark"],DD="(prefers-color-scheme: dark)",OD=g.createContext(void 0),MD={setTheme:t=>{},themes:[]},VD=()=>{var t;return(t=g.useContext(OD))!=null?t:MD};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?$0.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(S,v=!1,E=!0)=>{let x=i?i[S]:S,w=v?S+"|| ''":`'${x}'`,T="";return s&&E&&!v&&$0.includes(S)&&(T+=`d.style.colorScheme = '${S}';`),n==="class"?v||x?T+=`c.add(${w})`:T+="null":x&&(T+=`d[s](n,${w})`),T},m=t?`!function(){${d}${h(t)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${u})){var t='${DD}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}${u?"":"else{"+h(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${e}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${h(i?"x[e]":"e",!0)}}else{${h(o,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var LD=t=>{switch(t){case"success":return $D;case"info":return BD;case"warning":return UD;case"error":return zD;default:return null}},jD=Array(12).fill(0),FD=({visible:t,className:e})=>W.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},W.createElement("div",{className:"sonner-spinner"},jD.map((n,r)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$D=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),UD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),BD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),zD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),WD=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),HD=()=>{let[t,e]=W.useState(document.hidden);return W.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},gm=1,qD=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,o=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:gm++,i=this.toasts.find(c=>c.id===o),a=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(o)&&this.dismissedToasts.delete(o),i?this.toasts=this.toasts.map(c=>c.id===o?(this.publish({...c,...e,id:o,title:r}),{...c,...e,id:o,dismissible:a,title:r}):c):this.addToast({title:r,...s,dismissible:a,id:o}),o},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),o=r!==void 0,i,a=s.then(async u=>{if(i=["resolve",u],W.isValidElement(u))o=!1,this.create({id:r,type:"default",message:u});else if(GD(u)&&!u.ok){o=!1;let d=typeof n.error=="function"?await n.error(`HTTP error! status: ${u.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${u.status}`):n.description;this.create({id:r,type:"error",message:d,description:f})}else if(n.success!==void 0){o=!1;let d=typeof n.success=="function"?await n.success(u):n.success,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"success",message:d,description:f})}}).catch(async u=>{if(i=["reject",u],n.error!==void 0){o=!1;let d=typeof n.error=="function"?await n.error(u):n.error,f=typeof n.description=="function"?await n.description(u):n.description;this.create({id:r,type:"error",message:d,description:f})}}).finally(()=>{var u;o&&(this.dismiss(r),r=void 0),(u=n.finally)==null||u.call(n)}),c=()=>new Promise((u,d)=>a.then(()=>i[0]==="reject"?d(i[1]):u(i[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:c}:Object.assign(r,{unwrap:c})},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||gm++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ln=new qD,KD=(t,e)=>{let n=(e==null?void 0:e.id)||gm++;return ln.addToast({title:t,...e,id:n}),n},GD=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",QD=KD,YD=()=>ln.toasts,XD=()=>ln.getActiveToasts();Object.assign(QD,{success:ln.success,info:ln.info,warning:ln.warning,error:ln.error,custom:ln.custom,message:ln.message,promise:ln.promise,dismiss:ln.dismiss,loading:ln.loading},{getHistory:YD,getToasts:XD});function JD(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}JD(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function fu(t){return t.label!==void 0}var ZD=3,eO="32px",tO="16px",U0=4e3,nO=356,rO=14,sO=20,oO=200;function Gn(...t){return t.filter(Boolean).join(" ")}function iO(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var aO=t=>{var e,n,r,s,o,i,a,c,u,d,f;let{invert:h,toast:m,unstyled:S,interacting:v,setHeights:E,visibleToasts:x,heights:w,index:T,toasts:N,expanded:O,removeToast:M,defaultRichColors:I,closeButton:b,style:C,cancelButtonStyle:R,actionButtonStyle:A,className:D="",descriptionClassName:k="",duration:$,position:ne,gap:Z,loadingIcon:Y,expandByDefault:j,classNames:L,icons:q,closeButtonAriaLabel:se="Close toast",pauseWhenPageIsHidden:K}=t,[X,ae]=W.useState(null),[_e,xe]=W.useState(null),[G,we]=W.useState(!1),[Ie,re]=W.useState(!1),[de,ce]=W.useState(!1),[$e,ze]=W.useState(!1),[St,bt]=W.useState(!1),[Nn,fr]=W.useState(0),[vn,Xt]=W.useState(0),wn=W.useRef(m.duration||$||U0),jr=W.useRef(null),an=W.useRef(null),as=T===0,si=T+1<=x,Oe=m.type,Ve=m.dismissible!==!1,_n=m.className||"",hr=m.descriptionClassName||"",pr=W.useMemo(()=>w.findIndex(oe=>oe.toastId===m.id)||0,[w,m.id]),kn=W.useMemo(()=>{var oe;return(oe=m.closeButton)!=null?oe:b},[m.closeButton,b]),zn=W.useMemo(()=>m.duration||$||U0,[m.duration,$]),ls=W.useRef(0),Wn=W.useRef(0),mr=W.useRef(0),Hn=W.useRef(null),[Da,cs]=ne.split("-"),mo=W.useMemo(()=>w.reduce((oe,ue,ye)=>ye>=pr?oe:oe+ue.height,0),[w,pr]),go=HD(),Fr=m.invert||h,Je=Oe==="loading";Wn.current=W.useMemo(()=>pr*Z+mo,[pr,mo]),W.useEffect(()=>{wn.current=zn},[zn]),W.useEffect(()=>{we(!0)},[]),W.useEffect(()=>{let oe=an.current;if(oe){let ue=oe.getBoundingClientRect().height;return Xt(ue),E(ye=>[{toastId:m.id,height:ue,position:m.position},...ye]),()=>E(ye=>ye.filter(je=>je.toastId!==m.id))}},[E,m.id]),W.useLayoutEffect(()=>{if(!G)return;let oe=an.current,ue=oe.style.height;oe.style.height="auto";let ye=oe.getBoundingClientRect().height;oe.style.height=ue,Xt(ye),E(je=>je.find(ut=>ut.toastId===m.id)?je.map(ut=>ut.toastId===m.id?{...ut,height:ye}:ut):[{toastId:m.id,height:ye,position:m.position},...je])},[G,m.title,m.description,E,m.id]);let We=W.useCallback(()=>{re(!0),fr(Wn.current),E(oe=>oe.filter(ue=>ue.toastId!==m.id)),setTimeout(()=>{M(m)},oO)},[m,M,E,Wn]);W.useEffect(()=>{if(m.promise&&Oe==="loading"||m.duration===1/0||m.type==="loading")return;let oe;return O||v||K&&go?(()=>{if(mr.current<ls.current){let ue=new Date().getTime()-ls.current;wn.current=wn.current-ue}mr.current=new Date().getTime()})():wn.current!==1/0&&(ls.current=new Date().getTime(),oe=setTimeout(()=>{var ue;(ue=m.onAutoClose)==null||ue.call(m,m),We()},wn.current)),()=>clearTimeout(oe)},[O,v,m,Oe,K,go,We]),W.useEffect(()=>{m.delete&&We()},[We,m.delete]);function nt(){var oe,ue,ye;return q!=null&&q.loading?W.createElement("div",{className:Gn(L==null?void 0:L.loader,(oe=m==null?void 0:m.classNames)==null?void 0:oe.loader,"sonner-loader"),"data-visible":Oe==="loading"},q.loading):Y?W.createElement("div",{className:Gn(L==null?void 0:L.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Oe==="loading"},Y):W.createElement(FD,{className:Gn(L==null?void 0:L.loader,(ye=m==null?void 0:m.classNames)==null?void 0:ye.loader),visible:Oe==="loading"})}return W.createElement("li",{tabIndex:0,ref:an,className:Gn(D,_n,L==null?void 0:L.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Oe],(n=m==null?void 0:m.classNames)==null?void 0:n[Oe]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||S),"data-mounted":G,"data-promise":!!m.promise,"data-swiped":St,"data-removed":Ie,"data-visible":si,"data-y-position":Da,"data-x-position":cs,"data-index":T,"data-front":as,"data-swiping":de,"data-dismissible":Ve,"data-type":Oe,"data-invert":Fr,"data-swipe-out":$e,"data-swipe-direction":_e,"data-expanded":!!(O||j&&G),style:{"--index":T,"--toasts-before":T,"--z-index":N.length-T,"--offset":`${Ie?Nn:Wn.current}px`,"--initial-height":j?"auto":`${vn}px`,...C,...m.style},onDragEnd:()=>{ce(!1),ae(null),Hn.current=null},onPointerDown:oe=>{Je||!Ve||(jr.current=new Date,fr(Wn.current),oe.target.setPointerCapture(oe.pointerId),oe.target.tagName!=="BUTTON"&&(ce(!0),Hn.current={x:oe.clientX,y:oe.clientY}))},onPointerUp:()=>{var oe,ue,ye,je;if($e||!Ve)return;Hn.current=null;let ut=Number(((oe=an.current)==null?void 0:oe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ge=Number(((ue=an.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),wt=new Date().getTime()-((ye=jr.current)==null?void 0:ye.getTime()),Fe=X==="x"?ut:ge,Ze=Math.abs(Fe)/wt;if(Math.abs(Fe)>=sO||Ze>.11){fr(Wn.current),(je=m.onDismiss)==null||je.call(m,m),xe(X==="x"?ut>0?"right":"left":ge>0?"down":"up"),We(),ze(!0),bt(!1);return}ce(!1),ae(null)},onPointerMove:oe=>{var ue,ye,je,ut;if(!Hn.current||!Ve||((ue=window.getSelection())==null?void 0:ue.toString().length)>0)return;let ge=oe.clientY-Hn.current.y,wt=oe.clientX-Hn.current.x,Fe=(ye=t.swipeDirections)!=null?ye:iO(ne);!X&&(Math.abs(wt)>1||Math.abs(ge)>1)&&ae(Math.abs(wt)>Math.abs(ge)?"x":"y");let Ze={x:0,y:0};X==="y"?(Fe.includes("top")||Fe.includes("bottom"))&&(Fe.includes("top")&&ge<0||Fe.includes("bottom")&&ge>0)&&(Ze.y=ge):X==="x"&&(Fe.includes("left")||Fe.includes("right"))&&(Fe.includes("left")&&wt<0||Fe.includes("right")&&wt>0)&&(Ze.x=wt),(Math.abs(Ze.x)>0||Math.abs(Ze.y)>0)&&bt(!0),(je=an.current)==null||je.style.setProperty("--swipe-amount-x",`${Ze.x}px`),(ut=an.current)==null||ut.style.setProperty("--swipe-amount-y",`${Ze.y}px`)}},kn&&!m.jsx?W.createElement("button",{"aria-label":se,"data-disabled":Je,"data-close-button":!0,onClick:Je||!Ve?()=>{}:()=>{var oe;We(),(oe=m.onDismiss)==null||oe.call(m,m)},className:Gn(L==null?void 0:L.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(o=q==null?void 0:q.close)!=null?o:WD):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:W.createElement(W.Fragment,null,Oe||m.icon||m.promise?W.createElement("div",{"data-icon":"",className:Gn(L==null?void 0:L.icon,(i=m==null?void 0:m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||nt():null,m.type!=="loading"?m.icon||(q==null?void 0:q[Oe])||LD(Oe):null):null,W.createElement("div",{"data-content":"",className:Gn(L==null?void 0:L.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Gn(L==null?void 0:L.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?W.createElement("div",{"data-description":"",className:Gn(k,hr,L==null?void 0:L.description,(u=m==null?void 0:m.classNames)==null?void 0:u.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&fu(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||R,onClick:oe=>{var ue,ye;fu(m.cancel)&&Ve&&((ye=(ue=m.cancel).onClick)==null||ye.call(ue,oe),We())},className:Gn(L==null?void 0:L.cancelButton,(d=m==null?void 0:m.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&fu(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:oe=>{var ue,ye;fu(m.action)&&((ye=(ue=m.action).onClick)==null||ye.call(ue,oe),!oe.defaultPrevented&&We())},className:Gn(L==null?void 0:L.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function B0(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lO(t,e){let n={};return[t,e].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?tO:eO;function c(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):c(a)}),n}var cO=g.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:h,style:m,visibleToasts:S=ZD,toastOptions:v,dir:E=B0(),gap:x=rO,loadingIcon:w,icons:T,containerAriaLabel:N="Notifications",pauseWhenPageIsHidden:O}=t,[M,I]=W.useState([]),b=W.useMemo(()=>Array.from(new Set([r].concat(M.filter(K=>K.position).map(K=>K.position)))),[M,r]),[C,R]=W.useState([]),[A,D]=W.useState(!1),[k,$]=W.useState(!1),[ne,Z]=W.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=W.useRef(null),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=W.useRef(null),q=W.useRef(!1),se=W.useCallback(K=>{I(X=>{var ae;return(ae=X.find(_e=>_e.id===K.id))!=null&&ae.delete||ln.dismiss(K.id),X.filter(({id:_e})=>_e!==K.id)})},[]);return W.useEffect(()=>ln.subscribe(K=>{if(K.dismiss){I(X=>X.map(ae=>ae.id===K.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{vT.flushSync(()=>{I(X=>{let ae=X.findIndex(_e=>_e.id===K.id);return ae!==-1?[...X.slice(0,ae),{...X[ae],...K},...X.slice(ae+1)]:[K,...X]})})})}),[]),W.useEffect(()=>{if(d!=="system"){Z(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:X})=>{Z(X?"dark":"light")})}catch{K.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(_e){console.error(_e)}})}},[d]),W.useEffect(()=>{M.length<=1&&D(!1)},[M]),W.useEffect(()=>{let K=X=>{var ae,_e;s.every(xe=>X[xe]||X.code===xe)&&(D(!0),(ae=Y.current)==null||ae.focus()),X.code==="Escape"&&(document.activeElement===Y.current||(_e=Y.current)!=null&&_e.contains(document.activeElement))&&D(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),W.useEffect(()=>{if(Y.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,q.current=!1)}},[Y.current]),W.createElement("section",{ref:e,"aria-label":`${N} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},b.map((K,X)=>{var ae;let[_e,xe]=K.split("-");return M.length?W.createElement("ol",{key:K,dir:E==="auto"?B0():E,tabIndex:-1,ref:Y,className:a,"data-sonner-toaster":!0,"data-theme":ne,"data-y-position":_e,"data-lifted":A&&M.length>1&&!o,"data-x-position":xe,style:{"--front-toast-height":`${((ae=C[0])==null?void 0:ae.height)||0}px`,"--width":`${nO}px`,"--gap":`${x}px`,...m,...lO(c,u)},onBlur:G=>{q.current&&!G.currentTarget.contains(G.relatedTarget)&&(q.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||q.current||(q.current=!0,L.current=G.relatedTarget)},onMouseEnter:()=>D(!0),onMouseMove:()=>D(!0),onMouseLeave:()=>{k||D(!1)},onDragEnd:()=>D(!1),onPointerDown:G=>{G.target instanceof HTMLElement&&G.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},M.filter(G=>!G.position&&X===0||G.position===K).map((G,we)=>{var Ie,re;return W.createElement(aO,{key:G.id,icons:T,index:we,toast:G,defaultRichColors:f,duration:(Ie=v==null?void 0:v.duration)!=null?Ie:h,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:S,closeButton:(re=v==null?void 0:v.closeButton)!=null?re:i,interacting:k,position:K,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:se,toasts:M.filter(de=>de.position==G.position),heights:C.filter(de=>de.position==G.position),setHeights:R,expandByDefault:o,gap:x,loadingIcon:w,expanded:A,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const uO=({...t})=>{const{theme:e="system"}=VD();return y.jsx(cO,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var dO=dg[" useId ".trim().toString()]||(()=>{}),fO=0;function ji(t){const[e,n]=g.useState(dO());return Lt(()=>{n(r=>r??String(fO++))},[t]),e?`radix-${e}`:""}const hO=["top","right","bottom","left"],Xs=Math.min,Tn=Math.max,Sd=Math.round,hu=Math.floor,Ar=t=>({x:t,y:t}),pO={left:"right",right:"left",bottom:"top",top:"bottom"},mO={start:"end",end:"start"};function ym(t,e,n){return Tn(t,Xs(e,n))}function es(t,e){return typeof t=="function"?t(e):t}function ts(t){return t.split("-")[0]}function xa(t){return t.split("-")[1]}function fy(t){return t==="x"?"y":"x"}function hy(t){return t==="y"?"height":"width"}const gO=new Set(["top","bottom"]);function Cr(t){return gO.has(ts(t))?"y":"x"}function py(t){return fy(Cr(t))}function yO(t,e,n){n===void 0&&(n=!1);const r=xa(t),s=py(t),o=hy(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(i=bd(i)),[i,bd(i)]}function vO(t){const e=bd(t);return[vm(t),e,vm(e)]}function vm(t){return t.replace(/start|end/g,e=>mO[e])}const z0=["left","right"],W0=["right","left"],wO=["top","bottom"],_O=["bottom","top"];function xO(t,e,n){switch(t){case"top":case"bottom":return n?e?W0:z0:e?z0:W0;case"left":case"right":return e?wO:_O;default:return[]}}function EO(t,e,n,r){const s=xa(t);let o=xO(ts(t),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),e&&(o=o.concat(o.map(vm)))),o}function bd(t){return t.replace(/left|right|bottom|top/g,e=>pO[e])}function TO(t){return{top:0,right:0,bottom:0,left:0,...t}}function SS(t){return typeof t!="number"?TO(t):{top:t,right:t,bottom:t,left:t}}function Cd(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function H0(t,e,n){let{reference:r,floating:s}=t;const o=Cr(e),i=py(e),a=hy(i),c=ts(e),u=o==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,h=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(xa(e)){case"start":m[i]-=h*(n&&u?-1:1);break;case"end":m[i]+=h*(n&&u?-1:1);break}return m}const SO=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(e));let u=await i.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=H0(u,r,c),h=r,m={},S=0;for(let v=0;v<a.length;v++){const{name:E,fn:x}=a[v],{x:w,y:T,data:N,reset:O}=await x({x:d,y:f,initialPlacement:r,placement:h,strategy:s,middlewareData:m,rects:u,platform:i,elements:{reference:t,floating:e}});d=w??d,f=T??f,m={...m,[E]:{...m[E],...N}},O&&S<=50&&(S++,typeof O=="object"&&(O.placement&&(h=O.placement),O.rects&&(u=O.rects===!0?await i.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:d,y:f}=H0(u,h,c)),v=-1)}return{x:d,y:f,placement:h,strategy:s,middlewareData:m}};async function Kl(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:m=0}=es(e,t),S=SS(m),E=a[h?f==="floating"?"reference":"floating":f],x=Cd(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(E)))==null||n?E:E.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),w=f==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,T=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),N=await(o.isElement==null?void 0:o.isElement(T))?await(o.getScale==null?void 0:o.getScale(T))||{x:1,y:1}:{x:1,y:1},O=Cd(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:T,strategy:c}):w);return{top:(x.top-O.top+S.top)/N.y,bottom:(O.bottom-x.bottom+S.bottom)/N.y,left:(x.left-O.left+S.left)/N.x,right:(O.right-x.right+S.right)/N.x}}const bO=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=e,{element:u,padding:d=0}=es(t,e)||{};if(u==null)return{};const f=SS(d),h={x:n,y:r},m=py(s),S=hy(m),v=await i.getDimensions(u),E=m==="y",x=E?"top":"left",w=E?"bottom":"right",T=E?"clientHeight":"clientWidth",N=o.reference[S]+o.reference[m]-h[m]-o.floating[S],O=h[m]-o.reference[m],M=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let I=M?M[T]:0;(!I||!await(i.isElement==null?void 0:i.isElement(M)))&&(I=a.floating[T]||o.floating[S]);const b=N/2-O/2,C=I/2-v[S]/2-1,R=Xs(f[x],C),A=Xs(f[w],C),D=R,k=I-v[S]-A,$=I/2-v[S]/2+b,ne=ym(D,$,k),Z=!c.arrow&&xa(s)!=null&&$!==ne&&o.reference[S]/2-($<D?R:A)-v[S]/2<0,Y=Z?$<D?$-D:$-k:0;return{[m]:h[m]+Y,data:{[m]:ne,centerOffset:$-ne-Y,...Z&&{alignmentOffset:Y}},reset:Z}}}),CO=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:v=!0,...E}=es(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=ts(s),w=Cr(a),T=ts(a)===a,N=await(c.isRTL==null?void 0:c.isRTL(u.floating)),O=h||(T||!v?[bd(a)]:vO(a)),M=S!=="none";!h&&M&&O.push(...EO(a,v,S,N));const I=[a,...O],b=await Kl(e,E),C=[];let R=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&C.push(b[x]),f){const $=yO(s,i,N);C.push(b[$[0]],b[$[1]])}if(R=[...R,{placement:s,overflows:C}],!C.every($=>$<=0)){var A,D;const $=(((A=o.flip)==null?void 0:A.index)||0)+1,ne=I[$];if(ne&&(!(f==="alignment"?w!==Cr(ne):!1)||R.every(j=>Cr(j.placement)===w?j.overflows[0]>0:!0)))return{data:{index:$,overflows:R},reset:{placement:ne}};let Z=(D=R.filter(Y=>Y.overflows[0]<=0).sort((Y,j)=>Y.overflows[1]-j.overflows[1])[0])==null?void 0:D.placement;if(!Z)switch(m){case"bestFit":{var k;const Y=(k=R.filter(j=>{if(M){const L=Cr(j.placement);return L===w||L==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(L=>L>0).reduce((L,q)=>L+q,0)]).sort((j,L)=>j[1]-L[1])[0])==null?void 0:k[0];Y&&(Z=Y);break}case"initialPlacement":Z=a;break}if(s!==Z)return{reset:{placement:Z}}}return{}}}};function q0(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function K0(t){return hO.some(e=>t[e]>=0)}const IO=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=es(t,e);switch(r){case"referenceHidden":{const o=await Kl(e,{...s,elementContext:"reference"}),i=q0(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:K0(i)}}}case"escaped":{const o=await Kl(e,{...s,altBoundary:!0}),i=q0(o,n.floating);return{data:{escapedOffsets:i,escaped:K0(i)}}}default:return{}}}}},bS=new Set(["left","top"]);async function RO(t,e){const{placement:n,platform:r,elements:s}=t,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=ts(n),a=xa(n),c=Cr(n)==="y",u=bS.has(i)?-1:1,d=o&&c?-1:1,f=es(e,t);let{mainAxis:h,crossAxis:m,alignmentAxis:S}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof S=="number"&&(m=a==="end"?S*-1:S),c?{x:m*d,y:h*u}:{x:h*u,y:m*d}}const AO=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=e,c=await RO(e,t);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},PO=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:E=>{let{x,y:w}=E;return{x,y:w}}},...c}=es(t,e),u={x:n,y:r},d=await Kl(e,c),f=Cr(ts(s)),h=fy(f);let m=u[h],S=u[f];if(o){const E=h==="y"?"top":"left",x=h==="y"?"bottom":"right",w=m+d[E],T=m-d[x];m=ym(w,m,T)}if(i){const E=f==="y"?"top":"left",x=f==="y"?"bottom":"right",w=S+d[E],T=S-d[x];S=ym(w,S,T)}const v=a.fn({...e,[h]:m,[f]:S});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[h]:o,[f]:i}}}}}},NO=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=e,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=es(t,e),d={x:n,y:r},f=Cr(s),h=fy(f);let m=d[h],S=d[f];const v=es(a,e),E=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(c){const T=h==="y"?"height":"width",N=o.reference[h]-o.floating[T]+E.mainAxis,O=o.reference[h]+o.reference[T]-E.mainAxis;m<N?m=N:m>O&&(m=O)}if(u){var x,w;const T=h==="y"?"width":"height",N=bS.has(ts(s)),O=o.reference[f]-o.floating[T]+(N&&((x=i.offset)==null?void 0:x[f])||0)+(N?0:E.crossAxis),M=o.reference[f]+o.reference[T]+(N?0:((w=i.offset)==null?void 0:w[f])||0)-(N?E.crossAxis:0);S<O?S=O:S>M&&(S=M)}return{[h]:m,[f]:S}}}},kO=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:o,platform:i,elements:a}=e,{apply:c=()=>{},...u}=es(t,e),d=await Kl(e,u),f=ts(s),h=xa(s),m=Cr(s)==="y",{width:S,height:v}=o.floating;let E,x;f==="top"||f==="bottom"?(E=f,x=h===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=f,E=h==="end"?"top":"bottom");const w=v-d.top-d.bottom,T=S-d.left-d.right,N=Xs(v-d[E],w),O=Xs(S-d[x],T),M=!e.middlewareData.shift;let I=N,b=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),M&&!h){const R=Tn(d.left,0),A=Tn(d.right,0),D=Tn(d.top,0),k=Tn(d.bottom,0);m?b=S-2*(R!==0||A!==0?R+A:Tn(d.left,d.right)):I=v-2*(D!==0||k!==0?D+k:Tn(d.top,d.bottom))}await c({...e,availableWidth:b,availableHeight:I});const C=await i.getDimensions(a.floating);return S!==C.width||v!==C.height?{reset:{rects:!0}}:{}}}};function xf(){return typeof window<"u"}function Ea(t){return CS(t)?(t.nodeName||"").toLowerCase():"#document"}function In(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Lr(t){var e;return(e=(CS(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function CS(t){return xf()?t instanceof Node||t instanceof In(t).Node:!1}function ar(t){return xf()?t instanceof Element||t instanceof In(t).Element:!1}function Or(t){return xf()?t instanceof HTMLElement||t instanceof In(t).HTMLElement:!1}function G0(t){return!xf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof In(t).ShadowRoot}const DO=new Set(["inline","contents"]);function xc(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=lr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!DO.has(s)}const OO=new Set(["table","td","th"]);function MO(t){return OO.has(Ea(t))}const VO=[":popover-open",":modal"];function Ef(t){return VO.some(e=>{try{return t.matches(e)}catch{return!1}})}const LO=["transform","translate","scale","rotate","perspective"],jO=["transform","translate","scale","rotate","perspective","filter"],FO=["paint","layout","strict","content"];function my(t){const e=gy(),n=ar(t)?lr(t):t;return LO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||jO.some(r=>(n.willChange||"").includes(r))||FO.some(r=>(n.contain||"").includes(r))}function $O(t){let e=Js(t);for(;Or(e)&&!ca(e);){if(my(e))return e;if(Ef(e))return null;e=Js(e)}return null}function gy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const UO=new Set(["html","body","#document"]);function ca(t){return UO.has(Ea(t))}function lr(t){return In(t).getComputedStyle(t)}function Tf(t){return ar(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Js(t){if(Ea(t)==="html")return t;const e=t.assignedSlot||t.parentNode||G0(t)&&t.host||Lr(t);return G0(e)?e.host:e}function IS(t){const e=Js(t);return ca(e)?t.ownerDocument?t.ownerDocument.body:t.body:Or(e)&&xc(e)?e:IS(e)}function Gl(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=IS(t),o=s===((r=t.ownerDocument)==null?void 0:r.body),i=In(s);if(o){const a=wm(i);return e.concat(i,i.visualViewport||[],xc(s)?s:[],a&&n?Gl(a):[])}return e.concat(s,Gl(s,[],n))}function wm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function RS(t){const e=lr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Or(t),o=s?t.offsetWidth:n,i=s?t.offsetHeight:r,a=Sd(n)!==o||Sd(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function yy(t){return ar(t)?t:t.contextElement}function Fi(t){const e=yy(t);if(!Or(e))return Ar(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:o}=RS(e);let i=(o?Sd(n.width):n.width)/r,a=(o?Sd(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const BO=Ar(0);function AS(t){const e=In(t);return!gy()||!e.visualViewport?BO:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function zO(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==In(t)?!1:e}function zo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),o=yy(t);let i=Ar(1);e&&(r?ar(r)&&(i=Fi(r)):i=Fi(t));const a=zO(o,n,r)?AS(o):Ar(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const h=In(o),m=r&&ar(r)?In(r):r;let S=h,v=wm(S);for(;v&&r&&m!==S;){const E=Fi(v),x=v.getBoundingClientRect(),w=lr(v),T=x.left+(v.clientLeft+parseFloat(w.paddingLeft))*E.x,N=x.top+(v.clientTop+parseFloat(w.paddingTop))*E.y;c*=E.x,u*=E.y,d*=E.x,f*=E.y,c+=T,u+=N,S=In(v),v=wm(S)}}return Cd({width:d,height:f,x:c,y:u})}function Sf(t,e){const n=Tf(t).scrollLeft;return e?e.left+n:zo(Lr(t)).left+n}function PS(t,e){const n=t.getBoundingClientRect(),r=n.left+e.scrollLeft-Sf(t,n),s=n.top+e.scrollTop;return{x:r,y:s}}function WO(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const o=s==="fixed",i=Lr(r),a=e?Ef(e.floating):!1;if(r===i||a&&o)return n;let c={scrollLeft:0,scrollTop:0},u=Ar(1);const d=Ar(0),f=Or(r);if((f||!f&&!o)&&((Ea(r)!=="body"||xc(i))&&(c=Tf(r)),Or(r))){const m=zo(r);u=Fi(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const h=i&&!f&&!o?PS(i,c):Ar(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function HO(t){return Array.from(t.getClientRects())}function qO(t){const e=Lr(t),n=Tf(t),r=t.ownerDocument.body,s=Tn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Tn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Sf(t);const a=-n.scrollTop;return lr(r).direction==="rtl"&&(i+=Tn(e.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const Q0=25;function KO(t,e){const n=In(t),r=Lr(t),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const d=gy();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}const u=Sf(r);if(u<=0){const d=r.ownerDocument,f=d.body,h=getComputedStyle(f),m=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,S=Math.abs(r.clientWidth-f.clientWidth-m);S<=Q0&&(o-=S)}else u<=Q0&&(o+=u);return{width:o,height:i,x:a,y:c}}const GO=new Set(["absolute","fixed"]);function QO(t,e){const n=zo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,o=Or(t)?Fi(t):Ar(1),i=t.clientWidth*o.x,a=t.clientHeight*o.y,c=s*o.x,u=r*o.y;return{width:i,height:a,x:c,y:u}}function Y0(t,e,n){let r;if(e==="viewport")r=KO(t,n);else if(e==="document")r=qO(Lr(t));else if(ar(e))r=QO(e,n);else{const s=AS(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Cd(r)}function NS(t,e){const n=Js(t);return n===e||!ar(n)||ca(n)?!1:lr(n).position==="fixed"||NS(n,e)}function YO(t,e){const n=e.get(t);if(n)return n;let r=Gl(t,[],!1).filter(a=>ar(a)&&Ea(a)!=="body"),s=null;const o=lr(t).position==="fixed";let i=o?Js(t):t;for(;ar(i)&&!ca(i);){const a=lr(i),c=my(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&GO.has(s.position)||xc(i)&&!c&&NS(t,i))?r=r.filter(d=>d!==i):s=a,i=Js(i)}return e.set(t,r),r}function XO(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const i=[...n==="clippingAncestors"?Ef(e)?[]:YO(e,this._c):[].concat(n),r],a=i[0],c=i.reduce((u,d)=>{const f=Y0(e,d,s);return u.top=Tn(f.top,u.top),u.right=Xs(f.right,u.right),u.bottom=Xs(f.bottom,u.bottom),u.left=Tn(f.left,u.left),u},Y0(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function JO(t){const{width:e,height:n}=RS(t);return{width:e,height:n}}function ZO(t,e,n){const r=Or(e),s=Lr(e),o=n==="fixed",i=zo(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=Ar(0);function u(){c.x=Sf(s)}if(r||!r&&!o)if((Ea(e)!=="body"||xc(s))&&(a=Tf(e)),r){const m=zo(e,!0,o,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?PS(s,a):Ar(0),f=i.left+a.scrollLeft-c.x-d.x,h=i.top+a.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Kh(t){return lr(t).position==="static"}function X0(t,e){if(!Or(t)||lr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Lr(t)===n&&(n=n.ownerDocument.body),n}function kS(t,e){const n=In(t);if(Ef(t))return n;if(!Or(t)){let s=Js(t);for(;s&&!ca(s);){if(ar(s)&&!Kh(s))return s;s=Js(s)}return n}let r=X0(t,e);for(;r&&MO(r)&&Kh(r);)r=X0(r,e);return r&&ca(r)&&Kh(r)&&!my(r)?n:r||$O(t)||n}const eM=async function(t){const e=this.getOffsetParent||kS,n=this.getDimensions,r=await n(t.floating);return{reference:ZO(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function tM(t){return lr(t).direction==="rtl"}const nM={convertOffsetParentRelativeRectToViewportRelativeRect:WO,getDocumentElement:Lr,getClippingRect:XO,getOffsetParent:kS,getElementRects:eM,getClientRects:HO,getDimensions:JO,getScale:Fi,isElement:ar,isRTL:tM};function DS(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rM(t,e){let n=null,r;const s=Lr(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const u=t.getBoundingClientRect(),{left:d,top:f,width:h,height:m}=u;if(a||e(),!h||!m)return;const S=hu(f),v=hu(s.clientWidth-(d+h)),E=hu(s.clientHeight-(f+m)),x=hu(d),T={rootMargin:-S+"px "+-v+"px "+-E+"px "+-x+"px",threshold:Tn(0,Xs(1,c))||1};let N=!0;function O(M){const I=M[0].intersectionRatio;if(I!==c){if(!N)return i();I?i(!1,I):r=setTimeout(()=>{i(!1,1e-7)},1e3)}I===1&&!DS(u,t.getBoundingClientRect())&&i(),N=!1}try{n=new IntersectionObserver(O,{...T,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,T)}n.observe(t)}return i(!0),o}function sM(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=yy(t),d=s||o?[...u?Gl(u):[],...Gl(e)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const f=u&&a?rM(u,n):null;let h=-1,m=null;i&&(m=new ResizeObserver(x=>{let[w]=x;w&&w.target===u&&m&&(m.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var T;(T=m)==null||T.observe(e)})),n()}),u&&!c&&m.observe(u),m.observe(e));let S,v=c?zo(t):null;c&&E();function E(){const x=zo(t);v&&!DS(v,x)&&n(),v=x,S=requestAnimationFrame(E)}return n(),()=>{var x;d.forEach(w=>{s&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),f==null||f(),(x=m)==null||x.disconnect(),m=null,c&&cancelAnimationFrame(S)}}const oM=AO,iM=PO,aM=CO,lM=kO,cM=IO,J0=bO,uM=NO,dM=(t,e,n)=>{const r=new Map,s={platform:nM,...n},o={...s.platform,_c:r};return SO(t,e,{...s,platform:o})};var fM=typeof document<"u",hM=function(){},Uu=fM?g.useLayoutEffect:hM;function Id(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Id(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&t.$$typeof)&&!Id(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function OS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Z0(t,e){const n=OS(t);return Math.round(e*n)/n}function Gh(t){const e=g.useRef(t);return Uu(()=>{e.current=t}),e}function pM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=t,[d,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,m]=g.useState(r);Id(h,r)||m(r);const[S,v]=g.useState(null),[E,x]=g.useState(null),w=g.useCallback(j=>{j!==M.current&&(M.current=j,v(j))},[]),T=g.useCallback(j=>{j!==I.current&&(I.current=j,x(j))},[]),N=o||S,O=i||E,M=g.useRef(null),I=g.useRef(null),b=g.useRef(d),C=c!=null,R=Gh(c),A=Gh(s),D=Gh(u),k=g.useCallback(()=>{if(!M.current||!I.current)return;const j={placement:e,strategy:n,middleware:h};A.current&&(j.platform=A.current),dM(M.current,I.current,j).then(L=>{const q={...L,isPositioned:D.current!==!1};$.current&&!Id(b.current,q)&&(b.current=q,Fn.flushSync(()=>{f(q)}))})},[h,e,n,A,D]);Uu(()=>{u===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,f(j=>({...j,isPositioned:!1})))},[u]);const $=g.useRef(!1);Uu(()=>($.current=!0,()=>{$.current=!1}),[]),Uu(()=>{if(N&&(M.current=N),O&&(I.current=O),N&&O){if(R.current)return R.current(N,O,k);k()}},[N,O,k,R,C]);const ne=g.useMemo(()=>({reference:M,floating:I,setReference:w,setFloating:T}),[w,T]),Z=g.useMemo(()=>({reference:N,floating:O}),[N,O]),Y=g.useMemo(()=>{const j={position:n,left:0,top:0};if(!Z.floating)return j;const L=Z0(Z.floating,d.x),q=Z0(Z.floating,d.y);return a?{...j,transform:"translate("+L+"px, "+q+"px)",...OS(Z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:q}},[n,a,Z.floating,d.x,d.y]);return g.useMemo(()=>({...d,update:k,refs:ne,elements:Z,floatingStyles:Y}),[d,k,ne,Z,Y])}const mM=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?J0({element:r.current,padding:s}).fn(n):{}:r?J0({element:r,padding:s}).fn(n):{}}}},gM=(t,e)=>({...oM(t),options:[t,e]}),yM=(t,e)=>({...iM(t),options:[t,e]}),vM=(t,e)=>({...uM(t),options:[t,e]}),wM=(t,e)=>({...aM(t),options:[t,e]}),_M=(t,e)=>({...lM(t),options:[t,e]}),xM=(t,e)=>({...cM(t),options:[t,e]}),EM=(t,e)=>({...mM(t),options:[t,e]});var TM="Arrow",MS=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...o}=t;return y.jsx(be.svg,{...o,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});MS.displayName=TM;var SM=MS;function VS(t){const[e,n]=g.useState(void 0);return Lt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=t.offsetWidth,a=t.offsetHeight;n({width:i,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var vy="Popper",[LS,bf]=ei(vy),[bM,jS]=LS(vy),FS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return y.jsx(bM,{scope:e,anchor:r,onAnchorChange:s,children:n})};FS.displayName=vy;var $S="PopperAnchor",US=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,o=jS($S,n),i=g.useRef(null),a=Be(e,i),c=g.useRef(null);return g.useEffect(()=>{const u=c.current;c.current=(r==null?void 0:r.current)||i.current,u!==c.current&&o.onAnchorChange(c.current)}),r?null:y.jsx(be.div,{...s,ref:a})});US.displayName=$S;var wy="PopperContent",[CM,IM]=LS(wy),BS=g.forwardRef((t,e)=>{var G,we,Ie,re,de,ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:m="optimized",onPlaced:S,...v}=t,E=jS(wy,n),[x,w]=g.useState(null),T=Be(e,$e=>w($e)),[N,O]=g.useState(null),M=VS(N),I=(M==null?void 0:M.width)??0,b=(M==null?void 0:M.height)??0,C=r+(o!=="center"?"-"+o:""),R=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],D=A.length>0,k={padding:R,boundary:A.filter(AM),altBoundary:D},{refs:$,floatingStyles:ne,placement:Z,isPositioned:Y,middlewareData:j}=pM({strategy:"fixed",placement:C,whileElementsMounted:(...$e)=>sM(...$e,{animationFrame:m==="always"}),elements:{reference:E.anchor},middleware:[gM({mainAxis:s+b,alignmentAxis:i}),c&&yM({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?vM():void 0,...k}),c&&wM({...k}),_M({...k,apply:({elements:$e,rects:ze,availableWidth:St,availableHeight:bt})=>{const{width:Nn,height:fr}=ze.reference,vn=$e.floating.style;vn.setProperty("--radix-popper-available-width",`${St}px`),vn.setProperty("--radix-popper-available-height",`${bt}px`),vn.setProperty("--radix-popper-anchor-width",`${Nn}px`),vn.setProperty("--radix-popper-anchor-height",`${fr}px`)}}),N&&EM({element:N,padding:a}),PM({arrowWidth:I,arrowHeight:b}),h&&xM({strategy:"referenceHidden",...k})]}),[L,q]=HS(Z),se=ir(S);Lt(()=>{Y&&(se==null||se())},[Y,se]);const K=(G=j.arrow)==null?void 0:G.x,X=(we=j.arrow)==null?void 0:we.y,ae=((Ie=j.arrow)==null?void 0:Ie.centerOffset)!==0,[_e,xe]=g.useState();return Lt(()=>{x&&xe(window.getComputedStyle(x).zIndex)},[x]),y.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:Y?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(re=j.transformOrigin)==null?void 0:re.x,(de=j.transformOrigin)==null?void 0:de.y].join(" "),...((ce=j.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:y.jsx(CM,{scope:n,placedSide:L,onArrowChange:O,arrowX:K,arrowY:X,shouldHideArrow:ae,children:y.jsx(be.div,{"data-side":L,"data-align":q,...v,ref:T,style:{...v.style,animation:Y?void 0:"none"}})})})});BS.displayName=wy;var zS="PopperArrow",RM={top:"bottom",right:"left",bottom:"top",left:"right"},WS=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,o=IM(zS,r),i=RM[o.placedSide];return y.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:y.jsx(SM,{...s,ref:n,style:{...s.style,display:"block"}})})});WS.displayName=zS;function AM(t){return t!==null}var PM=t=>({name:"transformOrigin",options:t,fn(e){var E,x,w;const{placement:n,rects:r,middlewareData:s}=e,i=((E=s.arrow)==null?void 0:E.centerOffset)!==0,a=i?0:t.arrowWidth,c=i?0:t.arrowHeight,[u,d]=HS(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,m=(((w=s.arrow)==null?void 0:w.y)??0)+c/2;let S="",v="";return u==="bottom"?(S=i?f:`${h}px`,v=`${-c}px`):u==="top"?(S=i?f:`${h}px`,v=`${r.floating.height+c}px`):u==="right"?(S=`${-c}px`,v=i?f:`${m}px`):u==="left"&&(S=`${r.floating.width+c}px`,v=i?f:`${m}px`),{data:{x:S,y:v}}}});function HS(t){const[e,n="center"]=t.split("-");return[e,n]}var NM=FS,qS=US,KS=BS,GS=WS,[Cf,w$]=ei("Tooltip",[bf]),_y=bf(),QS="TooltipProvider",kM=700,e_="tooltip.open",[DM,YS]=Cf(QS),XS=t=>{const{__scopeTooltip:e,delayDuration:n=kM,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=t,i=g.useRef(!0),a=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),y.jsx(DM,{scope:e,isOpenDelayedRef:i,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),i.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};XS.displayName=QS;var JS="Tooltip",[_$,If]=Cf(JS),_m="TooltipTrigger",OM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=If(_m,n),o=YS(_m,n),i=_y(n),a=g.useRef(null),c=Be(e,a,s.onTriggerChange),u=g.useRef(!1),d=g.useRef(!1),f=g.useCallback(()=>u.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),y.jsx(qS,{asChild:!0,...i,children:y.jsx(be.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:me(t.onPointerMove,h=>{h.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:me(t.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:me(t.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:me(t.onFocus,()=>{u.current||s.onOpen()}),onBlur:me(t.onBlur,s.onClose),onClick:me(t.onClick,s.onClose)})})});OM.displayName=_m;var MM="TooltipPortal",[x$,VM]=Cf(MM,{forceMount:void 0}),ua="TooltipContent",ZS=g.forwardRef((t,e)=>{const n=VM(ua,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=t,i=If(ua,t.__scopeTooltip);return y.jsx(ti,{present:r||i.open,children:i.disableHoverableContent?y.jsx(eb,{side:s,...o,ref:e}):y.jsx(LM,{side:s,...o,ref:e})})}),LM=g.forwardRef((t,e)=>{const n=If(ua,t.__scopeTooltip),r=YS(ua,t.__scopeTooltip),s=g.useRef(null),o=Be(e,s),[i,a]=g.useState(null),{trigger:c,onClose:u}=n,d=s.current,{onPointerInTransitChange:f}=r,h=g.useCallback(()=>{a(null),f(!1)},[f]),m=g.useCallback((S,v)=>{const E=S.currentTarget,x={x:S.clientX,y:S.clientY},w=BM(x,E.getBoundingClientRect()),T=zM(x,w),N=WM(v.getBoundingClientRect()),O=qM([...T,...N]);a(O),f(!0)},[f]);return g.useEffect(()=>()=>h(),[h]),g.useEffect(()=>{if(c&&d){const S=E=>m(E,d),v=E=>m(E,c);return c.addEventListener("pointerleave",S),d.addEventListener("pointerleave",v),()=>{c.removeEventListener("pointerleave",S),d.removeEventListener("pointerleave",v)}}},[c,d,m,h]),g.useEffect(()=>{if(i){const S=v=>{const E=v.target,x={x:v.clientX,y:v.clientY},w=(c==null?void 0:c.contains(E))||(d==null?void 0:d.contains(E)),T=!HM(x,i);w?h():T&&(h(),u())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[c,d,i,u,h]),y.jsx(eb,{...t,ref:o})}),[jM,FM]=Cf(JS,{isInside:!1}),$M=Kk("TooltipContent"),eb=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=t,c=If(ua,n),u=_y(n),{onClose:d}=c;return g.useEffect(()=>(document.addEventListener(e_,d),()=>document.removeEventListener(e_,d)),[d]),g.useEffect(()=>{if(c.trigger){const f=h=>{const m=h.target;m!=null&&m.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),y.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:y.jsxs(KS,{"data-state":c.stateAttribute,...u,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[y.jsx($M,{children:r}),y.jsx(jM,{scope:n,isInside:!0,children:y.jsx(m2,{id:c.contentId,role:"tooltip",children:s||r})})]})})});ZS.displayName=ua;var tb="TooltipArrow",UM=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=_y(n);return FM(tb,n).isInside?null:y.jsx(GS,{...s,...r,ref:e})});UM.displayName=tb;function BM(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function zM(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function WM(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function HM(t,e){const{x:n,y:r}=t;let s=!1;for(let o=0,i=e.length-1;o<e.length;i=o++){const a=e[o],c=e[i],u=a.x,d=a.y,f=c.x,h=c.y;d>r!=h>r&&n<(f-u)*(r-d)/(h-d)+u&&(s=!s)}return s}function qM(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),KM(e)}function KM(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const o=e[e.length-1],i=e[e.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var GM=XS,nb=ZS;const QM=GM,YM=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>y.jsx(nb,{ref:r,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));YM.displayName=nb.displayName;var Rf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XM={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ts,ig,Yx,JM=(Yx=class{constructor(){Re(this,Ts,XM);Re(this,ig,!1)}setTimeoutProvider(t){fe(this,Ts,t)}setTimeout(t,e){return U(this,Ts).setTimeout(t,e)}clearTimeout(t){U(this,Ts).clearTimeout(t)}setInterval(t,e){return U(this,Ts).setInterval(t,e)}clearInterval(t){U(this,Ts).clearInterval(t)}},Ts=new WeakMap,ig=new WeakMap,Yx),xm=new JM;function ZM(t){setTimeout(t,0)}var Af=typeof window>"u"||"Deno"in globalThis;function Xn(){}function e4(t,e){return typeof t=="function"?t(e):t}function t4(t){return typeof t=="number"&&t>=0&&t!==1/0}function n4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Em(t,e){return typeof t=="function"?t(e):t}function r4(t,e){return typeof t=="function"?t(e):t}function t_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=t;if(i){if(r){if(e.queryHash!==xy(i,e.options))return!1}else if(!Yl(e.queryKey,i))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||o&&!o(e))}function n_(t,e){const{exact:n,status:r,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(n){if(Ql(e.options.mutationKey)!==Ql(o))return!1}else if(!Yl(e.options.mutationKey,o))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function xy(t,e){return((e==null?void 0:e.queryKeyHashFn)||Ql)(t)}function Ql(t){return JSON.stringify(t,(e,n)=>Tm(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Yl(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Yl(t[n],e[n])):!1}var s4=Object.prototype.hasOwnProperty;function rb(t,e){if(t===e)return t;const n=r_(t)&&r_(e);if(!n&&!(Tm(t)&&Tm(e)))return e;const s=(n?t:Object.keys(t)).length,o=n?e:Object.keys(e),i=o.length,a=n?new Array(i):{};let c=0;for(let u=0;u<i;u++){const d=n?u:o[u],f=t[d],h=e[d];if(f===h){a[d]=f,(n?u<s:s4.call(t,d))&&c++;continue}if(f===null||h===null||typeof f!="object"||typeof h!="object"){a[d]=h;continue}const m=rb(f,h);a[d]=m,m===f&&c++}return s===i&&c===s?t:a}function r_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Tm(t){if(!s_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!s_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function s_(t){return Object.prototype.toString.call(t)==="[object Object]"}function o4(t){return new Promise(e=>{xm.setTimeout(e,t)})}function i4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rb(t,e):e}function a4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function l4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Ey=Symbol();function sb(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Ey?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Po,Ss,Ki,Xx,c4=(Xx=class extends Rf{constructor(){super();Re(this,Po);Re(this,Ss);Re(this,Ki);fe(this,Ki,e=>{if(!Af&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){U(this,Ss)||this.setEventListener(U(this,Ki))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,Ss))==null||e.call(this),fe(this,Ss,void 0))}setEventListener(e){var n;fe(this,Ki,e),(n=U(this,Ss))==null||n.call(this),fe(this,Ss,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){U(this,Po)!==e&&(fe(this,Po,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof U(this,Po)=="boolean"?U(this,Po):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Po=new WeakMap,Ss=new WeakMap,Ki=new WeakMap,Xx),ob=new c4;function u4(){let t,e;const n=new Promise((s,o)=>{t=s,e=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}var d4=ZM;function f4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=d4;const o=a=>{e?t.push(a):s(()=>{n(a)})},i=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var tn=f4(),Gi,bs,Qi,Jx,h4=(Jx=class extends Rf{constructor(){super();Re(this,Gi,!0);Re(this,bs);Re(this,Qi);fe(this,Qi,e=>{if(!Af&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){U(this,bs)||this.setEventListener(U(this,Qi))}onUnsubscribe(){var e;this.hasListeners()||((e=U(this,bs))==null||e.call(this),fe(this,bs,void 0))}setEventListener(e){var n;fe(this,Qi,e),(n=U(this,bs))==null||n.call(this),fe(this,bs,e(this.setOnline.bind(this)))}setOnline(e){U(this,Gi)!==e&&(fe(this,Gi,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return U(this,Gi)}},Gi=new WeakMap,bs=new WeakMap,Qi=new WeakMap,Jx),Rd=new h4;function p4(t){return Math.min(1e3*2**t,3e4)}function ib(t){return(t??"online")==="online"?Rd.isOnline():!0}var Sm=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ab(t){let e=!1,n=0,r;const s=u4(),o=()=>s.status!=="pending",i=v=>{var E;if(!o()){const x=new Sm(v);h(x),(E=t.onCancel)==null||E.call(t,x)}},a=()=>{e=!0},c=()=>{e=!1},u=()=>ob.isFocused()&&(t.networkMode==="always"||Rd.isOnline())&&t.canRun(),d=()=>ib(t.networkMode)&&t.canRun(),f=v=>{o()||(r==null||r(),s.resolve(v))},h=v=>{o()||(r==null||r(),s.reject(v))},m=()=>new Promise(v=>{var E;r=x=>{(o()||u())&&v(x)},(E=t.onPause)==null||E.call(t)}).then(()=>{var v;r=void 0,o()||(v=t.onContinue)==null||v.call(t)}),S=()=>{if(o())return;let v;const E=n===0?t.initialPromise:void 0;try{v=E??t.fn()}catch(x){v=Promise.reject(x)}Promise.resolve(v).then(f).catch(x=>{var M;if(o())return;const w=t.retry??(Af?0:3),T=t.retryDelay??p4,N=typeof T=="function"?T(n,x):T,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,x);if(e||!O){h(x);return}n++,(M=t.onFail)==null||M.call(t,n,x),o4(N).then(()=>u()?void 0:m()).then(()=>{e?h(x):S()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?S():m().then(S),s)}}var No,Zx,lb=(Zx=class{constructor(){Re(this,No)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),t4(this.gcTime)&&fe(this,No,xm.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Af?1/0:5*60*1e3))}clearGcTimeout(){U(this,No)&&(xm.clearTimeout(U(this,No)),fe(this,No,void 0))}},No=new WeakMap,Zx),ko,Yi,Dn,Do,Ct,uc,Oo,Jn,zr,eE,m4=(eE=class extends lb{constructor(n){super();Re(this,Jn);Re(this,ko);Re(this,Yi);Re(this,Dn);Re(this,Do);Re(this,Ct);Re(this,uc);Re(this,Oo);fe(this,Oo,!1),fe(this,uc,n.defaultOptions),this.setOptions(n.options),this.observers=[],fe(this,Do,n.client),fe(this,Dn,U(this,Do).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,fe(this,ko,o_(this.options)),this.state=n.state??U(this,ko),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=U(this,Ct))==null?void 0:n.promise}setOptions(n){if(this.options={...U(this,uc),...n},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=o_(this.options);r.data!==void 0&&(this.setData(r.data,{updatedAt:r.dataUpdatedAt,manual:!0}),fe(this,ko,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&U(this,Dn).remove(this)}setData(n,r){const s=i4(this.state.data,n,this.options);return Ut(this,Jn,zr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ut(this,Jn,zr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,o;const r=(s=U(this,Ct))==null?void 0:s.promise;return(o=U(this,Ct))==null||o.cancel(n),r?r.then(Xn).catch(Xn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(U(this,ko))}isActive(){return this.observers.some(n=>r4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ey||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Em(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!n4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=U(this,Ct))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),U(this,Dn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(U(this,Ct)&&(U(this,Oo)?U(this,Ct).cancel({revert:!0}):U(this,Ct).cancelRetry()),this.scheduleGc()),U(this,Dn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,Jn,zr).call(this,{type:"invalidate"})}async fetch(n,r){var u,d,f,h,m,S,v,E,x,w,T,N;if(this.state.fetchStatus!=="idle"&&((u=U(this,Ct))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(U(this,Ct))return U(this,Ct).continueRetry(),U(this,Ct).promise}if(n&&this.setOptions(n),!this.options.queryFn){const O=this.observers.find(M=>M.options.queryFn);O&&this.setOptions(O.options)}const s=new AbortController,o=O=>{Object.defineProperty(O,"signal",{enumerable:!0,get:()=>(fe(this,Oo,!0),s.signal)})},i=()=>{const O=sb(this.options,r),I=(()=>{const b={client:U(this,Do),queryKey:this.queryKey,meta:this.meta};return o(b),b})();return fe(this,Oo,!1),this.options.persister?this.options.persister(O,I,this):O(I)},c=(()=>{const O={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:U(this,Do),state:this.state,fetchFn:i};return o(O),O})();(d=this.options.behavior)==null||d.onFetch(c,this),fe(this,Yi,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Ut(this,Jn,zr).call(this,{type:"fetch",meta:(h=c.fetchOptions)==null?void 0:h.meta}),fe(this,Ct,ab({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,onCancel:O=>{O instanceof Sm&&O.revert&&this.setState({...U(this,Yi),fetchStatus:"idle"}),s.abort()},onFail:(O,M)=>{Ut(this,Jn,zr).call(this,{type:"failed",failureCount:O,error:M})},onPause:()=>{Ut(this,Jn,zr).call(this,{type:"pause"})},onContinue:()=>{Ut(this,Jn,zr).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0}));try{const O=await U(this,Ct).start();if(O===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(O),(S=(m=U(this,Dn).config).onSuccess)==null||S.call(m,O,this),(E=(v=U(this,Dn).config).onSettled)==null||E.call(v,O,this.state.error,this),O}catch(O){if(O instanceof Sm){if(O.silent)return U(this,Ct).promise;if(O.revert){if(this.state.data===void 0)throw O;return this.state.data}}throw Ut(this,Jn,zr).call(this,{type:"error",error:O}),(w=(x=U(this,Dn).config).onError)==null||w.call(x,O,this),(N=(T=U(this,Dn).config).onSettled)==null||N.call(T,this.state.data,O,this),O}finally{this.scheduleGc()}}},ko=new WeakMap,Yi=new WeakMap,Dn=new WeakMap,Do=new WeakMap,Ct=new WeakMap,uc=new WeakMap,Oo=new WeakMap,Jn=new WeakSet,zr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...g4(s.data,this.options),fetchMeta:n.meta??null};case"success":const o={...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return fe(this,Yi,n.manual?o:void 0),o;case"error":const i=n.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),tn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),U(this,Dn).notify({query:this,type:"updated",action:n})})},eE);function g4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ib(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function o_(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function i_(t){return{onFetch:(e,n)=>{var d,f,h,m,S;const r=e.options,s=(h=(f=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,o=((m=e.state.data)==null?void 0:m.pages)||[],i=((S=e.state.data)==null?void 0:S.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let v=!1;const E=T=>{Object.defineProperty(T,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},x=sb(e.options,e.fetchOptions),w=async(T,N,O)=>{if(v)return Promise.reject();if(N==null&&T.pages.length)return Promise.resolve(T);const I=(()=>{const A={client:e.client,queryKey:e.queryKey,pageParam:N,direction:O?"backward":"forward",meta:e.options.meta};return E(A),A})(),b=await x(I),{maxPages:C}=e.options,R=O?l4:a4;return{pages:R(T.pages,b,C),pageParams:R(T.pageParams,N,C)}};if(s&&o.length){const T=s==="backward",N=T?y4:a_,O={pages:o,pageParams:i},M=N(r,O);a=await w(O,M,T)}else{const T=t??o.length;do{const N=c===0?i[0]??r.initialPageParam:a_(r,a);if(c>0&&N==null)break;a=await w(a,N),c++}while(c<T)}return a};e.options.persister?e.fetchFn=()=>{var v,E;return(E=(v=e.options).persister)==null?void 0:E.call(v,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=u}}}function a_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function y4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var wr,Zt,Mo,_r,gs,tE,v4=(tE=class extends lb{constructor(n){super();Re(this,_r);Re(this,wr);Re(this,Zt);Re(this,Mo);this.mutationId=n.mutationId,fe(this,Zt,n.mutationCache),fe(this,wr,[]),this.state=n.state||w4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){U(this,wr).includes(n)||(U(this,wr).push(n),this.clearGcTimeout(),U(this,Zt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){fe(this,wr,U(this,wr).filter(r=>r!==n)),this.scheduleGc(),U(this,Zt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){U(this,wr).length||(this.state.status==="pending"?this.scheduleGc():U(this,Zt).remove(this))}continue(){var n;return((n=U(this,Mo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,a,c,u,d,f,h,m,S,v,E,x,w,T,N,O,M,I,b,C;const r=()=>{Ut(this,_r,gs).call(this,{type:"continue"})};fe(this,Mo,ab({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(R,A)=>{Ut(this,_r,gs).call(this,{type:"failed",failureCount:R,error:A})},onPause:()=>{Ut(this,_r,gs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>U(this,Zt).canRun(this)}));const s=this.state.status==="pending",o=!U(this,Mo).canStart();try{if(s)r();else{Ut(this,_r,gs).call(this,{type:"pending",variables:n,isPaused:o}),await((a=(i=U(this,Zt).config).onMutate)==null?void 0:a.call(i,n,this));const A=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,n));A!==this.state.context&&Ut(this,_r,gs).call(this,{type:"pending",context:A,variables:n,isPaused:o})}const R=await U(this,Mo).start();return await((f=(d=U(this,Zt).config).onSuccess)==null?void 0:f.call(d,R,n,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,R,n,this.state.context)),await((v=(S=U(this,Zt).config).onSettled)==null?void 0:v.call(S,R,null,this.state.variables,this.state.context,this)),await((x=(E=this.options).onSettled)==null?void 0:x.call(E,R,null,n,this.state.context)),Ut(this,_r,gs).call(this,{type:"success",data:R}),R}catch(R){try{throw await((T=(w=U(this,Zt).config).onError)==null?void 0:T.call(w,R,n,this.state.context,this)),await((O=(N=this.options).onError)==null?void 0:O.call(N,R,n,this.state.context)),await((I=(M=U(this,Zt).config).onSettled)==null?void 0:I.call(M,void 0,R,this.state.variables,this.state.context,this)),await((C=(b=this.options).onSettled)==null?void 0:C.call(b,void 0,R,n,this.state.context)),R}finally{Ut(this,_r,gs).call(this,{type:"error",error:R})}}finally{U(this,Zt).runNext(this)}}},wr=new WeakMap,Zt=new WeakMap,Mo=new WeakMap,_r=new WeakSet,gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),tn.batch(()=>{U(this,wr).forEach(s=>{s.onMutationUpdate(n)}),U(this,Zt).notify({mutation:this,type:"updated",action:n})})},tE);function w4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var qr,Zn,dc,nE,_4=(nE=class extends Rf{constructor(e={}){super();Re(this,qr);Re(this,Zn);Re(this,dc);this.config=e,fe(this,qr,new Set),fe(this,Zn,new Map),fe(this,dc,0)}build(e,n,r){const s=new v4({mutationCache:this,mutationId:++qc(this,dc)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){U(this,qr).add(e);const n=pu(e);if(typeof n=="string"){const r=U(this,Zn).get(n);r?r.push(e):U(this,Zn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(U(this,qr).delete(e)){const n=pu(e);if(typeof n=="string"){const r=U(this,Zn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&U(this,Zn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=pu(e);if(typeof n=="string"){const r=U(this,Zn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=pu(e);if(typeof n=="string"){const s=(r=U(this,Zn).get(n))==null?void 0:r.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){tn.batch(()=>{U(this,qr).forEach(e=>{this.notify({type:"removed",mutation:e})}),U(this,qr).clear(),U(this,Zn).clear()})}getAll(){return Array.from(U(this,qr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>n_(n,r))}findAll(e={}){return this.getAll().filter(n=>n_(e,n))}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return tn.batch(()=>Promise.all(e.map(n=>n.continue().catch(Xn))))}},qr=new WeakMap,Zn=new WeakMap,dc=new WeakMap,nE);function pu(t){var e;return(e=t.options.scope)==null?void 0:e.id}var xr,rE,x4=(rE=class extends Rf{constructor(e={}){super();Re(this,xr);this.config=e,fe(this,xr,new Map)}build(e,n,r){const s=n.queryKey,o=n.queryHash??xy(s,n);let i=this.get(o);return i||(i=new m4({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(i)),i}add(e){U(this,xr).has(e.queryHash)||(U(this,xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=U(this,xr).get(e.queryHash);n&&(e.destroy(),n===e&&U(this,xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){tn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return U(this,xr).get(e)}getAll(){return[...U(this,xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>t_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>t_(e,r)):n}notify(e){tn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){tn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){tn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xr=new WeakMap,rE),lt,Cs,Is,Xi,Ji,Rs,Zi,ea,sE,E4=(sE=class{constructor(t={}){Re(this,lt);Re(this,Cs);Re(this,Is);Re(this,Xi);Re(this,Ji);Re(this,Rs);Re(this,Zi);Re(this,ea);fe(this,lt,t.queryCache||new x4),fe(this,Cs,t.mutationCache||new _4),fe(this,Is,t.defaultOptions||{}),fe(this,Xi,new Map),fe(this,Ji,new Map),fe(this,Rs,0)}mount(){qc(this,Rs)._++,U(this,Rs)===1&&(fe(this,Zi,ob.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,lt).onFocus())})),fe(this,ea,Rd.subscribe(async t=>{t&&(await this.resumePausedMutations(),U(this,lt).onOnline())})))}unmount(){var t,e;qc(this,Rs)._--,U(this,Rs)===0&&((t=U(this,Zi))==null||t.call(this),fe(this,Zi,void 0),(e=U(this,ea))==null||e.call(this),fe(this,ea,void 0))}isFetching(t){return U(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return U(this,Cs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=U(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Em(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return U(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=U(this,lt).get(r.queryHash),o=s==null?void 0:s.state.data,i=e4(e,o);if(i!==void 0)return U(this,lt).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(t,e,n){return tn.batch(()=>U(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=U(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=U(this,lt);tn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=U(this,lt);return tn.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=tn.batch(()=>U(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Xn).catch(Xn)}invalidateQueries(t,e={}){return tn.batch(()=>(U(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=tn.batch(()=>U(this,lt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Xn)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Xn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=U(this,lt).build(this,e);return n.isStaleByTime(Em(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Xn).catch(Xn)}fetchInfiniteQuery(t){return t.behavior=i_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Xn).catch(Xn)}ensureInfiniteQueryData(t){return t.behavior=i_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Rd.isOnline()?U(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return U(this,lt)}getMutationCache(){return U(this,Cs)}getDefaultOptions(){return U(this,Is)}setDefaultOptions(t){fe(this,Is,t)}setQueryDefaults(t,e){U(this,Xi).set(Ql(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...U(this,Xi).values()],n={};return e.forEach(r=>{Yl(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){U(this,Ji).set(Ql(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...U(this,Ji).values()],n={};return e.forEach(r=>{Yl(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...U(this,Is).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=xy(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ey&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...U(this,Is).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){U(this,lt).clear(),U(this,Cs).clear()}},lt=new WeakMap,Cs=new WeakMap,Is=new WeakMap,Xi=new WeakMap,Ji=new WeakMap,Rs=new WeakMap,Zi=new WeakMap,ea=new WeakMap,sE),T4=g.createContext(void 0),S4=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),y.jsx(T4.Provider,{value:t,children:e}));const b4=()=>y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background to-muted/20",children:y.jsxs("div",{className:"container mx-auto px-4 py-16",children:[y.jsxs("div",{className:"text-center mb-12",children:[y.jsx("h1",{className:"text-5xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Work Tracker"}),y.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Track work sessions, manage jobs, and monitor progress with an easy-to-use dashboard system."})]}),y.jsxs("div",{className:"grid md:grid-cols-3 gap-6 max-w-4xl mx-auto",children:[y.jsx(Vi,{to:"/worker",className:"group block p-6 bg-card rounded-lg border hover:shadow-lg transition-all duration-300 hover:scale-105",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-primary/10 rounded-full flex items-center justify-center group-hover:bg-primary/20 transition-colors",children:y.jsx(Ys,{className:"w-8 h-8 text-primary"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Worker Dashboard"}),y.jsx("p",{className:"text-muted-foreground",children:"Check in, track time, and complete assigned jobs"})]})}),y.jsx(Vi,{to:"/parent",className:"group block p-6 bg-card rounded-lg border hover:shadow-lg transition-all duration-300 hover:scale-105",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-success/10 rounded-full flex items-center justify-center group-hover:bg-success/20 transition-colors",children:y.jsx(F2,{className:"w-8 h-8 text-success"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Parent Overview"}),y.jsx("p",{className:"text-muted-foreground",children:"View work history, track progress, and monitor activity"})]})}),y.jsx(Vi,{to:"/jobs",className:"group block p-6 bg-card rounded-lg border hover:shadow-lg transition-all duration-300 hover:scale-105",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-accent/10 rounded-full flex items-center justify-center group-hover:bg-accent/20 transition-colors",children:y.jsx(L2,{className:"w-8 h-8 text-accent"})}),y.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Manage Jobs"}),y.jsx("p",{className:"text-muted-foreground",children:"Create, edit, and organize available work assignments"})]})})]}),y.jsx("div",{className:"text-center mt-12",children:y.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground bg-muted/50 px-4 py-2 rounded-full",children:[y.jsx(H2,{className:"w-4 h-4"}),"Connect to Supabase to enable data persistence and real-time updates"]})})]})}),C4=cy("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nn=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},o)=>{const i=r?Hk:"button";return y.jsx(i,{className:De(C4({variant:e,size:n,className:t})),ref:o,...s})});nn.displayName="Button";const qt=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));qt.displayName="Card";const Er=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));Er.displayName="CardHeader";const Tr=g.forwardRef(({className:t,...e},n)=>y.jsx("h3",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));Tr.displayName="CardTitle";const $i=g.forwardRef(({className:t,...e},n)=>y.jsx("p",{ref:n,className:De("text-sm text-muted-foreground",t),...e}));$i.displayName="CardDescription";const Kt=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Kt.displayName="CardContent";const I4=g.forwardRef(({className:t,...e},n)=>y.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));I4.displayName="CardFooter";const Ty=g.forwardRef(({className:t,...e},n)=>y.jsx("textarea",{className:De("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ty.displayName="Textarea";const R4=cy("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function cn({className:t,variant:e,...n}){return y.jsx("div",{className:De(R4({variant:e}),t),...n})}const Ad=g.forwardRef(({className:t,type:e,...n},r)=>y.jsx("input",{type:e,className:De("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ad.displayName="Input";const A4=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(null),[s,o]=g.useState(""),[i,a]=g.useState(null),[c,u]=g.useState([]),[d,f]=g.useState(!0),[h,m]=g.useState(""),[S,v]=g.useState(!1),[E,x]=g.useState(null),{toast:w}=oy();g.useEffect(()=>{N(),T();const A=localStorage.getItem("workerName");A&&m(A)},[]);const T=async()=>{try{const A=new Date().toISOString().split("T")[0],D=localStorage.getItem("workerName")||"Worker",k=null}catch(A){console.error("Error checking today attendance:",A)}},N=async()=>{try{const A=[],D=new Date().toLocaleDateString("en-US",{weekday:"long"}),k=(A||[]).filter($=>{const ne=$.assigned_days||[];return ne.length===0||ne.includes(D)});u(k.map($=>({...$,status:$.status,priority:$.priority,assigned_days:$.assigned_days||[],category:$.category||"active",display_order:$.display_order||0})))}catch(A){console.error("Error fetching jobs:",A),w({title:"Error",description:"Failed to load available jobs",variant:"destructive"})}finally{f(!1)}},O=A=>{const D=Math.floor(A/60),k=A%60;return D>0&&k>0?`${D}h ${k}m`:D>0?`${D}h`:`${k}m`},M=A=>{switch(A){case"high":return"bg-destructive/10 text-destructive border-destructive/20";case"medium":return"bg-warning/10 text-warning border-warning/20";case"low":return"bg-success/10 text-success border-success/20";default:return"bg-muted text-muted-foreground"}},I=async()=>{if(!h.trim()){w({title:"Error",description:"Please enter your name first",variant:"destructive"});return}try{const A=new Date,D=A.toISOString(),k=A.toISOString().split("T")[0],$=A.getHours()>16;localStorage.setItem("workerName",h);const ne=null}catch(A){console.error("Error checking in:",A),w({title:"Error",description:"Failed to check in",variant:"destructive"})}},b=async()=>{if(!(!E||!S))try{const A=new Date,D=A.toISOString(),k=A.getHours()<18,$=null}catch(A){console.error("Error checking out:",A),w({title:"Error",description:"Failed to check out",variant:"destructive"})}},C=async A=>{if(!S){w({title:"Error",description:"You must check in first before starting a job",variant:"destructive"});return}try{r(A),e(!0),a(new Date),o(""),w({title:"Started working",description:`Started working on: ${A.title}`})}catch(D){console.error("Error starting job:",D),w({title:"Error",description:"Failed to start job",variant:"destructive"})}},R=async()=>{if(s.trim()&&n&&i){Math.round((new Date().getTime()-i.getTime())/(1e3*60));try{w({title:"Job completed!",description:`Successfully completed: ${n.title}`}),e(!1),r(null),o(""),a(null),N()}catch(D){console.error("Error completing job:",D),w({title:"Error",description:"Failed to complete job",variant:"destructive"})}}};return y.jsx("div",{className:"min-h-screen bg-background p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsx(Vi,{to:"/",children:y.jsxs(nn,{variant:"outline",size:"sm",children:[y.jsx(uy,{className:"w-4 h-4 mr-2"}),"Home"]})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Work Dashboard"}),y.jsx("p",{className:"text-muted-foreground",children:"Check in/out and complete assigned jobs"})]})]}),y.jsxs(qt,{className:"mb-6",children:[y.jsxs(Er,{children:[y.jsxs(Tr,{className:"flex items-center gap-2",children:[S?y.jsx(pm,{className:"w-5 h-5 text-success"}):y.jsx(L0,{className:"w-5 h-5 text-muted-foreground"}),"Daily Attendance"]}),y.jsx($i,{children:"Work hours: 4:00 PM - 6:00 PM"})]}),y.jsxs(Kt,{className:"space-y-4",children:[!S&&y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Your Name"}),y.jsx(Ad,{value:h,onChange:A=>m(A.target.value),placeholder:"Enter your name",className:"mt-1"})]}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsxs("div",{children:[(E==null?void 0:E.check_in_time)&&y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Checked in: ",new Date(E.check_in_time).toLocaleTimeString(),E.is_late_check_in&&y.jsx(cn,{variant:"destructive",className:"ml-2",children:"Late"})]}),(E==null?void 0:E.check_out_time)&&y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Checked out: ",new Date(E.check_out_time).toLocaleTimeString(),E.is_early_check_out&&y.jsx(cn,{variant:"destructive",className:"ml-2",children:"Early"})]})]}),y.jsx("div",{className:"flex gap-2",children:S?y.jsxs(nn,{onClick:b,variant:"outline",className:"border-destructive text-destructive hover:bg-destructive hover:text-destructive-foreground",children:[y.jsx(L0,{className:"w-4 h-4 mr-2"}),"Check Out"]}):y.jsxs(nn,{onClick:I,disabled:!h.trim()||!!(E!=null&&E.check_out_time),className:"bg-gradient-to-r from-success to-success/80",children:[y.jsx(pm,{className:"w-4 h-4 mr-2"}),"Check In"]})})]})]})]}),t?y.jsx("div",{className:"space-y-6",children:y.jsxs(qt,{className:"border-success bg-success/5",children:[y.jsxs(Er,{children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(M0,{className:"w-5 h-5 text-success"}),y.jsx(Tr,{className:"text-success",children:"Currently Working"})]}),y.jsxs($i,{children:["Started at ",i==null?void 0:i.toLocaleTimeString()]})]}),y.jsx(Kt,{children:y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[y.jsx("h3",{className:"font-semibold text-lg",children:n==null?void 0:n.title}),n&&y.jsxs(cn,{className:M(n.priority),children:[n.priority," priority"]})]}),y.jsx("p",{className:"text-muted-foreground",children:(n==null?void 0:n.description)||"No description provided"}),y.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[y.jsxs(cn,{variant:"secondary",children:[y.jsx(Ys,{className:"w-3 h-3 mr-1"}),n?O(n.estimated_time):""]}),n&&n.assigned_days.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:n.assigned_days.map(A=>y.jsx(cn,{variant:"outline",className:"text-xs",children:A.slice(0,3)},A))})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-medium mb-2",children:"What did you do? (Required to check out)"}),y.jsx(Ty,{value:s,onChange:A=>o(A.target.value),placeholder:"Describe what you accomplished during this work session...",className:"min-h-[100px]"})]}),y.jsxs(nn,{onClick:R,disabled:!s.trim(),className:"w-full bg-gradient-to-r from-success to-success/80 hover:from-success/90 hover:to-success/70",children:[y.jsx(z2,{className:"w-4 h-4 mr-2"}),"Complete Job"]})]})})]})}):y.jsx("div",{className:"space-y-6",children:y.jsxs(qt,{children:[y.jsxs(Er,{children:[y.jsx(Tr,{children:"Available Jobs"}),y.jsx($i,{children:"Choose a job to start working on"})]}),y.jsx(Kt,{children:y.jsx("div",{className:"grid gap-4",children:d?y.jsx("div",{className:"text-center py-8",children:y.jsx("p",{className:"text-muted-foreground",children:"Loading available jobs..."})}):c.length===0?y.jsx("div",{className:"text-center py-8",children:y.jsx("p",{className:"text-muted-foreground",children:"No jobs available right now."})}):c.map(A=>y.jsx(qt,{className:"relative",children:y.jsx(Kt,{className:"p-4",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[y.jsx("h3",{className:"font-semibold",children:A.title}),y.jsx(cn,{className:M(A.priority),children:A.priority})]}),y.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:A.description||"No description provided"}),y.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[y.jsxs(cn,{variant:"outline",children:[y.jsx(Ys,{className:"w-3 h-3 mr-1"}),O(A.estimated_time)]}),A.assigned_days.length>0&&y.jsx(y.Fragment,{children:A.assigned_days.map(D=>y.jsx(cn,{variant:"outline",className:"text-xs",children:D.slice(0,3)},D))})]})]}),y.jsxs(nn,{onClick:()=>C(A),disabled:!S,className:"bg-gradient-to-r from-primary to-primary/80",children:[y.jsx(M0,{className:"w-4 h-4 mr-2"}),"Start Job"]})]})})},A.id))})})]})})]})})},P4=()=>{};var l_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},N4=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],i=t[n++],a=t[n++],c=((s&7)<<18|(o&63)<<12|(i&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],i=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|i&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],i=s+1<t.length,a=i?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,d=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;c||(m=64,i||(h=64)),r.push(n[d],n[f],n[h],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):N4(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||a==null||u==null||f==null)throw new k4;const h=o<<2|a>>4;if(r.push(h),u!==64){const m=a<<4&240|u>>2;if(r.push(m),f!==64){const S=u<<6&192|f;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class k4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const D4=function(t){const e=cb(t);return ub.encodeByteArray(e,!0)},Pd=function(t){return D4(t).replace(/\./g,"")},O4=function(t){try{return ub.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4=()=>M4().__FIREBASE_DEFAULTS__,L4=()=>{if(typeof process>"u"||typeof l_>"u")return;const t=l_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&O4(t[1]);return e&&JSON.parse(e)},Sy=()=>{try{return P4()||V4()||L4()||j4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},F4=t=>{var e,n;return(n=(e=Sy())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},$4=t=>{const e=F4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},db=()=>{var t;return(t=Sy())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B4(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Pd(JSON.stringify(n)),Pd(JSON.stringify(i)),""].join(".")}const vl={};function W4(){const t={prod:[],emulator:[]};for(const e of Object.keys(vl))vl[e]?t.emulator.push(e):t.prod.push(e);return t}function H4(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let c_=!1;function q4(t,e){if(typeof window>"u"||typeof document>"u"||!by(window.location.host)||vl[t]===e||vl[t]||c_)return;vl[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",o=W4().prod.length>0;function i(){const h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{c_=!0,i()},h}function d(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function f(){const h=H4(r),m=n("text"),S=document.getElementById(m)||document.createElement("span"),v=n("learnmore"),E=document.getElementById(v)||document.createElement("a"),x=n("preprendIcon"),w=document.getElementById(x)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const T=h.element;a(T),d(E,v);const N=u();c(w,x),T.append(w,S,E,N),document.body.appendChild(T)}o?(S.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){var e;const t=(e=Sy())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q4(){return!G4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Y4(){try{return typeof indexedDB=="object"}catch{return!1}}function X4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="FirebaseError";class Ta extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=J4,Object.setPrototypeOf(this,Ta.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fb.prototype.create)}}class fb{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],i=o?Z4(o,r):"Error",a=`${this.serviceName}: ${i} (${s}).`;return new Ta(s,a,r)}}function Z4(t,e){return t.replace(eV,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eV=/\{\$([^}]+)}/g;function Nd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],i=e[s];if(u_(o)&&u_(i)){if(!Nd(o,i))return!1}else if(o!==i)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function u_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(t){return t&&t._delegate?t._delegate:t}class Xl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U4;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rV(e))try{this.getOrInitializeService({instanceIdentifier:bo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bo){return this.instances.has(e)}getOptions(e=bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&i.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nV(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=bo){return this.component?this.component.multipleInstances?e:bo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function nV(t){return t===bo?void 0:t}function rV(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new tV(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const oV={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},iV=Pe.INFO,aV={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},lV=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=aV[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hb{constructor(e){this.name=e,this._logLevel=iV,this._logHandler=lV,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const cV=(t,e)=>e.some(n=>t instanceof n);let d_,f_;function uV(){return d_||(d_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dV(){return f_||(f_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pb=new WeakMap,bm=new WeakMap,mb=new WeakMap,Qh=new WeakMap,Cy=new WeakMap;function fV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",i)},o=()=>{n(Bs(t.result)),s()},i=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",i)});return e.then(n=>{n instanceof IDBCursor&&pb.set(n,t)}).catch(()=>{}),Cy.set(e,t),e}function hV(t){if(bm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",i),t.removeEventListener("abort",i)},o=()=>{n(),s()},i=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",i),t.addEventListener("abort",i)});bm.set(t,e)}let Cm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function pV(t){Cm=t(Cm)}function mV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return mb.set(r,e.sort?e.sort():[e]),Bs(r)}:dV().includes(t)?function(...e){return t.apply(Yh(this),e),Bs(pb.get(this))}:function(...e){return Bs(t.apply(Yh(this),e))}}function gV(t){return typeof t=="function"?mV(t):(t instanceof IDBTransaction&&hV(t),cV(t,uV())?new Proxy(t,Cm):t)}function Bs(t){if(t instanceof IDBRequest)return fV(t);if(Qh.has(t))return Qh.get(t);const e=gV(t);return e!==t&&(Qh.set(t,e),Cy.set(e,t)),e}const Yh=t=>Cy.get(t);function yV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const i=indexedDB.open(t,e),a=Bs(i);return r&&i.addEventListener("upgradeneeded",c=>{r(Bs(i.result),c.oldVersion,c.newVersion,Bs(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const vV=["get","getKey","getAll","getAllKeys","count"],wV=["put","add","delete","clear"],Xh=new Map;function h_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=wV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||vV.includes(n)))return;const o=async function(i,...a){const c=this.transaction(i,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&c.done]))[0]};return Xh.set(e,o),o}pV(t=>({...t,get:(e,n,r)=>h_(e,n)||t.get(e,n,r),has:(e,n)=>!!h_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",p_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new hb("@firebase/app"),EV="@firebase/app-compat",TV="@firebase/analytics-compat",SV="@firebase/analytics",bV="@firebase/app-check-compat",CV="@firebase/app-check",IV="@firebase/auth",RV="@firebase/auth-compat",AV="@firebase/database",PV="@firebase/data-connect",NV="@firebase/database-compat",kV="@firebase/functions",DV="@firebase/functions-compat",OV="@firebase/installations",MV="@firebase/installations-compat",VV="@firebase/messaging",LV="@firebase/messaging-compat",jV="@firebase/performance",FV="@firebase/performance-compat",$V="@firebase/remote-config",UV="@firebase/remote-config-compat",BV="@firebase/storage",zV="@firebase/storage-compat",WV="@firebase/firestore",HV="@firebase/ai",qV="@firebase/firestore-compat",KV="firebase",GV="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",QV={[Im]:"fire-core",[EV]:"fire-core-compat",[SV]:"fire-analytics",[TV]:"fire-analytics-compat",[CV]:"fire-app-check",[bV]:"fire-app-check-compat",[IV]:"fire-auth",[RV]:"fire-auth-compat",[AV]:"fire-rtdb",[PV]:"fire-data-connect",[NV]:"fire-rtdb-compat",[kV]:"fire-fn",[DV]:"fire-fn-compat",[OV]:"fire-iid",[MV]:"fire-iid-compat",[VV]:"fire-fcm",[LV]:"fire-fcm-compat",[jV]:"fire-perf",[FV]:"fire-perf-compat",[$V]:"fire-rc",[UV]:"fire-rc-compat",[BV]:"fire-gcs",[zV]:"fire-gcs-compat",[WV]:"fire-fst",[qV]:"fire-fst-compat",[HV]:"fire-vertex","fire-js":"fire-js",[KV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd=new Map,YV=new Map,Am=new Map;function m_(t,e){try{t.container.addComponent(e)}catch(n){rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dd(t){const e=t.name;if(Am.has(e))return rs.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,t);for(const n of kd.values())m_(n,t);for(const n of YV.values())m_(n,t);return!0}function XV(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function JV(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zs=new fb("app","Firebase",ZV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL=GV;function gb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Rm,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zs.create("bad-app-name",{appName:String(s)});if(n||(n=db()),!n)throw zs.create("no-options");const o=kd.get(s);if(o){if(Nd(n,o.options)&&Nd(r,o.config))return o;throw zs.create("duplicate-app",{appName:s})}const i=new sV(s);for(const c of Am.values())i.addComponent(c);const a=new eL(n,r,i);return kd.set(s,a),a}function nL(t=Rm){const e=kd.get(t);if(!e&&t===Rm&&db())return gb();if(!e)throw zs.create("no-app",{appName:t});return e}function Ui(t,e,n){let r=QV[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const i=[`Unable to register library "${r}" with version "${e}":`];s&&i.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&i.push("and"),o&&i.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rs.warn(i.join(" "));return}Dd(new Xl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rL="firebase-heartbeat-database",sL=1,Jl="firebase-heartbeat-store";let Jh=null;function yb(){return Jh||(Jh=yV(rL,sL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Jl)}catch(n){console.warn(n)}}}}).catch(t=>{throw zs.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function oL(t){try{const n=(await yb()).transaction(Jl),r=await n.objectStore(Jl).get(vb(t));return await n.done,r}catch(e){if(e instanceof Ta)rs.warn(e.message);else{const n=zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rs.warn(n.message)}}}async function g_(t,e){try{const r=(await yb()).transaction(Jl,"readwrite");await r.objectStore(Jl).put(e,vb(t)),await r.done}catch(n){if(n instanceof Ta)rs.warn(n.message);else{const r=zs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rs.warn(r.message)}}}function vb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=1024,aL=30;class lL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=y_();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(i=>i.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>aL){const i=dL(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:r,unsentEntries:s}=cL(this._heartbeatsCache.heartbeats),o=Pd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return rs.warn(n),""}}}function y_(){return new Date().toISOString().substring(0,10)}function cL(t,e=iL){const n=[];let r=t.slice();for(const s of t){const o=n.find(i=>i.agent===s.agent);if(o){if(o.dates.push(s.date),v_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),v_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y4()?X4().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await oL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return g_(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function v_(t){return Pd(JSON.stringify({version:2,heartbeats:t})).length}function dL(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fL(t){Dd(new Xl("platform-logger",e=>new _V(e),"PRIVATE")),Dd(new Xl("heartbeat",e=>new lL(e),"PRIVATE")),Ui(Im,p_,t),Ui(Im,p_,"esm2020"),Ui("fire-js","")}fL("");var w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ws,wb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,b){function C(){}C.prototype=b.prototype,I.D=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(R,A,D){for(var k=Array(arguments.length-2),$=2;$<arguments.length;$++)k[$-2]=arguments[$];return b.prototype[A].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,b,C){C||(C=0);var R=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)R[A]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(A=0;16>A;++A)R[A]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],A=I.g[2];var D=I.g[3],k=b+(D^C&(A^D))+R[0]+3614090360&4294967295;b=C+(k<<7&4294967295|k>>>25),k=D+(A^b&(C^A))+R[1]+3905402710&4294967295,D=b+(k<<12&4294967295|k>>>20),k=A+(C^D&(b^C))+R[2]+606105819&4294967295,A=D+(k<<17&4294967295|k>>>15),k=C+(b^A&(D^b))+R[3]+3250441966&4294967295,C=A+(k<<22&4294967295|k>>>10),k=b+(D^C&(A^D))+R[4]+4118548399&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(A^b&(C^A))+R[5]+1200080426&4294967295,D=b+(k<<12&4294967295|k>>>20),k=A+(C^D&(b^C))+R[6]+2821735955&4294967295,A=D+(k<<17&4294967295|k>>>15),k=C+(b^A&(D^b))+R[7]+4249261313&4294967295,C=A+(k<<22&4294967295|k>>>10),k=b+(D^C&(A^D))+R[8]+1770035416&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(A^b&(C^A))+R[9]+2336552879&4294967295,D=b+(k<<12&4294967295|k>>>20),k=A+(C^D&(b^C))+R[10]+4294925233&4294967295,A=D+(k<<17&4294967295|k>>>15),k=C+(b^A&(D^b))+R[11]+2304563134&4294967295,C=A+(k<<22&4294967295|k>>>10),k=b+(D^C&(A^D))+R[12]+1804603682&4294967295,b=C+(k<<7&4294967295|k>>>25),k=D+(A^b&(C^A))+R[13]+4254626195&4294967295,D=b+(k<<12&4294967295|k>>>20),k=A+(C^D&(b^C))+R[14]+2792965006&4294967295,A=D+(k<<17&4294967295|k>>>15),k=C+(b^A&(D^b))+R[15]+1236535329&4294967295,C=A+(k<<22&4294967295|k>>>10),k=b+(A^D&(C^A))+R[1]+4129170786&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^A&(b^C))+R[6]+3225465664&4294967295,D=b+(k<<9&4294967295|k>>>23),k=A+(b^C&(D^b))+R[11]+643717713&4294967295,A=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(A^D))+R[0]+3921069994&4294967295,C=A+(k<<20&4294967295|k>>>12),k=b+(A^D&(C^A))+R[5]+3593408605&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^A&(b^C))+R[10]+38016083&4294967295,D=b+(k<<9&4294967295|k>>>23),k=A+(b^C&(D^b))+R[15]+3634488961&4294967295,A=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(A^D))+R[4]+3889429448&4294967295,C=A+(k<<20&4294967295|k>>>12),k=b+(A^D&(C^A))+R[9]+568446438&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^A&(b^C))+R[14]+3275163606&4294967295,D=b+(k<<9&4294967295|k>>>23),k=A+(b^C&(D^b))+R[3]+4107603335&4294967295,A=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(A^D))+R[8]+1163531501&4294967295,C=A+(k<<20&4294967295|k>>>12),k=b+(A^D&(C^A))+R[13]+2850285829&4294967295,b=C+(k<<5&4294967295|k>>>27),k=D+(C^A&(b^C))+R[2]+4243563512&4294967295,D=b+(k<<9&4294967295|k>>>23),k=A+(b^C&(D^b))+R[7]+1735328473&4294967295,A=D+(k<<14&4294967295|k>>>18),k=C+(D^b&(A^D))+R[12]+2368359562&4294967295,C=A+(k<<20&4294967295|k>>>12),k=b+(C^A^D)+R[5]+4294588738&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^A)+R[8]+2272392833&4294967295,D=b+(k<<11&4294967295|k>>>21),k=A+(D^b^C)+R[11]+1839030562&4294967295,A=D+(k<<16&4294967295|k>>>16),k=C+(A^D^b)+R[14]+4259657740&4294967295,C=A+(k<<23&4294967295|k>>>9),k=b+(C^A^D)+R[1]+2763975236&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^A)+R[4]+1272893353&4294967295,D=b+(k<<11&4294967295|k>>>21),k=A+(D^b^C)+R[7]+4139469664&4294967295,A=D+(k<<16&4294967295|k>>>16),k=C+(A^D^b)+R[10]+3200236656&4294967295,C=A+(k<<23&4294967295|k>>>9),k=b+(C^A^D)+R[13]+681279174&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^A)+R[0]+3936430074&4294967295,D=b+(k<<11&4294967295|k>>>21),k=A+(D^b^C)+R[3]+3572445317&4294967295,A=D+(k<<16&4294967295|k>>>16),k=C+(A^D^b)+R[6]+76029189&4294967295,C=A+(k<<23&4294967295|k>>>9),k=b+(C^A^D)+R[9]+3654602809&4294967295,b=C+(k<<4&4294967295|k>>>28),k=D+(b^C^A)+R[12]+3873151461&4294967295,D=b+(k<<11&4294967295|k>>>21),k=A+(D^b^C)+R[15]+530742520&4294967295,A=D+(k<<16&4294967295|k>>>16),k=C+(A^D^b)+R[2]+3299628645&4294967295,C=A+(k<<23&4294967295|k>>>9),k=b+(A^(C|~D))+R[0]+4096336452&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~A))+R[7]+1126891415&4294967295,D=b+(k<<10&4294967295|k>>>22),k=A+(b^(D|~C))+R[14]+2878612391&4294967295,A=D+(k<<15&4294967295|k>>>17),k=C+(D^(A|~b))+R[5]+4237533241&4294967295,C=A+(k<<21&4294967295|k>>>11),k=b+(A^(C|~D))+R[12]+1700485571&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~A))+R[3]+2399980690&4294967295,D=b+(k<<10&4294967295|k>>>22),k=A+(b^(D|~C))+R[10]+4293915773&4294967295,A=D+(k<<15&4294967295|k>>>17),k=C+(D^(A|~b))+R[1]+2240044497&4294967295,C=A+(k<<21&4294967295|k>>>11),k=b+(A^(C|~D))+R[8]+1873313359&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~A))+R[15]+4264355552&4294967295,D=b+(k<<10&4294967295|k>>>22),k=A+(b^(D|~C))+R[6]+2734768916&4294967295,A=D+(k<<15&4294967295|k>>>17),k=C+(D^(A|~b))+R[13]+1309151649&4294967295,C=A+(k<<21&4294967295|k>>>11),k=b+(A^(C|~D))+R[4]+4149444226&4294967295,b=C+(k<<6&4294967295|k>>>26),k=D+(C^(b|~A))+R[11]+3174756917&4294967295,D=b+(k<<10&4294967295|k>>>22),k=A+(b^(D|~C))+R[2]+718787259&4294967295,A=D+(k<<15&4294967295|k>>>17),k=C+(D^(A|~b))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(A+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+A&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,b){b===void 0&&(b=I.length);for(var C=b-this.blockSize,R=this.B,A=this.h,D=0;D<b;){if(A==0)for(;D<=C;)s(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<b;)if(R[A++]=I.charCodeAt(D++),A==this.blockSize){s(this,R),A=0;break}}else for(;D<b;)if(R[A++]=I[D++],A==this.blockSize){s(this,R),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;var C=8*this.o;for(b=I.length-8;b<I.length;++b)I[b]=C&255,C/=256;for(this.u(I),I=Array(16),b=C=0;4>b;++b)for(var R=0;32>R;R+=8)I[C++]=this.g[b]>>>R&255;return I};function o(I,b){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function i(I,b){this.h=b;for(var C=[],R=!0,A=I.length-1;0<=A;A--){var D=I[A]|0;R&&D==b||(C[A]=D,R=!1)}this.g=C}var a={};function c(I){return-128<=I&&128>I?o(I,function(b){return new i([b|0],0>b?-1:0)}):new i([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return E(u(-I));for(var b=[],C=1,R=0;I>=C;R++)b[R]=I/C|0,C*=4294967296;return new i(b,0)}function d(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return E(d(I.substring(1),b));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=u(Math.pow(b,8)),R=f,A=0;A<I.length;A+=8){var D=Math.min(8,I.length-A),k=parseInt(I.substring(A,A+D),b);8>D?(D=u(Math.pow(b,D)),R=R.j(D).add(u(k))):(R=R.j(C),R=R.add(u(k)))}return R}var f=c(0),h=c(1),m=c(16777216);t=i.prototype,t.m=function(){if(v(this))return-E(this).m();for(var I=0,b=1,C=0;C<this.g.length;C++){var R=this.i(C);I+=(0<=R?R:4294967296+R)*b,b*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S(this))return"0";if(v(this))return"-"+E(this).toString(I);for(var b=u(Math.pow(I,6)),C=this,R="";;){var A=N(C,b).g;C=x(C,A.j(b));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=A,S(C))return D+R;for(;6>D.length;)D="0"+D;R=D+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function S(I){if(I.h!=0)return!1;for(var b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=x(this,I),v(I)?-1:S(I)?0:1};function E(I){for(var b=I.g.length,C=[],R=0;R<b;R++)C[R]=~I.g[R];return new i(C,~I.h).add(h)}t.abs=function(){return v(this)?E(this):this},t.add=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],R=0,A=0;A<=b;A++){var D=R+(this.i(A)&65535)+(I.i(A)&65535),k=(D>>>16)+(this.i(A)>>>16)+(I.i(A)>>>16);R=k>>>16,D&=65535,k&=65535,C[A]=k<<16|D}return new i(C,C[C.length-1]&-2147483648?-1:0)};function x(I,b){return I.add(E(b))}t.j=function(I){if(S(this)||S(I))return f;if(v(this))return v(I)?E(this).j(E(I)):E(E(this).j(I));if(v(I))return E(this.j(E(I)));if(0>this.l(m)&&0>I.l(m))return u(this.m()*I.m());for(var b=this.g.length+I.g.length,C=[],R=0;R<2*b;R++)C[R]=0;for(R=0;R<this.g.length;R++)for(var A=0;A<I.g.length;A++){var D=this.i(R)>>>16,k=this.i(R)&65535,$=I.i(A)>>>16,ne=I.i(A)&65535;C[2*R+2*A]+=k*ne,w(C,2*R+2*A),C[2*R+2*A+1]+=D*ne,w(C,2*R+2*A+1),C[2*R+2*A+1]+=k*$,w(C,2*R+2*A+1),C[2*R+2*A+2]+=D*$,w(C,2*R+2*A+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new i(C,0)};function w(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function T(I,b){this.g=I,this.h=b}function N(I,b){if(S(b))throw Error("division by zero");if(S(I))return new T(f,f);if(v(I))return b=N(E(I),b),new T(E(b.g),E(b.h));if(v(b))return b=N(I,E(b)),new T(E(b.g),b.h);if(30<I.g.length){if(v(I)||v(b))throw Error("slowDivide_ only works with positive integers.");for(var C=h,R=b;0>=R.l(I);)C=O(C),R=O(R);var A=M(C,1),D=M(R,1);for(R=M(R,2),C=M(C,2);!S(R);){var k=D.add(R);0>=k.l(I)&&(A=A.add(C),D=k),R=M(R,1),C=M(C,1)}return b=x(I,A.j(b)),new T(A,b)}for(A=f;0<=I.l(b);){for(C=Math.max(1,Math.floor(I.m()/b.m())),R=Math.ceil(Math.log(C)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),D=u(C),k=D.j(b);v(k)||0<k.l(I);)C-=R,D=u(C),k=D.j(b);S(D)&&(D=h),A=A.add(D),I=x(I,k)}return new T(A,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)&I.i(R);return new i(C,this.h&I.h)},t.or=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)|I.i(R);return new i(C,this.h|I.h)},t.xor=function(I){for(var b=Math.max(this.g.length,I.g.length),C=[],R=0;R<b;R++)C[R]=this.i(R)^I.i(R);return new i(C,this.h^I.h)};function O(I){for(var b=I.g.length+1,C=[],R=0;R<b;R++)C[R]=I.i(R)<<1|I.i(R-1)>>>31;return new i(C,I.h)}function M(I,b){var C=b>>5;b%=32;for(var R=I.g.length-C,A=[],D=0;D<R;D++)A[D]=0<b?I.i(D+C)>>>b|I.i(D+C+1)<<32-b:I.i(D+C);return new i(A,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wb=r,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,Ws=i}).apply(typeof w_<"u"?w_:typeof self<"u"?self:typeof window<"u"?window:{});var mu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _b,sl,xb,Bu,Pm,Eb,Tb,Sb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,p,_){return l==Array.prototype||l==Object.prototype||(l[p]=_.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof mu=="object"&&mu];for(var p=0;p<l.length;++p){var _=l[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=n(this);function s(l,p){if(p)e:{var _=r;l=l.split(".");for(var P=0;P<l.length-1;P++){var V=l[P];if(!(V in _))break e;_=_[V]}l=l[l.length-1],P=_[l],p=p(P),p!=P&&p!=null&&e(_,l,{configurable:!0,writable:!0,value:p})}}function o(l,p){l instanceof String&&(l+="");var _=0,P=!1,V={next:function(){if(!P&&_<l.length){var F=_++;return{value:p(F,l[F]),done:!1}}return P=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}s("Array.prototype.values",function(l){return l||function(){return o(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function c(l){var p=typeof l;return p=p!="object"?p:l?Array.isArray(l)?"array":p:"null",p=="array"||p=="object"&&typeof l.length=="number"}function u(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function d(l,p,_){return l.call.apply(l.bind,arguments)}function f(l,p,_){if(!l)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,P),l.apply(p,V)}}return function(){return l.apply(p,arguments)}}function h(l,p,_){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,h.apply(null,arguments)}function m(l,p){var _=Array.prototype.slice.call(arguments,1);return function(){var P=_.slice();return P.push.apply(P,arguments),l.apply(this,P)}}function S(l,p){function _(){}_.prototype=p.prototype,l.aa=p.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(P,V,F){for(var Q=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Q[Ue-2]=arguments[Ue];return p.prototype[V].apply(P,Q)}}function v(l){const p=l.length;if(0<p){const _=Array(p);for(let P=0;P<p;P++)_[P]=l[P];return _}return[]}function E(l,p){for(let _=1;_<arguments.length;_++){const P=arguments[_];if(c(P)){const V=l.length||0,F=P.length||0;l.length=V+F;for(let Q=0;Q<F;Q++)l[V+Q]=P[Q]}else l.push(P)}}class x{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function w(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var O=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function M(l,p,_){for(const P in l)p.call(_,l[P],P,l)}function I(l,p){for(const _ in l)p.call(void 0,l[_],_,l)}function b(l){const p={};for(const _ in l)p[_]=l[_];return p}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(l,p){let _,P;for(let V=1;V<arguments.length;V++){P=arguments[V];for(_ in P)l[_]=P[_];for(let F=0;F<C.length;F++)_=C[F],Object.prototype.hasOwnProperty.call(P,_)&&(l[_]=P[_])}}function A(l){var p=1;l=l.split(":");const _=[];for(;0<p&&l.length;)_.push(l.shift()),p--;return l.length&&_.push(l.join(":")),_}function D(l){a.setTimeout(()=>{throw l},0)}function k(){var l=L;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class ${constructor(){this.h=this.g=null}add(p,_){const P=ne.get();P.set(p,_),this.h?this.h.next=P:this.g=P,this.h=P}}var ne=new x(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,j=!1,L=new $,q=()=>{const l=a.Promise.resolve(void 0);Y=()=>{l.then(se)}};var se=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(_){D(_)}var p=ne;p.j(l),100>p.h&&(p.h++,l.next=p.g,p.g=l)}j=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function X(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}X.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};a.addEventListener("test",_,p),a.removeEventListener("test",_,p)}catch{}return l}();function _e(l,p){if(X.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,P=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget){if(O){e:{try{N(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else _=="mouseover"?p=l.fromElement:_=="mouseout"&&(p=l.toElement);this.relatedTarget=p,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&_e.aa.h.call(this)}}S(_e,X);var xe={2:"touch",3:"pen",4:"mouse"};_e.prototype.h=function(){_e.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var G="closure_listenable_"+(1e6*Math.random()|0),we=0;function Ie(l,p,_,P,V){this.listener=l,this.proxy=null,this.src=p,this.type=_,this.capture=!!P,this.ha=V,this.key=++we,this.da=this.fa=!1}function re(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function de(l){this.src=l,this.g={},this.h=0}de.prototype.add=function(l,p,_,P,V){var F=l.toString();l=this.g[F],l||(l=this.g[F]=[],this.h++);var Q=$e(l,p,P,V);return-1<Q?(p=l[Q],_||(p.fa=!1)):(p=new Ie(p,this.src,F,!!P,V),p.fa=_,l.push(p)),p};function ce(l,p){var _=p.type;if(_ in l.g){var P=l.g[_],V=Array.prototype.indexOf.call(P,p,void 0),F;(F=0<=V)&&Array.prototype.splice.call(P,V,1),F&&(re(p),l.g[_].length==0&&(delete l.g[_],l.h--))}}function $e(l,p,_,P){for(var V=0;V<l.length;++V){var F=l[V];if(!F.da&&F.listener==p&&F.capture==!!_&&F.ha==P)return V}return-1}var ze="closure_lm_"+(1e6*Math.random()|0),St={};function bt(l,p,_,P,V){if(Array.isArray(p)){for(var F=0;F<p.length;F++)bt(l,p[F],_,P,V);return null}return _=si(_),l&&l[G]?l.K(p,_,u(P)?!!P.capture:!1,V):Nn(l,p,_,!1,P,V)}function Nn(l,p,_,P,V,F){if(!p)throw Error("Invalid event type");var Q=u(V)?!!V.capture:!!V,Ue=an(l);if(Ue||(l[ze]=Ue=new de(l)),_=Ue.add(p,_,P,Q,F),_.proxy)return _;if(P=fr(),_.proxy=P,P.src=l,P.listener=_,l.addEventListener)ae||(V=Q),V===void 0&&(V=!1),l.addEventListener(p.toString(),P,V);else if(l.attachEvent)l.attachEvent(wn(p.toString()),P);else if(l.addListener&&l.removeListener)l.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return _}function fr(){function l(_){return p.call(l.src,l.listener,_)}const p=jr;return l}function vn(l,p,_,P,V){if(Array.isArray(p))for(var F=0;F<p.length;F++)vn(l,p[F],_,P,V);else P=u(P)?!!P.capture:!!P,_=si(_),l&&l[G]?(l=l.i,p=String(p).toString(),p in l.g&&(F=l.g[p],_=$e(F,_,P,V),-1<_&&(re(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete l.g[p],l.h--)))):l&&(l=an(l))&&(p=l.g[p.toString()],l=-1,p&&(l=$e(p,_,P,V)),(_=-1<l?p[l]:null)&&Xt(_))}function Xt(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[G])ce(p.i,l);else{var _=l.type,P=l.proxy;p.removeEventListener?p.removeEventListener(_,P,l.capture):p.detachEvent?p.detachEvent(wn(_),P):p.addListener&&p.removeListener&&p.removeListener(P),(_=an(p))?(ce(_,l),_.h==0&&(_.src=null,p[ze]=null)):re(l)}}}function wn(l){return l in St?St[l]:St[l]="on"+l}function jr(l,p){if(l.da)l=!0;else{p=new _e(p,this);var _=l.listener,P=l.ha||l.src;l.fa&&Xt(l),l=_.call(P,p)}return l}function an(l){return l=l[ze],l instanceof de?l:null}var as="__closure_events_fn_"+(1e9*Math.random()>>>0);function si(l){return typeof l=="function"?l:(l[as]||(l[as]=function(p){return l.handleEvent(p)}),l[as])}function Oe(){K.call(this),this.i=new de(this),this.M=this,this.F=null}S(Oe,K),Oe.prototype[G]=!0,Oe.prototype.removeEventListener=function(l,p,_,P){vn(this,l,p,_,P)};function Ve(l,p){var _,P=l.F;if(P)for(_=[];P;P=P.F)_.push(P);if(l=l.M,P=p.type||p,typeof p=="string")p=new X(p,l);else if(p instanceof X)p.target=p.target||l;else{var V=p;p=new X(P,l),R(p,V)}if(V=!0,_)for(var F=_.length-1;0<=F;F--){var Q=p.g=_[F];V=_n(Q,P,!0,p)&&V}if(Q=p.g=l,V=_n(Q,P,!0,p)&&V,V=_n(Q,P,!1,p)&&V,_)for(F=0;F<_.length;F++)Q=p.g=_[F],V=_n(Q,P,!1,p)&&V}Oe.prototype.N=function(){if(Oe.aa.N.call(this),this.i){var l=this.i,p;for(p in l.g){for(var _=l.g[p],P=0;P<_.length;P++)re(_[P]);delete l.g[p],l.h--}}this.F=null},Oe.prototype.K=function(l,p,_,P){return this.i.add(String(l),p,!1,_,P)},Oe.prototype.L=function(l,p,_,P){return this.i.add(String(l),p,!0,_,P)};function _n(l,p,_,P){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,F=0;F<p.length;++F){var Q=p[F];if(Q&&!Q.da&&Q.capture==_){var Ue=Q.listener,Nt=Q.ha||Q.src;Q.fa&&ce(l.i,Q),V=Ue.call(Nt,P)!==!1&&V}}return V&&!P.defaultPrevented}function hr(l,p,_){if(typeof l=="function")_&&(l=h(l,_));else if(l&&typeof l.handleEvent=="function")l=h(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(l,p||0)}function pr(l){l.g=hr(()=>{l.g=null,l.i&&(l.i=!1,pr(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class kn extends K{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(l){K.call(this),this.h=l,this.g={}}S(zn,K);var ls=[];function Wn(l){M(l.g,function(p,_){this.g.hasOwnProperty(_)&&Xt(p)},l),l.g={}}zn.prototype.N=function(){zn.aa.N.call(this),Wn(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mr=a.JSON.stringify,Hn=a.JSON.parse,Da=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function cs(){}cs.prototype.h=null;function mo(l){return l.h||(l.h=l.i())}function go(){}var Fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Je(){X.call(this,"d")}S(Je,X);function We(){X.call(this,"c")}S(We,X);var nt={},oe=null;function ue(){return oe=oe||new Oe}nt.La="serverreachability";function ye(l){X.call(this,nt.La,l)}S(ye,X);function je(l){const p=ue();Ve(p,new ye(p))}nt.STAT_EVENT="statevent";function ut(l,p){X.call(this,nt.STAT_EVENT,l),this.stat=p}S(ut,X);function ge(l){const p=ue();Ve(p,new ut(p,l))}nt.Ma="timingevent";function wt(l,p){X.call(this,nt.Ma,l),this.size=p}S(wt,X);function Fe(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},p)}function Ze(){this.g=!0}Ze.prototype.xa=function(){this.g=!1};function yo(l,p,_,P,V,F){l.info(function(){if(l.g)if(F)for(var Q="",Ue=F.split("&"),Nt=0;Nt<Ue.length;Nt++){var ke=Ue[Nt].split("=");if(1<ke.length){var Ft=ke[0];ke=ke[1];var $t=Ft.split("_");Q=2<=$t.length&&$t[1]=="type"?Q+(Ft+"="+ke+"&"):Q+(Ft+"=redacted&")}}else Q=null;else Q=F;return"XMLHTTP REQ ("+P+") [attempt "+V+"]: "+p+`
`+_+`
`+Q})}function vo(l,p,_,P,V,F,Q){l.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+V+"]: "+p+`
`+_+`
`+F+" "+Q})}function Jt(l,p,_,P){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+Oa(l,_)+(P?" "+P:"")})}function wo(l,p){l.info(function(){return"TIMEOUT: "+p})}Ze.prototype.info=function(){};function Oa(l,p){if(!l.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var P=_[l];if(!(2>P.length)){var V=P[1];if(Array.isArray(V)&&!(1>V.length)){var F=V[0];if(F!="noop"&&F!="stop"&&F!="close")for(var Q=1;Q<V.length;Q++)V[Q]=""}}}}return mr(_)}catch{return p}}var kc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rh;function Dc(){}S(Dc,cs),Dc.prototype.g=function(){return new XMLHttpRequest},Dc.prototype.i=function(){return{}},rh=new Dc;function us(l,p,_,P){this.j=l,this.i=p,this.l=_,this.R=P||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var Rv={},sh={};function oh(l,p,_){l.L=1,l.v=Lc($r(p)),l.m=_,l.P=!0,Av(l,null)}function Av(l,p){l.F=Date.now(),Oc(l),l.A=$r(l.v);var _=l.A,P=l.R;Array.isArray(P)||(P=[String(P)]),zv(_.i,"t",P),l.C=0,_=l.j.J,l.h=new Iv,l.g=aw(l.j,_?p:null,!l.m),0<l.O&&(l.M=new kn(h(l.Y,l,l.g),l.O)),p=l.U,_=l.g,P=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(ls[0]=V.toString()),V=ls);for(var F=0;F<V.length;F++){var Q=bt(_,V[F],P||p.handleEvent,!1,p.h||p);if(!Q)break;p.g[Q.key]=Q}p=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,p)):(l.u="GET",l.g.ea(l.A,l.u,null,p)),je(),yo(l.i,l.u,l.A,l.l,l.R,l.m)}us.prototype.ca=function(l){l=l.target;const p=this.M;p&&Ur(l)==3?p.j():this.Y(l)},us.prototype.Y=function(l){try{if(l==this.g)e:{const $t=Ur(this.g);var p=this.g.Ba();const ai=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Yv(this.g)))){this.J||$t!=4||p==7||(p==8||0>=ai?je(3):je(2)),ih(this);var _=this.g.Z();this.X=_;t:if(Pv(this)){var P=Yv(this.g);l="";var V=P.length,F=Ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_o(this),Ma(this);var Q="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,l+=this.h.i.decode(P[p],{stream:!(F&&p==V-1)});P.length=0,this.h.g+=l,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=_==200,vo(this.i,this.u,this.A,this.l,this.R,$t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Nt=this.g;if((Ue=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ue)){var ke=Ue;break t}}ke=null}if(_=ke)Jt(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ah(this,_);else{this.o=!1,this.s=3,ge(12),_o(this),Ma(this);break e}}if(this.P){_=!0;let qn;for(;!this.J&&this.C<Q.length;)if(qn=qR(this,Q),qn==sh){$t==4&&(this.s=4,ge(14),_=!1),Jt(this.i,this.l,null,"[Incomplete Response]");break}else if(qn==Rv){this.s=4,ge(15),Jt(this.i,this.l,Q,"[Invalid Chunk]"),_=!1;break}else Jt(this.i,this.l,qn,null),ah(this,qn);if(Pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||Q.length!=0||this.h.h||(this.s=1,ge(16),_=!1),this.o=this.o&&_,!_)Jt(this.i,this.l,Q,"[Invalid Chunked Response]"),_o(this),Ma(this);else if(0<Q.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),hh(Ft),Ft.M=!0,ge(11))}}else Jt(this.i,this.l,Q,null),ah(this,Q);$t==4&&_o(this),this.o&&!this.J&&($t==4?rw(this.j,this):(this.o=!1,Oc(this)))}else cA(this.g),_==400&&0<Q.indexOf("Unknown SID")?(this.s=3,ge(12)):(this.s=0,ge(13)),_o(this),Ma(this)}}}catch{}finally{}};function Pv(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function qR(l,p){var _=l.C,P=p.indexOf(`
`,_);return P==-1?sh:(_=Number(p.substring(_,P)),isNaN(_)?Rv:(P+=1,P+_>p.length?sh:(p=p.slice(P,P+_),l.C=P+_,p)))}us.prototype.cancel=function(){this.J=!0,_o(this)};function Oc(l){l.S=Date.now()+l.I,Nv(l,l.I)}function Nv(l,p){if(l.B!=null)throw Error("WatchDog timer not null");l.B=Fe(h(l.ba,l),p)}function ih(l){l.B&&(a.clearTimeout(l.B),l.B=null)}us.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(wo(this.i,this.A),this.L!=2&&(je(),ge(17)),_o(this),this.s=2,Ma(this)):Nv(this,this.S-l)};function Ma(l){l.j.G==0||l.J||rw(l.j,l)}function _o(l){ih(l);var p=l.M;p&&typeof p.ma=="function"&&p.ma(),l.M=null,Wn(l.U),l.g&&(p=l.g,l.g=null,p.abort(),p.ma())}function ah(l,p){try{var _=l.j;if(_.G!=0&&(_.g==l||lh(_.h,l))){if(!l.K&&lh(_.h,l)&&_.G==3){try{var P=_.Da.g.parse(p)}catch{P=null}if(Array.isArray(P)&&P.length==3){var V=P;if(V[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)zc(_),Uc(_);else break e;fh(_),ge(18)}}else _.za=V[1],0<_.za-_.T&&37500>V[2]&&_.F&&_.v==0&&!_.C&&(_.C=Fe(h(_.Za,_),6e3));if(1>=Ov(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Eo(_,11)}else if((l.K||_.g==l)&&zc(_),!w(p))for(V=_.Da.g.parse(p),p=0;p<V.length;p++){let ke=V[p];if(_.T=ke[0],ke=ke[1],_.G==2)if(ke[0]=="c"){_.K=ke[1],_.ia=ke[2];const Ft=ke[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const $t=ke[4];$t!=null&&(_.Aa=$t,_.j.info("SVER="+_.Aa));const ai=ke[5];ai!=null&&typeof ai=="number"&&0<ai&&(P=1.5*ai,_.L=P,_.j.info("backChannelRequestTimeoutMs_="+P)),P=_;const qn=l.g;if(qn){const Hc=qn.g?qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hc){var F=P.h;F.g||Hc.indexOf("spdy")==-1&&Hc.indexOf("quic")==-1&&Hc.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(ch(F,F.h),F.h=null))}if(P.D){const ph=qn.g?qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ph&&(P.ya=ph,Ke(P.I,P.D,ph))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),P=_;var Q=l;if(P.qa=iw(P,P.J?P.ia:null,P.W),Q.K){Mv(P.h,Q);var Ue=Q,Nt=P.L;Nt&&(Ue.I=Nt),Ue.B&&(ih(Ue),Oc(Ue)),P.g=Q}else tw(P);0<_.i.length&&Bc(_)}else ke[0]!="stop"&&ke[0]!="close"||Eo(_,7);else _.G==3&&(ke[0]=="stop"||ke[0]=="close"?ke[0]=="stop"?Eo(_,7):dh(_):ke[0]!="noop"&&_.l&&_.l.ta(ke),_.v=0)}}je(4)}catch{}}var KR=class{constructor(l,p){this.g=l,this.map=p}};function kv(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dv(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ov(l){return l.h?1:l.g?l.g.size:0}function lh(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function ch(l,p){l.g?l.g.add(p):l.h=p}function Mv(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}kv.prototype.cancel=function(){if(this.i=Vv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Vv(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const _ of l.g.values())p=p.concat(_.D);return p}return v(l.i)}function GR(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var p=[],_=l.length,P=0;P<_;P++)p.push(l[P]);return p}p=[],_=0;for(P in l)p[_++]=l[P];return p}function QR(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var p=[];l=l.length;for(var _=0;_<l;_++)p.push(_);return p}p=[],_=0;for(const P in l)p[_++]=P;return p}}}function Lv(l,p){if(l.forEach&&typeof l.forEach=="function")l.forEach(p,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,p,void 0);else for(var _=QR(l),P=GR(l),V=P.length,F=0;F<V;F++)p.call(void 0,P[F],_&&_[F],l)}var jv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YR(l,p){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var P=l[_].indexOf("="),V=null;if(0<=P){var F=l[_].substring(0,P);V=l[_].substring(P+1)}else F=l[_];p(F,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function xo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof xo){this.h=l.h,Mc(this,l.j),this.o=l.o,this.g=l.g,Vc(this,l.s),this.l=l.l;var p=l.i,_=new ja;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Fv(this,_),this.m=l.m}else l&&(p=String(l).match(jv))?(this.h=!1,Mc(this,p[1]||"",!0),this.o=Va(p[2]||""),this.g=Va(p[3]||"",!0),Vc(this,p[4]),this.l=Va(p[5]||"",!0),Fv(this,p[6]||"",!0),this.m=Va(p[7]||"")):(this.h=!1,this.i=new ja(null,this.h))}xo.prototype.toString=function(){var l=[],p=this.j;p&&l.push(La(p,$v,!0),":");var _=this.g;return(_||p=="file")&&(l.push("//"),(p=this.o)&&l.push(La(p,$v,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(La(_,_.charAt(0)=="/"?ZR:JR,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",La(_,tA)),l.join("")};function $r(l){return new xo(l)}function Mc(l,p,_){l.j=_?Va(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function Vc(l,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);l.s=p}else l.s=null}function Fv(l,p,_){p instanceof ja?(l.i=p,nA(l.i,l.h)):(_||(p=La(p,eA)),l.i=new ja(p,l.h))}function Ke(l,p,_){l.i.set(p,_)}function Lc(l){return Ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Va(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function La(l,p,_){return typeof l=="string"?(l=encodeURI(l).replace(p,XR),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function XR(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var $v=/[#\/\?@]/g,JR=/[#\?:]/g,ZR=/[#\?]/g,eA=/[#\?@]/g,tA=/#/g;function ja(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function ds(l){l.g||(l.g=new Map,l.h=0,l.i&&YR(l.i,function(p,_){l.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}t=ja.prototype,t.add=function(l,p){ds(this),this.i=null,l=oi(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(p),this.h+=1,this};function Uv(l,p){ds(l),p=oi(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function Bv(l,p){return ds(l),p=oi(l,p),l.g.has(p)}t.forEach=function(l,p){ds(this),this.g.forEach(function(_,P){_.forEach(function(V){l.call(p,V,P,this)},this)},this)},t.na=function(){ds(this);const l=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let P=0;P<p.length;P++){const V=l[P];for(let F=0;F<V.length;F++)_.push(p[P])}return _},t.V=function(l){ds(this);let p=[];if(typeof l=="string")Bv(this,l)&&(p=p.concat(this.g.get(oi(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)p=p.concat(l[_])}return p},t.set=function(l,p){return ds(this),this.i=null,l=oi(this,l),Bv(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=this.V(l),0<l.length?String(l[0]):p):p};function zv(l,p,_){Uv(l,p),0<_.length&&(l.i=null,l.g.set(oi(l,p),v(_)),l.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var P=p[_];const F=encodeURIComponent(String(P)),Q=this.V(P);for(P=0;P<Q.length;P++){var V=F;Q[P]!==""&&(V+="="+encodeURIComponent(String(Q[P]))),l.push(V)}}return this.i=l.join("&")};function oi(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function nA(l,p){p&&!l.j&&(ds(l),l.i=null,l.g.forEach(function(_,P){var V=P.toLowerCase();P!=V&&(Uv(this,P),zv(this,V,_))},l)),l.j=p}function rA(l,p){const _=new Ze;if(a.Image){const P=new Image;P.onload=m(fs,_,"TestLoadImage: loaded",!0,p,P),P.onerror=m(fs,_,"TestLoadImage: error",!1,p,P),P.onabort=m(fs,_,"TestLoadImage: abort",!1,p,P),P.ontimeout=m(fs,_,"TestLoadImage: timeout",!1,p,P),a.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=l}else p(!1)}function sA(l,p){const _=new Ze,P=new AbortController,V=setTimeout(()=>{P.abort(),fs(_,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:P.signal}).then(F=>{clearTimeout(V),F.ok?fs(_,"TestPingServer: ok",!0,p):fs(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),fs(_,"TestPingServer: error",!1,p)})}function fs(l,p,_,P,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),P(_)}catch{}}function oA(){this.g=new Da}function iA(l,p,_){const P=_||"";try{Lv(l,function(V,F){let Q=V;u(V)&&(Q=mr(V)),p.push(P+F+"="+encodeURIComponent(Q))})}catch(V){throw p.push(P+"type="+encodeURIComponent("_badmap")),V}}function jc(l){this.l=l.Ub||null,this.j=l.eb||!1}S(jc,cs),jc.prototype.g=function(){return new Fc(this.l,this.j)},jc.prototype.i=function(l){return function(){return l}}({});function Fc(l,p){Oe.call(this),this.D=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Fc,Oe),t=Fc.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=p,this.readyState=1,$a(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(p.body=l),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fa(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,$a(this)),this.g&&(this.readyState=3,$a(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wv(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wv(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?Fa(this):$a(this),this.readyState==3&&Wv(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Fa(this))},t.Qa=function(l){this.g&&(this.response=l,Fa(this))},t.ga=function(){this.g&&Fa(this)};function Fa(l){l.readyState=4,l.l=null,l.j=null,l.v=null,$a(l)}t.setRequestHeader=function(l,p){this.u.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=p.next();return l.join(`\r
`)};function $a(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hv(l){let p="";return M(l,function(_,P){p+=P,p+=":",p+=_,p+=`\r
`}),p}function uh(l,p,_){e:{for(P in _){var P=!1;break e}P=!0}P||(_=Hv(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Ke(l,p,_))}function at(l){Oe.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(at,Oe);var aA=/^https?$/i,lA=["POST","PUT"];t=at.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,p,_,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rh.g(),this.v=this.o?mo(this.o):mo(rh),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(F){qv(this,F);return}if(l=_||"",_=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var V in P)_.set(V,P[V]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const F of P.keys())_.set(F,P.get(F));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(lA,p,void 0))||P||V||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of _)this.g.setRequestHeader(F,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qv(this),this.u=!0,this.g.send(l),this.u=!1}catch(F){qv(this,F)}};function qv(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.m=5,Kv(l),$c(l)}function Kv(l){l.A||(l.A=!0,Ve(l,"complete"),Ve(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Ve(this,"complete"),Ve(this,"abort"),$c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$c(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gv(this):this.bb())},t.bb=function(){Gv(this)};function Gv(l){if(l.h&&typeof i<"u"&&(!l.v[1]||Ur(l)!=4||l.Z()!=2)){if(l.u&&Ur(l)==4)hr(l.Ea,0,l);else if(Ve(l,"readystatechange"),Ur(l)==4){l.h=!1;try{const Q=l.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var P;if(P=Q===0){var V=String(l.D).match(jv)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),P=!aA.test(V?V.toLowerCase():"")}_=P}if(_)Ve(l,"complete"),Ve(l,"success");else{l.m=6;try{var F=2<Ur(l)?l.g.statusText:""}catch{F=""}l.l=F+" ["+l.Z()+"]",Kv(l)}}finally{$c(l)}}}}function $c(l,p){if(l.g){Qv(l);const _=l.g,P=l.v[0]?()=>{}:null;l.g=null,l.v=null,p||Ve(l,"ready");try{_.onreadystatechange=P}catch{}}}function Qv(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Ur(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),Hn(p)}};function Yv(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function cA(l){const p={};l=(l.g&&2<=Ur(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<l.length;P++){if(w(l[P]))continue;var _=A(l[P]);const V=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=p[V]||[];p[V]=F,F.push(_)}I(p,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ua(l,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||p}function Xv(l){this.Aa=0,this.i=[],this.j=new Ze,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ua("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ua("baseRetryDelayMs",5e3,l),this.cb=Ua("retryDelaySeedMs",1e4,l),this.Wa=Ua("forwardChannelMaxRetries",2,l),this.wa=Ua("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new kv(l&&l.concurrentRequestLimit),this.Da=new oA,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Xv.prototype,t.la=8,t.G=1,t.connect=function(l,p,_,P){ge(0),this.W=l,this.H=p||{},_&&P!==void 0&&(this.H.OSID=_,this.H.OAID=P),this.F=this.X,this.I=iw(this,null,this.W),Bc(this)};function dh(l){if(Jv(l),l.G==3){var p=l.U++,_=$r(l.I);if(Ke(_,"SID",l.K),Ke(_,"RID",p),Ke(_,"TYPE","terminate"),Ba(l,_),p=new us(l,l.j,p),p.L=2,p.v=Lc($r(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=p.v,_=!0),_||(p.g=aw(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Oc(p)}ow(l)}function Uc(l){l.g&&(hh(l),l.g.cancel(),l.g=null)}function Jv(l){Uc(l),l.u&&(a.clearTimeout(l.u),l.u=null),zc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Bc(l){if(!Dv(l.h)&&!l.s){l.s=!0;var p=l.Ga;Y||q(),j||(Y(),j=!0),L.add(p,l),l.B=0}}function uA(l,p){return Ov(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=p.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=Fe(h(l.Ga,l,p),sw(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new us(this,this.j,l);let F=this.o;if(this.S&&(F?(F=b(F),R(F,this.S)):F=this.S),this.m!==null||this.O||(V.H=F,F=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var P=this.i[_];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(p+=P,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=ew(this,V,p),_=$r(this.I),Ke(_,"RID",l),Ke(_,"CVER",22),this.D&&Ke(_,"X-HTTP-Session-Id",this.D),Ba(this,_),F&&(this.O?p="headers="+encodeURIComponent(String(Hv(F)))+"&"+p:this.m&&uh(_,this.m,F)),ch(this.h,V),this.Ua&&Ke(_,"TYPE","init"),this.P?(Ke(_,"$req",p),Ke(_,"SID","null"),V.T=!0,oh(V,_,null)):oh(V,_,p),this.G=2}}else this.G==3&&(l?Zv(this,l):this.i.length==0||Dv(this.h)||Zv(this))};function Zv(l,p){var _;p?_=p.l:_=l.U++;const P=$r(l.I);Ke(P,"SID",l.K),Ke(P,"RID",_),Ke(P,"AID",l.T),Ba(l,P),l.m&&l.o&&uh(P,l.m,l.o),_=new us(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),p&&(l.i=p.D.concat(l.i)),p=ew(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ch(l.h,_),oh(_,P,p)}function Ba(l,p){l.H&&M(l.H,function(_,P){Ke(p,P,_)}),l.l&&Lv({},function(_,P){Ke(p,P,_)})}function ew(l,p,_){_=Math.min(l.i.length,_);var P=l.l?h(l.l.Na,l.l,l):null;e:{var V=l.i;let F=-1;for(;;){const Q=["count="+_];F==-1?0<_?(F=V[0].g,Q.push("ofs="+F)):F=0:Q.push("ofs="+F);let Ue=!0;for(let Nt=0;Nt<_;Nt++){let ke=V[Nt].g;const Ft=V[Nt].map;if(ke-=F,0>ke)F=Math.max(0,V[Nt].g-100),Ue=!1;else try{iA(Ft,Q,"req"+ke+"_")}catch{P&&P(Ft)}}if(Ue){P=Q.join("&");break e}}}return l=l.i.splice(0,_),p.D=l,P}function tw(l){if(!l.g&&!l.u){l.Y=1;var p=l.Fa;Y||q(),j||(Y(),j=!0),L.add(p,l),l.v=0}}function fh(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=Fe(h(l.Fa,l),sw(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,nw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=Fe(h(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ge(10),Uc(this),nw(this))};function hh(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function nw(l){l.g=new us(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var p=$r(l.qa);Ke(p,"RID","rpc"),Ke(p,"SID",l.K),Ke(p,"AID",l.T),Ke(p,"CI",l.F?"0":"1"),!l.F&&l.ja&&Ke(p,"TO",l.ja),Ke(p,"TYPE","xmlhttp"),Ba(l,p),l.m&&l.o&&uh(p,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=Lc($r(p)),_.m=null,_.P=!0,Av(_,l)}t.Za=function(){this.C!=null&&(this.C=null,Uc(this),fh(this),ge(19))};function zc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function rw(l,p){var _=null;if(l.g==p){zc(l),hh(l),l.g=null;var P=2}else if(lh(l.h,p))_=p.D,Mv(l.h,p),P=1;else return;if(l.G!=0){if(p.o)if(P==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var V=l.B;P=ue(),Ve(P,new wt(P,_)),Bc(l)}else tw(l);else if(V=p.s,V==3||V==0&&0<p.X||!(P==1&&uA(l,p)||P==2&&fh(l)))switch(_&&0<_.length&&(p=l.h,p.i=p.i.concat(_)),V){case 1:Eo(l,5);break;case 4:Eo(l,10);break;case 3:Eo(l,6);break;default:Eo(l,2)}}}function sw(l,p){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*p}function Eo(l,p){if(l.j.info("Error code "+p),p==2){var _=h(l.fb,l),P=l.Xa;const V=!P;P=new xo(P||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Mc(P,"https"),Lc(P),V?rA(P.toString(),_):sA(P.toString(),_)}else ge(2);l.G=0,l.l&&l.l.sa(p),ow(l),Jv(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ge(2)):(this.j.info("Failed to ping google.com"),ge(1))};function ow(l){if(l.G=0,l.ka=[],l.l){const p=Vv(l.h);(p.length!=0||l.i.length!=0)&&(E(l.ka,p),E(l.ka,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.ra()}}function iw(l,p,_){var P=_ instanceof xo?$r(_):new xo(_);if(P.g!="")p&&(P.g=p+"."+P.g),Vc(P,P.s);else{var V=a.location;P=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var F=new xo(null);P&&Mc(F,P),p&&(F.g=p),V&&Vc(F,V),_&&(F.l=_),P=F}return _=l.D,p=l.ya,_&&p&&Ke(P,_,p),Ke(P,"VER",l.la),Ba(l,P),P}function aw(l,p,_){if(p&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Ca&&!l.pa?new at(new jc({eb:_})):new at(l.pa),p.Ha(l.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lw(){}t=lw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wc(){}Wc.prototype.g=function(l,p){return new xn(l,p)};function xn(l,p){Oe.call(this),this.g=new Xv(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(l?l["X-WebChannel-Client-Profile"]=p.va:l={"X-WebChannel-Client-Profile":p.va}),this.g.S=l,(l=p&&p.Sb)&&!w(l)&&(this.g.m=l),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!w(p)&&(this.g.D=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new ii(this)}S(xn,Oe),xn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},xn.prototype.close=function(){dh(this.g)},xn.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=mr(l),l=_);p.i.push(new KR(p.Ya++,l)),p.G==3&&Bc(p)},xn.prototype.N=function(){this.g.l=null,delete this.j,dh(this.g),delete this.g,xn.aa.N.call(this)};function cw(l){Je.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const _ in p){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}S(cw,Je);function uw(){We.call(this),this.status=1}S(uw,We);function ii(l){this.g=l}S(ii,lw),ii.prototype.ua=function(){Ve(this.g,"a")},ii.prototype.ta=function(l){Ve(this.g,new cw(l))},ii.prototype.sa=function(l){Ve(this.g,new uw)},ii.prototype.ra=function(){Ve(this.g,"b")},Wc.prototype.createWebChannel=Wc.prototype.g,xn.prototype.send=xn.prototype.o,xn.prototype.open=xn.prototype.m,xn.prototype.close=xn.prototype.close,Sb=function(){return new Wc},Tb=function(){return ue()},Eb=nt,Pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},kc.NO_ERROR=0,kc.TIMEOUT=8,kc.HTTP_ERROR=6,Bu=kc,Cv.COMPLETE="complete",xb=Cv,go.EventType=Fr,Fr.OPEN="a",Fr.CLOSE="b",Fr.ERROR="c",Fr.MESSAGE="d",Oe.prototype.listen=Oe.prototype.K,sl=go,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,_b=at}).apply(typeof mu<"u"?mu:typeof self<"u"?self:typeof window<"u"?window:{});const __="@firebase/firestore",x_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wo=new hb("@firebase/firestore");function pi(){return Wo.logLevel}function ee(t,...e){if(Wo.logLevel<=Pe.DEBUG){const n=e.map(Iy);Wo.debug(`Firestore (${Sa}): ${t}`,...n)}}function ss(t,...e){if(Wo.logLevel<=Pe.ERROR){const n=e.map(Iy);Wo.error(`Firestore (${Sa}): ${t}`,...n)}}function da(t,...e){if(Wo.logLevel<=Pe.WARN){const n=e.map(Iy);Wo.warn(`Firestore (${Sa}): ${t}`,...n)}}function Iy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function le(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bb(t,r,n)}function bb(t,e,n){let r=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ss(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bb(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends Ta{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class pL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mL{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hs,e.enqueueRetryable(()=>s(this.currentUser))};const i=()=>{const c=o;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{ee("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(ee("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hs)}},0),i()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ee("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new Cb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class gL{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yL{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gL(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class E_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vL{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,JV(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=o=>{o.error!=null&&ee("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const i=o.token!==this.m;return this.m=o.token,ee("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{ee("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ee("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new E_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new E_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=wL(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function Te(t,e){return t<e?-1:t>e?1:0}function Nm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),o=e.charAt(r);if(s!==o)return Zh(s)===Zh(o)?Te(s,o):Zh(s)?1:-1}return Te(t.length,e.length)}const _L=55296,xL=57343;function Zh(t){const e=t.charCodeAt(0);return e>=_L&&e<=xL}function fa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="__name__";class vr{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&le(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=vr.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return Te(e.length,n.length)}static compareSegments(e,n){const r=vr.isNumericId(e),s=vr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?vr.extractNumericId(e).compare(vr.extractNumericId(n)):Nm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ws.fromString(e.substring(4,e.length-2))}}class He extends vr{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const EL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends vr{construct(e,n,r){return new Ot(e,n,r)}static isValidIdentifier(e){return EL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===T_}static keyField(){return new Ot([T_])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let i=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new J(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(i=!i,s++):a!=="."||i?(r+=a,s++):(o(),s++)}if(o(),i)throw new J(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(n)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(He.fromString(e))}static fromName(e){return new ie(He.fromString(e).popFirst(5))}static empty(){return new ie(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new He(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t,e,n){if(!n)throw new J(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TL(t,e,n,r){if(e===!0&&r===!0)throw new J(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function S_(t){if(!ie.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function b_(t){if(ie.isDocumentKey(t))throw new J(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rb(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Pf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le(12329,{type:typeof t})}function Zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Pf(t);throw new J(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function SL(t,e){if(e<=0)throw new J(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ec(t,e){if(!Rb(t))throw new J(B.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const i=t[r];if(s&&typeof i!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&i!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new J(B.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_=-62135596800,I_=1e6;class Ye{static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*I_);return new Ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C_)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I_}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ec(e,Ye._jsonSchema))return new Ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ye._jsonSchemaVersion="firestore/timestamp/1.0",Ye._jsonSchema={type:gt("string",Ye._jsonSchemaVersion),seconds:gt("number"),nanoseconds:gt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{static fromTimestamp(e){return new he(e)}static min(){return new he(new Ye(0,0))}static max(){return new he(new Ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function bL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=he.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new eo(s,ie.empty(),e)}function CL(t){return new eo(t.readTime,t.key,Zl)}class eo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new eo(he.min(),ie.empty(),Zl)}static max(){return new eo(he.max(),ie.empty(),Zl)}}function IL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==RL)throw t;ee("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,o=0,i=!1;e.forEach(a=>{++s,a.next(()=>{++o,i&&o===s&&n()},c=>r(c))}),i=!0,o===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const o=e.length,i=new Array(o);let a=0;for(let c=0;c<o;c++){const u=c;n(e[u]).next(d=>{i[u]=d,++a,a===o&&r(i)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function PL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ca(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=-1;function kf(t){return t==null}function Od(t){return t===0&&1/t==-1/0}function NL(t){return typeof t=="number"&&Number.isInteger(t)&&!Od(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab="";function kL(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=R_(e)),e=DL(t.get(n),e);return R_(e)}function DL(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case Ab:n+="";break;default:n+=o}}return n}function R_(t){return t+Ab+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function co(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Pb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Dt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Dt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Dt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gu(this.root,e,this.comparator,!0)}}class gu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Dt{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Dt.RED,this.left=s??Dt.EMPTY,this.right=o??Dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Dt(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Dt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw le(43730,{key:this.key,value:this.value});if(this.right.isRed())throw le(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw le(27949);return e+(this.isRed()?0:1)}}Dt.EMPTY=null,Dt.RED=!0,Dt.BLACK=!1;Dt.EMPTY=new class{constructor(){this.size=0}get key(){throw le(57766)}get value(){throw le(16141)}get color(){throw le(16727)}get left(){throw le(29726)}get right(){throw le(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Dt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Tt(Ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Nb("Invalid base64 string: "+o):o}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let o="";for(let i=0;i<s.length;++i)o+=String.fromCharCode(s[i]);return o}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const OL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function to(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=OL.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function no(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="server_timestamp",Db="__type__",Ob="__previous_value__",Mb="__local_write_time__";function Py(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Db])==null?void 0:r.stringValue)===kb}function Df(t){const e=t.mapValue.fields[Ob];return Py(e)?Df(e):e}function ec(t){const e=to(t.mapValue.fields[Mb].timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s,o,i,a,c,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}}const Md="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||Md}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===Md}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="__type__",VL="__max__",yu={mapValue:{}},Lb="__vector__",Vd="value";function ro(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Py(t)?4:jL(t)?9007199254740991:LL(t)?10:11:le(28295,{value:t})}function Mr(t,e){if(t===e)return!0;const n=ro(t);if(n!==ro(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ec(t).isEqual(ec(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const i=to(s.timestampValue),a=to(o.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return no(s.bytesValue).isEqual(no(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return dt(s.geoPointValue.latitude)===dt(o.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return dt(s.integerValue)===dt(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const i=dt(s.doubleValue),a=dt(o.doubleValue);return i===a?Od(i)===Od(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(s,o){const i=s.mapValue.fields||{},a=o.mapValue.fields||{};if(A_(i)!==A_(a))return!1;for(const c in i)if(i.hasOwnProperty(c)&&(a[c]===void 0||!Mr(i[c],a[c])))return!1;return!0}(t,e);default:return le(52216,{left:t})}}function nc(t,e){return(t.values||[]).find(n=>Mr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=ro(t),r=ro(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(o,i){const a=dt(o.integerValue||o.doubleValue),c=dt(i.integerValue||i.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(ec(t),ec(e));case 5:return Nm(t.stringValue,e.stringValue);case 6:return function(o,i){const a=no(o),c=no(i);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(o,i){const a=o.split("/"),c=i.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=Te(a[u],c[u]);if(d!==0)return d}return Te(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,i){const a=Te(dt(o.latitude),dt(i.latitude));return a!==0?a:Te(dt(o.longitude),dt(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return k_(t.arrayValue,e.arrayValue);case 10:return function(o,i){var h,m,S,v;const a=o.fields||{},c=i.fields||{},u=(h=a[Vd])==null?void 0:h.arrayValue,d=(m=c[Vd])==null?void 0:m.arrayValue,f=Te(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((v=d==null?void 0:d.values)==null?void 0:v.length)||0);return f!==0?f:k_(u,d)}(t.mapValue,e.mapValue);case 11:return function(o,i){if(o===yu.mapValue&&i===yu.mapValue)return 0;if(o===yu.mapValue)return 1;if(i===yu.mapValue)return-1;const a=o.fields||{},c=Object.keys(a),u=i.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const h=Nm(c[f],d[f]);if(h!==0)return h;const m=ha(a[c[f]],u[d[f]]);if(m!==0)return m}return Te(c.length,d.length)}(t.mapValue,e.mapValue);default:throw le(23264,{he:n})}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);const n=to(t),r=to(e),s=Te(n.seconds,r.seconds);return s!==0?s:Te(n.nanos,r.nanos)}function k_(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=ha(n[s],r[s]);if(o)return o}return Te(n.length,r.length)}function pa(t){return km(t)}function km(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=to(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return no(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=km(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const i of r)o?o=!1:s+=",",s+=`${i}:${km(n.fields[i])}`;return s+"}"}(t.mapValue):le(61005,{value:t})}function zu(t){switch(ro(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Df(t);return e?16+zu(e):16;case 5:return 2*t.stringValue.length;case 6:return no(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+zu(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return co(r.fields,(o,i)=>{s+=o.length+zu(i)}),s}(t.mapValue);default:throw le(13486,{value:t})}}function D_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Dm(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function O_(t){return!!t&&"nullValue"in t}function M_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wu(t){return!!t&&"mapValue"in t}function LL(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Vb])==null?void 0:r.stringValue)===Lb}function wl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return co(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=wl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=wl(t.arrayValue.values[n]);return e}return{...t}}function jL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Wu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(n)}setAll(e){let n=Ot.emptyPath(),r={},s=[];e.forEach((i,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}i?r[a.lastSegment()]=wl(i):s.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());Wu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Wu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){co(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new fn(wl(this.value))}}function jb(t){const e=[];return co(t.fields,(n,r)=>{const s=new Ot([n]);if(Wu(r)){const o=jb(r.mapValue).fields;if(o.length===0)e.push(s);else for(const i of o)e.push(s.child(i))}else e.push(s)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n,r,s,o,i,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Qt(e,0,he.min(),he.min(),he.min(),fn.empty(),0)}static newFoundDocument(e,n,r,s){return new Qt(e,1,n,he.min(),r,s,0)}static newNoDocument(e,n){return new Qt(e,2,n,he.min(),he.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Qt(e,3,n,he.min(),he.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.position=e,this.inclusive=n}}function V_(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],i=t.position[s];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(i.referenceValue),n.key):r=ha(i,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function L_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Mr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n="asc"){this.field=e,this.dir=n}}function FL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class mt extends Fb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UL(e,n,r):n==="array-contains"?new WL(e,r):n==="in"?new HL(e,r):n==="not-in"?new qL(e,r):n==="array-contains-any"?new KL(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BL(e,r):new zL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ha(n,this.value)):n!==null&&ro(this.value)===ro(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends Fb{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new cr(e,n)}matches(e){return $b(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $b(t){return t.op==="and"}function Ub(t){return $L(t)&&$b(t)}function $L(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function Om(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(Ub(t))return t.filters.map(e=>Om(e)).join(",");{const e=t.filters.map(n=>Om(n)).join(",");return`${t.op}(${e})`}}function Bb(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Mr(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,i,a)=>o&&Bb(i,s.filters[a]),!0):!1}(t,e):void le(19439)}function zb(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(zb).join(" ,")+"}"}(t):"Filter"}class UL extends mt{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class BL extends mt{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zL extends mt{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wb(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class WL extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&nc(n.arrayValue,this.value)}}class HL extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class qL extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class KL extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n=null,r=[],s=[],o=null,i=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=i,this.endAt=a,this.Te=null}}function j_(t,e=null,n=[],r=[],s=null,o=null,i=null){return new GL(t,e,n,r,s,o,i)}function ky(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Om(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),kf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.Te=n}return e.Te}function Dy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!FL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L_(t.startAt,e.startAt)&&L_(t.endAt,e.endAt)}function Mm(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n=null,r=[],s=[],o=null,i="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=i,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function QL(t,e,n,r,s,o,i,a){return new Ia(t,e,n,r,s,o,i,a)}function Hb(t){return new Ia(t)}function F_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function qb(t){return t.collectionGroup!==null}function _l(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Tt(Ot.comparator);return i.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new rc(o,r))}),n.has(Ot.keyField().canonicalString())||e.Ie.push(new rc(Ot.keyField(),r))}return e.Ie}function Pr(t){const e=pe(t);return e.Ee||(e.Ee=YL(e,_l(t))),e.Ee}function YL(t,e){if(t.limitType==="F")return j_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new rc(s.field,o)});const n=t.endAt?new Ld(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ld(t.startAt.position,t.startAt.inclusive):null;return j_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Vm(t,e){const n=t.filters.concat([e]);return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function jd(t,e,n){return new Ia(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Of(t,e){return Dy(Pr(t),Pr(e))&&t.limitType===e.limitType}function Kb(t){return`${ky(Pr(t))}|lt:${t.limitType}`}function mi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>zb(s)).join(", ")}]`),kf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pa(s)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Mf(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of _l(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(i,a,c){const u=V_(i,a,c);return i.inclusive?u<=0:u<0}(r.startAt,_l(r),s)||r.endAt&&!function(i,a,c){const u=V_(i,a,c);return i.inclusive?u>=0:u>0}(r.endAt,_l(r),s))}(t,e)}function XL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Gb(t){return(e,n)=>{let r=!1;for(const s of _l(t)){const o=JL(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function JL(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,i,a){const c=i.data.field(o),u=a.data.field(o);return c!==null&&u!==null?ha(c,u):le(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){co(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new it(ie.comparator);function os(){return ZL}const Qb=new it(ie.comparator);function ol(...t){let e=Qb;for(const n of t)e=e.insert(n.key,n);return e}function Yb(t){let e=Qb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ao(){return xl()}function Xb(){return xl()}function xl(){return new ni(t=>t.toString(),(t,e)=>t.isEqual(e))}const ej=new it(ie.comparator),tj=new Tt(ie.comparator);function Se(...t){let e=tj;for(const n of t)e=e.add(n);return e}const nj=new Tt(Te);function rj(){return nj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Od(e)?"-0":e}}function Jb(t){return{integerValue:""+t}}function sj(t,e){return NL(e)?Jb(e):Oy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(){this._=void 0}}function oj(t,e,n){return t instanceof Fd?function(s,o){const i={fields:{[Db]:{stringValue:kb},[Mb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Py(o)&&(o=Df(o)),o&&(i.fields[Ob]=o),{mapValue:i}}(n,e):t instanceof sc?eC(t,e):t instanceof oc?tC(t,e):function(s,o){const i=Zb(s,o),a=$_(i)+$_(s.Ae);return Dm(i)&&Dm(s.Ae)?Jb(a):Oy(s.serializer,a)}(t,e)}function ij(t,e,n){return t instanceof sc?eC(t,e):t instanceof oc?tC(t,e):n}function Zb(t,e){return t instanceof $d?function(r){return Dm(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Fd extends Vf{}class sc extends Vf{constructor(e){super(),this.elements=e}}function eC(t,e){const n=nC(e);for(const r of t.elements)n.some(s=>Mr(s,r))||n.push(r);return{arrayValue:{values:n}}}class oc extends Vf{constructor(e){super(),this.elements=e}}function tC(t,e){let n=nC(e);for(const r of t.elements)n=n.filter(s=>!Mr(s,r));return{arrayValue:{values:n}}}class $d extends Vf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $_(t){return dt(t.integerValue||t.doubleValue)}function nC(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function aj(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof sc&&s instanceof sc||r instanceof oc&&s instanceof oc?fa(r.elements,s.elements,Mr):r instanceof $d&&s instanceof $d?Mr(r.Ae,s.Ae):r instanceof Fd&&s instanceof Fd}(t.transform,e.transform)}class lj{constructor(e,n){this.version=e,this.transformResults=n}}class sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Hu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Lf{}function rC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new My(t.key,sr.none()):new Tc(t.key,t.data,sr.none());{const n=t.data,r=fn.empty();let s=new Tt(Ot.comparator);for(let o of e.fields)if(!s.has(o)){let i=n.field(o);i===null&&o.length>1&&(o=o.popLast(),i=n.field(o)),i===null?r.delete(o):r.set(o,i),s=s.add(o)}return new uo(t.key,r,new bn(s.toArray()),sr.none())}}function cj(t,e,n){t instanceof Tc?function(s,o,i){const a=s.value.clone(),c=B_(s.fieldTransforms,o,i.transformResults);a.setAll(c),o.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):t instanceof uo?function(s,o,i){if(!Hu(s.precondition,o))return void o.convertToUnknownDocument(i.version);const a=B_(s.fieldTransforms,o,i.transformResults),c=o.data;c.setAll(sC(s)),c.setAll(a),o.convertToFoundDocument(i.version,c).setHasCommittedMutations()}(t,e,n):function(s,o,i){o.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function El(t,e,n,r){return t instanceof Tc?function(o,i,a,c){if(!Hu(o.precondition,i))return a;const u=o.value.clone(),d=z_(o.fieldTransforms,c,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof uo?function(o,i,a,c){if(!Hu(o.precondition,i))return a;const u=z_(o.fieldTransforms,c,i),d=i.data;return d.setAll(sC(o)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,i,a){return Hu(o.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,n)}function uj(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=Zb(r.transform,s||null);o!=null&&(n===null&&(n=fn.empty()),n.set(r.field,o))}return n||null}function U_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fa(r,s,(o,i)=>aj(o,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends Lf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class uo extends Lf{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function sC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B_(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const o=t[s],i=o.transform,a=e.data.field(o.field);r.set(o.field,ij(i,a,n[s]))}return r}function z_(t,e,n){const r=new Map;for(const s of t){const o=s.transform,i=n.data.field(s.field);r.set(s.field,oj(o,i,e))}return r}class My extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dj extends Lf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&cj(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=El(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Xb();return this.mutations.forEach(s=>{const o=e.get(s.key),i=o.overlayedDocument;let a=this.applyToLocalView(i,o.mutatedFields);a=n.has(s.key)?null:a;const c=rC(i,a);c!==null&&r.set(s.key,c),i.isValidDocument()||i.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>U_(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>U_(n,r))}}class Vy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return ej}();const o=e.mutations;for(let i=0;i<o.length;i++)s=s.insert(o[i].key,r[i].version);return new Vy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hj=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ae;function mj(t){switch(t){case B.OK:return le(64938);case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0;default:return le(15467,{code:t})}}function oC(t){if(t===void 0)return ss("GRPC error has no .code"),B.UNKNOWN;switch(t){case ht.OK:return B.OK;case ht.CANCELLED:return B.CANCELLED;case ht.UNKNOWN:return B.UNKNOWN;case ht.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case ht.INTERNAL:return B.INTERNAL;case ht.UNAVAILABLE:return B.UNAVAILABLE;case ht.UNAUTHENTICATED:return B.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case ht.NOT_FOUND:return B.NOT_FOUND;case ht.ALREADY_EXISTS:return B.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return B.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case ht.ABORTED:return B.ABORTED;case ht.OUT_OF_RANGE:return B.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return B.UNIMPLEMENTED;case ht.DATA_LOSS:return B.DATA_LOSS;default:return le(39323,{code:t})}}(Ae=ht||(ht={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gj(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj=new Ws([4294967295,4294967295],0);function W_(t){const e=gj().encode(t),n=new wb;return n.update(e),new Uint8Array(n.digest())}function H_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ws([n,r],0),new Ws([s,o],0)]}class Ly{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new il(`Invalid padding: ${n}`);if(r<0)throw new il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new il(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Ws.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Ws.fromNumber(r)));return s.compare(yj)===1&&(s=new Ws([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=W_(e),[r,s]=H_(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);if(!this.we(i))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),i=new Ly(o,s,n);return r.forEach(a=>i.insert(a)),i}insert(e){if(this.ge===0)return;const n=W_(e),[r,s]=H_(n);for(let o=0;o<this.hashCount;o++){const i=this.ye(r,s,o);this.Se(i)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Sc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jf(he.min(),s,new it(Te),os(),Se())}}class Sc{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Sc(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,s){this.be=e,this.removedTargetIds=n,this.key=r,this.De=s}}class iC{constructor(e,n){this.targetId=e,this.Ce=n}}class aC{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class q_{constructor(){this.ve=0,this.Fe=K_(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Se(),n=Se(),r=Se();return this.Fe.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:le(38017,{changeType:o})}}),new Sc(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=K_()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Me(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vj{constructor(e){this.Ge=e,this.ze=new Map,this.je=os(),this.Je=vu(),this.He=vu(),this.Ye=new it(Te)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:le(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const o=s.target;if(Mm(o))if(r===0){const i=new ie(o.path);this.et(n,i,Qt.newNoDocument(i,he.min()))}else Me(r===1,20013,{expectedCount:r});else{const i=this._t(n);if(i!==r){const a=this.ut(e),c=a?this.ct(a,e,i):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let i,a;try{i=no(r).toUint8Array()}catch(c){if(c instanceof Nb)return da("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Ly(i,s,o)}catch(c){return da(c instanceof il?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.et(n,o,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((o,i)=>{const a=this.ot(i);if(a){if(o.current&&Mm(a.target)){const c=new ie(a.target.path);this.It(c).has(i)||this.Et(i,c)||this.et(i,c,Qt.newNoDocument(c,e))}o.Be&&(n.set(i,o.ke()),o.qe())}});let r=Se();this.He.forEach((o,i)=>{let a=!0;i.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.je.forEach((o,i)=>i.setReadTime(e));const s=new jf(e,n,this.Ye,this.je,r);return this.je=os(),this.Je=vu(),this.He=vu(),this.Ye=new it(Te),s}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.Qe(n,1):s.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new q_,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Tt(Te),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Tt(Te),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ee("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q_),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function vu(){return new it(ie.comparator)}function K_(){return new it(ie.comparator)}const wj={asc:"ASCENDING",desc:"DESCENDING"},_j={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xj={and:"AND",or:"OR"};class Ej{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lm(t,e){return t.useProto3Json||kf(e)?e:{value:e}}function Ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Tj(t,e){return Ud(t,e.toTimestamp())}function Nr(t){return Me(!!t,49232),he.fromTimestamp(function(n){const r=to(n);return new Ye(r.seconds,r.nanos)}(t))}function jy(t,e){return jm(t,e).canonicalString()}function jm(t,e){const n=function(s){return new He(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cC(t){const e=He.fromString(t);return Me(pC(e),10190,{key:e.toString()}),e}function Fm(t,e){return jy(t.databaseId,e.path)}function ep(t,e){const n=cC(e);if(n.get(1)!==t.databaseId.projectId)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(dC(n))}function uC(t,e){return jy(t.databaseId,e)}function Sj(t){const e=cC(t);return e.length===4?He.emptyPath():dC(e)}function $m(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dC(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function G_(t,e,n){return{name:Fm(t,e),fields:n.value.mapValue.fields}}function bj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:le(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(u,d){return u.useProto3Json?(Me(d===void 0||typeof d=="string",58123),jt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),jt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(u){const d=u.code===void 0?B.UNKNOWN:oC(u.code);return new J(d,u.message||"")}(i);n=new aC(r,s,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=ep(t,r.document.name),o=Nr(r.document.updateTime),i=r.document.createTime?Nr(r.document.createTime):he.min(),a=new fn({mapValue:{fields:r.document.fields}}),c=Qt.newFoundDocument(s,o,i,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new qu(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=ep(t,r.document),o=r.readTime?Nr(r.readTime):he.min(),i=Qt.newNoDocument(s,o),a=r.removedTargetIds||[];n=new qu([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=ep(t,r.document),o=r.removedTargetIds||[];n=new qu([],o,s,null)}else{if(!("filter"in e))return le(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,i=new pj(s,o),a=r.targetId;n=new iC(a,i)}}return n}function Cj(t,e){let n;if(e instanceof Tc)n={update:G_(t,e.key,e.value)};else if(e instanceof My)n={delete:Fm(t,e.key)};else if(e instanceof uo)n={update:G_(t,e.key,e.data),updateMask:Mj(e.fieldMask)};else{if(!(e instanceof dj))return le(16599,{Vt:e.type});n={verify:Fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,i){const a=i.transform;if(a instanceof Fd)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof sc)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof oc)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $d)return{fieldPath:i.field.canonicalString(),increment:a.Ae};throw le(20930,{transform:i.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Tj(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le(27497)}(t,e.precondition)),n}function Ij(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(s,o){let i=s.updateTime?Nr(s.updateTime):Nr(o);return i.isEqual(he.min())&&(i=Nr(o)),new lj(i,s.transformResults||[])}(n,e))):[]}function Rj(t,e){return{documents:[uC(t,e.path)]}}function Aj(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=uC(t,s);const o=function(u){if(u.length!==0)return hC(cr.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const i=function(u){if(u.length!==0)return u.map(d=>function(h){return{field:gi(h.field),direction:kj(h.dir)}}(d))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const a=Lm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:s}}function Pj(t){let e=Sj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(f){const h=fC(f);return h instanceof cr&&Ub(h)?h.getFilters():[h]}(n.where));let i=[];n.orderBy&&(i=function(f){return f.map(h=>function(S){return new rc(yi(S.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,kf(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(f){const h=!!f.before,m=f.values||[];return new Ld(m,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,m=f.values||[];return new Ld(m,h)}(n.endAt)),QL(e,s,i,o,a,"F",c,u)}function Nj(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return le(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=yi(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=yi(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=yi(n.unaryFilter.field);return mt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=yi(n.unaryFilter.field);return mt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return le(61313);default:return le(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(yi(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return le(58110);default:return le(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>fC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return le(1026)}}(n.compositeFilter.op))}(t):le(30097,{filter:t})}function kj(t){return wj[t]}function Dj(t){return _j[t]}function Oj(t){return xj[t]}function gi(t){return{fieldPath:t.canonicalString()}}function yi(t){return Ot.fromServerFormat(t.fieldPath)}function hC(t){return t instanceof mt?function(n){if(n.op==="=="){if(M_(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NAN"}};if(O_(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M_(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NAN"}};if(O_(n.value))return{unaryFilter:{field:gi(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gi(n.field),op:Dj(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>hC(s));return r.length===1?r[0]:{compositeFilter:{op:Oj(n.op),filters:r}}}(t):le(54877,{filter:t})}function Mj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,n,r,s,o=he.min(),i=he.min(),a=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ks(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e){this.yt=e}}function Lj(t){const e=Pj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.Cn=new Fj}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(eo.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class Fj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Tt(He.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Tt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mC=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(mC,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ma(0)}static cr(){return new ma(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="LruGarbageCollector",$j=1048576;function X_([t,e],[n,r]){const s=Te(t,n);return s===0?Te(e,r):s}class Uj{constructor(e){this.Ir=e,this.buffer=new Tt(X_),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Bj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ee(Y_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ca(n)?ee(Y_,"Ignoring IndexedDB error during garbage collection: ",n):await ba(n)}await this.Vr(3e5)})}}class zj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Nf.ce);const r=new Uj(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ee("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Q_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ee("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q_):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,o,i,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ee("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,i=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),pi()<=Pe.DEBUG&&ee("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${i-d}ms
	Determined least recently used ${s} in `+(a-i)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:f})))}}function Wj(t,e){return new zj(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.changes=new ni(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&El(r.mutation,s,bn.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const s=Ao();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let i=ol();return o.forEach((a,c)=>{i=i.insert(a,c.overlayedDocument)}),i}))}getOverlayedDocuments(e,n){const r=Ao();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((i,a)=>{n.set(i,a)})})}computeViews(e,n,r,s){let o=os();const i=xl(),a=function(){return xl()}();return n.forEach((c,u)=>{const d=r.get(u.key);s.has(u.key)&&(d===void 0||d.mutation instanceof uo)?o=o.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),El(d.mutation,u,d.mutation.getFieldMask(),Ye.now())):i.set(u.key,bn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>i.set(u,d)),n.forEach((u,d)=>a.set(u,new qj(d,i.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=xl();let s=new it((i,a)=>i-a),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(i=>{for(const a of i)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let d=r.get(c)||bn.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(s.get(a.batchId)||Se()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const i=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=Xb();d.forEach(h=>{if(!o.has(h)){const m=rC(n.get(h),r.get(h));m!==null&&f.set(h,m),o=o.add(h)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,f))}return z.waitFor(i)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(i){return ie.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const i=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):z.resolve(Ao());let a=Zl,c=o;return i.next(u=>z.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(h=>{c=c.insert(d,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Se())).next(d=>({batchId:a,changes:Yb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=ol();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let i=ol();return this.indexManager.getCollectionParents(e,o).next(a=>z.forEach(a,c=>{const u=function(f,h){return new Ia(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,s).next(d=>{d.forEach((f,h)=>{i=i.insert(f,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(o=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(i=>{o.forEach((c,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Qt.newInvalidDocument(d)))});let a=ol();return i.forEach((c,u)=>{const d=o.get(c);d!==void 0&&El(d.mutation,u,bn.empty(),Ye.now()),Mf(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:Lj(s.bundledQuery),readTime:Nr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(){this.overlays=new it(ie.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ao();return z.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ao(),o=n.length+1,i=new ie(n.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new it((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ao(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=Ao(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const i=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,i)}this.overlays=this.overlays.insert(r.key,new hj(n,r));let o=this.qr.get(n);o===void 0&&(o=Se(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this.Qr=new Tt(It.$r),this.Ur=new Tt(It.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new It(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new It(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new ie(new He([])),r=new It(n,e),s=new It(n,e+1),o=[];return this.Ur.forEachInRange([r,s],i=>{this.Gr(i),o.push(i.key)}),o}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ie(new He([])),r=new It(n,e),s=new It(n,e+1);let o=Se();return this.Ur.forEachInRange([r,s],i=>{o=o.add(i.key)}),o}containsKey(e){const n=new It(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ie.comparator(e.key,n.key)||Te(e.Yr,n.Yr)}static Kr(e,n){return Te(e.Yr,n.Yr)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Tt(It.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new fj(o,n,r,s);this.mutationQueue.push(i);for(const a of s)this.Zr=this.Zr.add(new It(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(i)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),o=s<0?0:s;return z.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Ay:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],i=>{const a=this.Xr(i.Yr);o.push(a)}),z.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Tt(Te);return n.forEach(s=>{const o=new It(s,0),i=new It(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,i],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;ie.isDocumentKey(o)||(o=o.child(""));const i=new It(new ie(o),0);let a=new Tt(Te);return this.Zr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(c.Yr)),!0)},i),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const o=new It(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new It(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(e){this.ri=e,this.docs=function(){return new it(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,i=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:i}),this.size+=i-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Qt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Qt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=os();const i=n.path,a=new ie(i.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||IL(CL(d),r)<=0||(s.has(d.key)||Mf(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return z.resolve(o)}getAllFromCollectionGroup(e,n,r,s){le(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Zj(this)}getSize(e){return z.resolve(this.size)}}class Zj extends Hj{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eF{constructor(e){this.persistence=e,this.si=new ni(n=>ky(n),Dy),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.oi=0,this._i=new Fy,this.targetCount=0,this.ai=ma.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ma(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.si.forEach((i,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(i),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(o).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(i=>{o.push(s.markPotentiallyOrphaned(e,i))}),z.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nf(0),this.li=!1,this.li=!0,this.hi=new Yj,this.referenceDelegate=e(this),this.Pi=new eF(this),this.indexManager=new jj,this.remoteDocumentCache=function(s){return new Jj(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Vj(n),this.Ii=new Gj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Qj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Xj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){ee("MemoryPersistence","Starting transaction:",e);const s=new tF(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(o=>this.referenceDelegate.di(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class tF extends AL{constructor(e){super(),this.currentSequenceNumber=e}}class $y{constructor(e){this.persistence=e,this.Ri=new Fy,this.Vi=null}static mi(e){return new $y(e)}get fi(){if(this.Vi)return this.Vi;throw le(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.fi.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=ie.fromPath(r);return this.gi(e,s).next(o=>{o||n.removeEntry(s,he.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Bd{constructor(e,n){this.persistence=e,this.pi=new ni(r=>kL(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Wj(this,n)}static mi(e,n){return new Bd(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(o=>o?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,i=>this.br(e,i,n).next(a=>{a||(r++,o.removeEntry(i,he.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=zu(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Se(),s=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Uy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nF{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Q4()?8:PL(K4())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.ys(e,n).next(i=>{o.result=i}).next(()=>{if(!o.result)return this.ws(e,n,s,r).next(i=>{o.result=i})}).next(()=>{if(o.result)return;const i=new nF;return this.Ss(e,n,i).next(a=>{if(o.result=a,this.Vs)return this.bs(e,n,i,a.size)})}).next(()=>o.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(pi()<=Pe.DEBUG&&ee("QueryEngine","SDK will not create cache indexes for query:",mi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(pi()<=Pe.DEBUG&&ee("QueryEngine","Query:",mi(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(pi()<=Pe.DEBUG&&ee("QueryEngine","The SDK decides to create cache indexes for query:",mi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):z.resolve())}ys(e,n){if(F_(n))return z.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=jd(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const i=Se(...o);return this.ps.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Ds(n,a);return this.Cs(n,u,i,c.readTime)?this.ys(e,jd(n,null,"F")):this.vs(e,u,n,c)}))})))}ws(e,n,r,s){return F_(n)||s.isEqual(he.min())?z.resolve(null):this.ps.getDocuments(e,r).next(o=>{const i=this.Ds(n,o);return this.Cs(n,i,r,s)?z.resolve(null):(pi()<=Pe.DEBUG&&ee("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),mi(n)),this.vs(e,i,n,bL(s,Zl)).next(a=>a))})}Ds(e,n){let r=new Tt(Gb(e));return n.forEach((s,o)=>{Mf(e,o)&&(r=r.add(o))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,n,r){return pi()<=Pe.DEBUG&&ee("QueryEngine","Using full collection scan to execute query:",mi(n)),this.ps.getDocumentsMatchingQuery(e,n,eo.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(i=>{o=o.insert(i.key,i)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LocalStore",sF=3e8;class oF{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new it(Te),this.xs=new ni(o=>ky(o),Dy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Kj(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function iF(t,e,n,r){return new oF(t,e,n,r)}async function yC(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const i=[],a=[];let c=Se();for(const u of s){i.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of o){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ls:u,removedBatchIds:i,addedBatchIds:a}))})})}function aF(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,h=f.keys();let m=z.resolve();return h.forEach(S=>{m=m.next(()=>d.getEntry(c,S)).next(v=>{const E=u.docVersions.get(S);Me(E!==null,48541),v.version.compareTo(E)<0&&(f.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),d.addEntry(v)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Se();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function vC(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function lF(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const i=n.Ns.newChangeBuffer({trackRemovals:!0});s=n.Ms;const a=[];e.targetChanges.forEach((d,f)=>{const h=s.get(f);if(!h)return;a.push(n.Pi.removeMatchingKeys(o,d.removedDocuments,f).next(()=>n.Pi.addMatchingKeys(o,d.addedDocuments,f)));let m=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(jt.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),s=s.insert(f,m),function(v,E,x){return v.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=sF?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(h,m,d)&&a.push(n.Pi.updateTargetData(o,m))});let c=os(),u=Se();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(cF(o,i,e.documentUpdates).next(d=>{c=d.ks,u=d.qs})),!r.isEqual(he.min())){const d=n.Pi.getLastRemoteSnapshotVersion(o).next(f=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>i.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(n.Ms=s,o))}function cF(t,e,n){let r=Se(),s=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let i=os();return n.forEach((a,c)=>{const u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(he.min())?(e.removeEntry(a,c.readTime),i=i.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),i=i.insert(a,c)):ee(By,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{ks:i,qs:s}})}function uF(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Ay),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dF(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Pi.getTargetData(r,e).next(o=>o?(s=o,z.resolve(s)):n.Pi.allocateTargetId(r).next(i=>(s=new ks(e,i,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function Um(t,e,n){const r=pe(t),s=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,i=>r.persistence.referenceDelegate.removeTarget(i,s))}catch(i){if(!Ca(i))throw i;ee(By,`Failed to update sequence numbers for target ${e}: ${i}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function J_(t,e,n){const r=pe(t);let s=he.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",i=>function(c,u,d){const f=pe(c),h=f.xs.get(d);return h!==void 0?z.resolve(f.Ms.get(h)):f.Pi.getTargetData(u,d)}(r,i,Pr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(i,a.targetId).next(c=>{o=c})}).next(()=>r.Fs.getDocumentsMatchingQuery(i,e,n?s:he.min(),n?o:Se())).next(a=>(fF(r,XL(e),a),{documents:a,Qs:o})))}function fF(t,e,n){let r=t.Os.get(e)||he.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.Os.set(e,r)}class Z_{constructor(){this.activeTargetIds=rj()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hF{constructor(){this.Mo=new Z_,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pF{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="ConnectivityMonitor";class tx{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ee(ex,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ee(ex,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wu=null;function Bm(){return wu===null?wu=function(){return 268435456+Math.round(2147483648*Math.random())}():wu++,"0x"+wu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",mF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gF{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Md?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,o){const i=Bm(),a=this.zo(e,n.toUriEncodedString());ee(tp,`Sending RPC '${e}' ${i}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,o);const{host:u}=new URL(a),d=by(u);return this.Jo(e,a,c,r,d).then(f=>(ee(tp,`Received RPC '${e}' ${i}: `,f),f),f=>{throw da(tp,`RPC '${e}' ${i} failed with error: `,f,"url: ",a,"request:",r),f})}Ho(e,n,r,s,o,i){return this.Go(e,n,r,s,o)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}zo(e,n){const r=mF[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yF{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class vF extends gF{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,o){const i=Bm();return new Promise((a,c)=>{const u=new _b;u.setWithCredentials(!0),u.listenOnce(xb.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Bu.NO_ERROR:const f=u.getResponseJson();ee(Wt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),a(f);break;case Bu.TIMEOUT:ee(Wt,`RPC '${e}' ${i} timed out`),c(new J(B.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const h=u.getStatus();if(ee(Wt,`RPC '${e}' ${i} failed with status:`,h,"response text:",u.getResponseText()),h>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const S=m==null?void 0:m.error;if(S&&S.status&&S.message){const v=function(x){const w=x.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(w)>=0?w:B.UNKNOWN}(S.status);c(new J(v,S.message))}else c(new J(B.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new J(B.UNAVAILABLE,"Connection failed."));break;default:le(9055,{l_:e,streamId:i,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ee(Wt,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);ee(Wt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",d,r,15)})}T_(e,n,r){const s=Bm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Sb(),a=Tb(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const d=o.join("");ee(Wt,`Creating RPC '${e}' stream ${s}: ${d}`,c);const f=i.createWebChannel(d,c);this.I_(f);let h=!1,m=!1;const S=new yF({Yo:E=>{m?ee(Wt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(h||(ee(Wt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),h=!0),ee(Wt,`RPC '${e}' stream ${s} sending:`,E),f.send(E))},Zo:()=>f.close()}),v=(E,x,w)=>{E.listen(x,T=>{try{w(T)}catch(N){setTimeout(()=>{throw N},0)}})};return v(f,sl.EventType.OPEN,()=>{m||(ee(Wt,`RPC '${e}' stream ${s} transport opened.`),S.o_())}),v(f,sl.EventType.CLOSE,()=>{m||(m=!0,ee(Wt,`RPC '${e}' stream ${s} transport closed`),S.a_(),this.E_(f))}),v(f,sl.EventType.ERROR,E=>{m||(m=!0,da(Wt,`RPC '${e}' stream ${s} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new J(B.UNAVAILABLE,"The operation could not be completed")))}),v(f,sl.EventType.MESSAGE,E=>{var x;if(!m){const w=E.data[0];Me(!!w,16349);const T=w,N=(T==null?void 0:T.error)||((x=T[0])==null?void 0:x.error);if(N){ee(Wt,`RPC '${e}' stream ${s} received error:`,N);const O=N.status;let M=function(C){const R=ht[C];if(R!==void 0)return oC(R)}(O),I=N.message;M===void 0&&(M=B.INTERNAL,I="Unknown error status: "+O+" with message "+N.message),m=!0,S.a_(new J(M,I)),f.close()}else ee(Wt,`RPC '${e}' stream ${s} received:`,w),S.u_(w)}}),v(a,Eb.STAT_EVENT,E=>{E.stat===Pm.PROXY?ee(Wt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Pm.NOPROXY&&ee(Wt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.__()},0),S}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ff(t){return new Ej(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e,n,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ee("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="PersistentStream";class _C{constructor(e,n,r,s,o,i,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wC(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(ss(n.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new J(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ee(nx,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ee(nx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wF extends _C{constructor(e,n,r,s,o,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=bj(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const i=o.targetChange;return i.targetIds&&i.targetIds.length?he.min():i.readTime?Nr(i.readTime):he.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=$m(this.serializer),n.addTarget=function(o,i){let a;const c=i.target;if(a=Mm(c)?{documents:Rj(o,c)}:{query:Aj(o,c).ft},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=lC(o,i.resumeToken);const u=Lm(o,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(he.min())>0){a.readTime=Ud(o,i.snapshotVersion.toTimestamp());const u=Lm(o,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=Nj(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=$m(this.serializer),n.removeTarget=e,this.q_(n)}}class _F extends _C{constructor(e,n,r,s,o,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,i),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Ij(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=$m(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Cj(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{}class EF extends xF{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,i])=>this.connection.Go(e,jm(n,r),s,o,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new J(B.UNKNOWN,o.toString())})}Ho(e,n,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Ho(e,jm(n,r),s,i,a,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(B.UNKNOWN,i.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class TF{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(n),this.aa=!1):ee("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="RemoteStore";class SF{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo(i=>{r.enqueueAndForget(async()=>{ri(this)&&(ee(Ho,"Restarting streams for network reachability change."),await async function(c){const u=pe(c);u.Ea.add(4),await bc(u),u.Ra.set("Unknown"),u.Ea.delete(4),await $f(u)}(this))})}),this.Ra=new TF(r,s)}}async function $f(t){if(ri(t))for(const e of t.da)await e(!0)}async function bc(t){for(const e of t.da)await e(!1)}function xC(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),qy(n)?Hy(n):Ra(n).O_()&&Wy(n,e))}function zy(t,e){const n=pe(t),r=Ra(n);n.Ia.delete(e),r.O_()&&EC(n,e),n.Ia.size===0&&(r.O_()?r.L_():ri(n)&&n.Ra.set("Unknown"))}function Wy(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ra(t).Y_(e)}function EC(t,e){t.Va.Ue(e),Ra(t).Z_(e)}function Hy(t){t.Va=new vj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ra(t).start(),t.Ra.ua()}function qy(t){return ri(t)&&!Ra(t).x_()&&t.Ia.size>0}function ri(t){return pe(t).Ea.size===0}function TC(t){t.Va=void 0}async function bF(t){t.Ra.set("Online")}async function CF(t){t.Ia.forEach((e,n)=>{Wy(t,e)})}async function IF(t,e){TC(t),qy(t)?(t.Ra.ha(e),Hy(t)):t.Ra.set("Unknown")}async function RF(t,e,n){if(t.Ra.set("Online"),e instanceof aC&&e.state===2&&e.cause)try{await async function(s,o){const i=o.cause;for(const a of o.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,i),s.Ia.delete(a),s.Va.removeTarget(a))}(t,e)}catch(r){ee(Ho,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zd(t,r)}else if(e instanceof qu?t.Va.Ze(e):e instanceof iC?t.Va.st(e):t.Va.tt(e),!n.isEqual(he.min()))try{const r=await vC(t.localStore);n.compareTo(r)>=0&&await function(o,i){const a=o.Va.Tt(i);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=o.Ia.get(u);d&&o.Ia.set(u,d.withResumeToken(c.resumeToken,i))}}),a.targetMismatches.forEach((c,u)=>{const d=o.Ia.get(c);if(!d)return;o.Ia.set(c,d.withResumeToken(jt.EMPTY_BYTE_STRING,d.snapshotVersion)),EC(o,c);const f=new ks(d.target,c,u,d.sequenceNumber);Wy(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ee(Ho,"Failed to raise snapshot:",r),await zd(t,r)}}async function zd(t,e,n){if(!Ca(e))throw e;t.Ea.add(1),await bc(t),t.Ra.set("Offline"),n||(n=()=>vC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ee(Ho,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await $f(t)})}function SC(t,e){return e().catch(n=>zd(t,n,e))}async function Uf(t){const e=pe(t),n=so(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ay;for(;AF(e);)try{const s=await uF(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,PF(e,s)}catch(s){await zd(e,s)}bC(e)&&CC(e)}function AF(t){return ri(t)&&t.Ta.length<10}function PF(t,e){t.Ta.push(e);const n=so(t);n.O_()&&n.X_&&n.ea(e.mutations)}function bC(t){return ri(t)&&!so(t).x_()&&t.Ta.length>0}function CC(t){so(t).start()}async function NF(t){so(t).ra()}async function kF(t){const e=so(t);for(const n of t.Ta)e.ea(n.mutations)}async function DF(t,e,n){const r=t.Ta.shift(),s=Vy.from(r,e,n);await SC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Uf(t)}async function OF(t,e){e&&so(t).X_&&await async function(r,s){if(function(i){return mj(i)&&i!==B.ABORTED}(s.code)){const o=r.Ta.shift();so(r).B_(),await SC(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Uf(r)}}(t,e),bC(t)&&CC(t)}async function rx(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ee(Ho,"RemoteStore received new credentials");const r=ri(n);n.Ea.add(3),await bc(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await $f(n)}async function MF(t,e){const n=pe(t);e?(n.Ea.delete(2),await $f(n)):e||(n.Ea.add(2),await bc(n),n.Ra.set("Unknown"))}function Ra(t){return t.ma||(t.ma=function(n,r,s){const o=pe(n);return o.sa(),new wF(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:bF.bind(null,t),t_:CF.bind(null,t),r_:IF.bind(null,t),H_:RF.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),qy(t)?Hy(t):t.Ra.set("Unknown")):(await t.ma.stop(),TC(t))})),t.ma}function so(t){return t.fa||(t.fa=function(n,r,s){const o=pe(n);return o.sa(),new _F(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:NF.bind(null,t),r_:OF.bind(null,t),ta:kF.bind(null,t),na:DF.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Uf(t)):(await t.fa.stop(),t.Ta.length>0&&(ee(Ho,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const i=Date.now()+r,a=new Ky(e,n,i,s,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(t,e){if(ss("AsyncQueue",`${e}: ${t}`),Ca(t))return new J(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{static emptySet(e){return new Bi(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=ol(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.ga=new it(ie.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):le(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ga{constructor(e,n,r,s,o,i,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,o){const i=[];return n.forEach(a=>{i.push({type:0,doc:a})}),new ga(e,n,Bi.emptySet(n),i,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class LF{constructor(){this.queries=ox(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),o=s.queries;s.queries=ox(),o.forEach((i,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new J(B.ABORTED,"Firestore shutting down"))}}function ox(){return new ni(t=>Kb(t),Of)}async function jF(t,e){const n=pe(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new VF,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(s,!0);break;case 1:o.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(i){const a=Gy(i,`Initialization of query '${mi(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&Qy(n)}async function FF(t,e){const n=pe(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const i=o.Sa.indexOf(e);i>=0&&(o.Sa.splice(i,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $F(t,e){const n=pe(t);let r=!1;for(const s of e){const o=s.query,i=n.queries.get(o);if(i){for(const a of i.Sa)a.Fa(s)&&(r=!0);i.wa=s}}r&&Qy(n)}function UF(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(n);r.queries.delete(e)}function Qy(t){t.Ca.forEach(e=>{e.next()})}var zm,ix;(ix=zm||(zm={})).Ma="default",ix.Cache="cache";class BF{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ga(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ga.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.key=e}}class RC{constructor(e){this.key=e}}class zF{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Se(),this.mutatedKeys=Se(),this.eu=Gb(e),this.tu=new Bi(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new sx,s=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,i=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const h=s.get(d),m=Mf(this.query,f)?f:null,S=!!h&&this.mutatedKeys.has(h.key),v=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;h&&m?h.data.isEqual(m.data)?S!==v&&(r.track({type:3,doc:m}),E=!0):this.su(h,m)||(r.track({type:2,doc:m}),E=!0,(c&&this.eu(m,c)>0||u&&this.eu(m,u)<0)&&(a=!0)):!h&&m?(r.track({type:0,doc:m}),E=!0):h&&!m&&(r.track({type:1,doc:h}),E=!0,(c||u)&&(a=!0)),E&&(m?(i=i.add(m),o=v?o.add(d):o.delete(d)):(i=i.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{tu:i,iu:r,Cs:a,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const i=e.iu.ya();i.sort((d,f)=>function(m,S){const v=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return le(20277,{Rt:E})}};return v(m)-v(S)}(d.type,f.type)||this.eu(d.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Xa.size===0&&this.current&&!s?1:0,u=c!==this.Za;return this.Za=c,i.length!==0||u?{snapshot:new ga(this.query,e.tu,o,i,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new sx,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Se(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new RC(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new IC(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=Se();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ga.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Yy="SyncEngine";class WF{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HF{constructor(e){this.key=e,this.hu=!1}}class qF{constructor(e,n,r,s,o,i){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=i,this.Pu={},this.Tu=new ni(a=>Kb(a),Of),this.Iu=new Map,this.Eu=new Set,this.du=new it(ie.comparator),this.Au=new Map,this.Ru=new Fy,this.Vu={},this.mu=new Map,this.fu=ma.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KF(t,e,n=!0){const r=OC(t);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await AC(r,e,n,!0),s}async function GF(t,e){const n=OC(t);await AC(n,e,!0,!1)}async function AC(t,e,n,r){const s=await dF(t.localStore,Pr(e)),o=s.targetId,i=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await QF(t,e,o,i==="current",s.resumeToken)),t.isPrimaryClient&&n&&xC(t.remoteStore,s),a}async function QF(t,e,n,r,s){t.pu=(f,h,m)=>async function(v,E,x,w){let T=E.view.ru(x);T.Cs&&(T=await J_(v.localStore,E.query,!1).then(({documents:I})=>E.view.ru(I,T)));const N=w&&w.targetChanges.get(E.targetId),O=w&&w.targetMismatches.get(E.targetId)!=null,M=E.view.applyChanges(T,v.isPrimaryClient,N,O);return lx(v,E.targetId,M.au),M.snapshot}(t,f,h,m);const o=await J_(t.localStore,e,!0),i=new zF(e,o.Qs),a=i.ru(o.documents),c=Sc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=i.applyChanges(a,t.isPrimaryClient,c);lx(t,n,u.au);const d=new WF(e,n,i);return t.Tu.set(e,d),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function YF(t,e,n){const r=pe(t),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter(i=>!Of(i,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Um(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&zy(r.remoteStore,s.targetId),Wm(r,s.targetId)}).catch(ba)):(Wm(r,s.targetId),await Um(r.localStore,s.targetId,!0))}async function XF(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zy(n.remoteStore,r.targetId))}async function JF(t,e,n){const r=o3(t);try{const s=await function(i,a){const c=pe(i),u=Ye.now(),d=a.reduce((m,S)=>m.add(S.key),Se());let f,h;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let S=os(),v=Se();return c.Ns.getEntries(m,d).next(E=>{S=E,S.forEach((x,w)=>{w.isValidDocument()||(v=v.add(x))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,S)).next(E=>{f=E;const x=[];for(const w of a){const T=uj(w,f.get(w.key).overlayedDocument);T!=null&&x.push(new uo(w.key,T,jb(T.value.mapValue),sr.exists(!0)))}return c.mutationQueue.addMutationBatch(m,u,x,a)}).next(E=>{h=E;const x=E.applyToLocalDocumentSet(f,v);return c.documentOverlayCache.saveOverlays(m,E.batchId,x)})}).then(()=>({batchId:h.batchId,changes:Yb(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,a,c){let u=i.Vu[i.currentUser.toKey()];u||(u=new it(Te)),u=u.insert(a,c),i.Vu[i.currentUser.toKey()]=u}(r,s.batchId,n),await Cc(r,s.changes),await Uf(r.remoteStore)}catch(s){const o=Gy(s,"Failed to persist write");n.reject(o)}}async function PC(t,e){const n=pe(t);try{const r=await lF(n.localStore,e);e.targetChanges.forEach((s,o)=>{const i=n.Au.get(o);i&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?i.hu=!0:s.modifiedDocuments.size>0?Me(i.hu,14607):s.removedDocuments.size>0&&(Me(i.hu,42227),i.hu=!1))}),await Cc(n,r,e)}catch(r){await ba(r)}}function ax(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((o,i)=>{const a=i.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(i,a){const c=pe(i);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const h of f.Sa)h.va(a)&&(u=!0)}),u&&Qy(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZF(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),o=s&&s.key;if(o){let i=new it(ie.comparator);i=i.insert(o,Qt.newNoDocument(o,he.min()));const a=Se().add(o),c=new jf(he.min(),new Map,new it(Te),i,a);await PC(r,c),r.du=r.du.remove(o),r.Au.delete(e),Xy(r)}else await Um(r.localStore,e,!1).then(()=>Wm(r,e,n)).catch(ba)}async function e3(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await aF(n.localStore,e);kC(n,r,null),NC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cc(n,s)}catch(s){await ba(s)}}async function t3(t,e,n){const r=pe(t);try{const s=await function(i,a){const c=pe(i);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(Me(f!==null,37113),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);kC(r,e,n),NC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cc(r,s)}catch(s){await ba(s)}}function NC(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function kC(t,e,n){const r=pe(t);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function Wm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||DC(t,r)})}function DC(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(zy(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Xy(t))}function lx(t,e,n){for(const r of n)r instanceof IC?(t.Ru.addReference(r.key,e),n3(t,r)):r instanceof RC?(ee(Yy,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||DC(t,r.key)):le(19791,{wu:r})}function n3(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(ee(Yy,"New document in limbo: "+n),t.Eu.add(r),Xy(t))}function Xy(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ie(He.fromString(e)),r=t.fu.next();t.Au.set(r,new HF(n)),t.du=t.du.insert(n,r),xC(t.remoteStore,new ks(Pr(Hb(n.path)),r,"TargetPurposeLimboResolution",Nf.ce))}}async function Cc(t,e,n){const r=pe(t),s=[],o=[],i=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{i.push(r.pu(c,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(d=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){s.push(u);const f=Uy.As(c.targetId,u);o.push(f)}}))}),await Promise.all(i),r.Pu.H_(s),await async function(c,u){const d=pe(c);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>z.forEach(u,h=>z.forEach(h.Es,m=>d.persistence.referenceDelegate.addReference(f,h.targetId,m)).next(()=>z.forEach(h.ds,m=>d.persistence.referenceDelegate.removeReference(f,h.targetId,m)))))}catch(f){if(!Ca(f))throw f;ee(By,"Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const m=d.Ms.get(h),S=m.snapshotVersion,v=m.withLastLimboFreeSnapshotVersion(S);d.Ms=d.Ms.insert(h,v)}}}(r.localStore,o))}async function r3(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ee(Yy,"User change. New user:",e.toKey());const r=await yC(n.localStore,e);n.currentUser=e,function(o,i){o.mu.forEach(a=>{a.forEach(c=>{c.reject(new J(B.CANCELLED,i))})}),o.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cc(n,r.Ls)}}function s3(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Se().add(r.key);{let s=Se();const o=n.Iu.get(e);if(!o)return s;for(const i of o){const a=n.Tu.get(i);s=s.unionWith(a.view.nu)}return s}}function OC(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZF.bind(null,e),e.Pu.H_=$F.bind(null,e.eventManager),e.Pu.yu=UF.bind(null,e.eventManager),e}function o3(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t3.bind(null,e),e}class Wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return iF(this.persistence,new rF,e.initialUser,this.serializer)}Cu(e){return new gC($y.mi,this.serializer)}Du(e){return new hF}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wd.provider={build:()=>new Wd};class i3 extends Wd{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Me(this.persistence.referenceDelegate instanceof Bd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Bj(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new gC(r=>Bd.mi(r,n),this.serializer)}}class Hm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ax(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r3.bind(null,this.syncEngine),await MF(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LF}()}createDatastore(e){const n=Ff(e.databaseInfo.databaseId),r=function(o){return new vF(o)}(e.databaseInfo);return function(o,i,a,c){return new EF(o,i,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,i,a){return new SF(r,s,o,i,a)}(this.localStore,this.datastore,e.asyncQueue,n=>ax(this.syncEngine,n,0),function(){return tx.v()?new tx:new pF}())}createSyncEngine(e,n){return function(s,o,i,a,c,u,d){const f=new qF(s,o,i,a,c,u);return d&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=pe(s);ee(Ho,"RemoteStore shutting down."),o.Ea.add(5),await bc(o),o.Aa.shutdown(),o.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Hm.provider={build:()=>new Hm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo="FirestoreClient";class l3{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async i=>{ee(oo,"Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ee(oo,"Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rp(t,e){t.asyncQueue.verifyOperationInProgress(),ee(oo,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yC(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await c3(t);ee(oo,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>rx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>rx(e.remoteStore,s)),t._onlineComponents=e}async function c3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ee(oo,"Using user provided OfflineComponentProvider");try{await rp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===B.FAILED_PRECONDITION||s.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await rp(t,new Wd)}}else ee(oo,"Using default OfflineComponentProvider"),await rp(t,new i3(void 0));return t._offlineComponents}async function MC(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ee(oo,"Using user provided OnlineComponentProvider"),await cx(t,t._uninitializedComponentsProvider._online)):(ee(oo,"Using default OnlineComponentProvider"),await cx(t,new Hm))),t._onlineComponents}function u3(t){return MC(t).then(e=>e.syncEngine)}async function d3(t){const e=await MC(t),n=e.eventManager;return n.onListen=KF.bind(null,e.syncEngine),n.onUnlisten=YF.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=GF.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XF.bind(null,e.syncEngine),n}function f3(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget(async()=>function(o,i,a,c,u){const d=new a3({next:h=>{d.Nu(),i.enqueueAndForget(()=>FF(o,f)),h.fromCache&&c.source==="server"?u.reject(new J(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new BF(a,d,{includeMetadataChanges:!0,qa:!0});return jF(o,f)}(await d3(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="firestore.googleapis.com",dx=!0;class fx{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new J(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=LC,this.ssl=dx}else this.host=e.host,this.ssl=e.ssl??dx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=mC;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$j)throw new J(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VC(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new J(B.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bf{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new J(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new J(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new hL;switch(r.type){case"firstParty":return new yL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ux.get(n);r&&(ee("ComponentProvider","Removing Datastore"),ux.delete(n),r.terminate())}(this),Promise.resolve()}}function h3(t,e,n,r={}){var u;t=Zs(t,Bf);const s=by(e),o=t._getSettings(),i={...o,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(B4(`https://${a}`),q4("Firestore",!0)),o.host!==LC&&o.host!==a&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:a,ssl:s,emulatorOptions:r};if(!Nd(c,i)&&(t._setSettings(c),r.mockUserToken)){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Ht.MOCK_USER;else{d=z4(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new J(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(h)}t._authCredentials=new pL(new Cb(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class yt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ec(n,yt._jsonSchema))return new yt(e,r||null,new ie(He.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:gt("string",yt._jsonSchemaVersion),referencePath:gt("string")};class qs extends fo{constructor(e,n,r){super(e,n,Hb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new ie(e))}withConverter(e){return new qs(this.firestore,e,this._path)}}function Hd(t,e,...n){if(t=ns(t),Ib("collection","path",e),t instanceof Bf){const r=He.fromString(e,...n);return b_(r),new qs(t,null,r)}{if(!(t instanceof yt||t instanceof qs))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return b_(r),new qs(t.firestore,null,r)}}function Za(t,e,...n){if(t=ns(t),arguments.length===1&&(e=Ry.newId()),Ib("doc","path",e),t instanceof Bf){const r=He.fromString(e,...n);return S_(r),new yt(t,null,new ie(r))}{if(!(t instanceof yt||t instanceof qs))throw new J(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return S_(r),new yt(t.firestore,t instanceof qs?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx="AsyncQueue";class px{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wC(this,"async_queue_retry"),this._c=()=>{const r=np();r&&ee(hx,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=np();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=np();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Hs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ca(e))throw e;ee(hx,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",mx(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Ky.createAndSchedule(this,e,n,r,o=>this.hc(o));return this.tc.push(s),s}uc(){this.nc&&le(47125,{Pc:mx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ic extends Bf{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new px,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new px(e),this._firestoreClient=void 0,await e}}}function p3(t,e){const n=typeof t=="object"?t:nL(),r=typeof t=="string"?t:Md,s=XV(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=$4("firestore");o&&h3(s,...o)}return s}function jC(t){if(t._terminated)throw new J(B.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||m3(t),t._firestoreClient}function m3(t){var r,s,o;const e=t._freezeSettings(),n=function(a,c,u,d){return new ML(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,VC(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new l3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(jt.fromBase64String(e))}catch(n){throw new J(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ec(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:gt("string",Ln._jsonSchemaVersion),bytes:gt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:kr._jsonSchemaVersion}}static fromJSON(e){if(Ec(e,kr._jsonSchema))return new kr(e.latitude,e.longitude)}}kr._jsonSchemaVersion="firestore/geoPoint/1.0",kr._jsonSchema={type:gt("string",kr._jsonSchemaVersion),latitude:gt("number"),longitude:gt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ec(e,Dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Dr(e.vectorValues);throw new J(B.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Dr._jsonSchemaVersion="firestore/vectorValue/1.0",Dr._jsonSchema={type:gt("string",Dr._jsonSchemaVersion),vectorValues:gt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=/^__.*__$/;class y3{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new uo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class FC{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new uo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $C(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le(40011,{Ac:t})}}class Zy{constructor(e,n,r,s,o,i){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Zy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if($C(this.Ac)&&g3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class v3{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ff(e)}Cc(e,n,r,s=!1){return new Zy({Ac:e,methodName:n,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ev(t){const e=t._freezeSettings(),n=Ff(t._databaseId);return new v3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w3(t,e,n,r,s,o={}){const i=t.Cc(o.merge||o.mergeFields?2:0,e,n,s);tv("Data must be an object, but it was:",i,r);const a=UC(r,i);let c,u;if(o.merge)c=new bn(i.fieldMask),u=i.fieldTransforms;else if(o.mergeFields){const d=[];for(const f of o.mergeFields){const h=qm(e,f,n);if(!i.contains(h))throw new J(B.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);zC(d,h)||d.push(h)}c=new bn(d),u=i.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=i.fieldTransforms;return new y3(new fn(a),c,u)}class Wf extends Jy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wf}}function _3(t,e,n,r){const s=t.Cc(1,e,n);tv("Data must be an object, but it was:",s,r);const o=[],i=fn.empty();co(r,(c,u)=>{const d=nv(e,c,n);u=ns(u);const f=s.yc(d);if(u instanceof Wf)o.push(d);else{const h=Rc(u,f);h!=null&&(o.push(d),i.set(d,h))}});const a=new bn(o);return new FC(i,a,s.fieldTransforms)}function x3(t,e,n,r,s,o){const i=t.Cc(1,e,n),a=[qm(e,r,n)],c=[s];if(o.length%2!=0)throw new J(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(qm(e,o[h])),c.push(o[h+1]);const u=[],d=fn.empty();for(let h=a.length-1;h>=0;--h)if(!zC(u,a[h])){const m=a[h];let S=c[h];S=ns(S);const v=i.yc(m);if(S instanceof Wf)u.push(m);else{const E=Rc(S,v);E!=null&&(u.push(m),d.set(m,E))}}const f=new bn(u);return new FC(d,f,i.fieldTransforms)}function E3(t,e,n,r=!1){return Rc(n,t.Cc(r?4:3,e))}function Rc(t,e){if(BC(t=ns(t)))return tv("Unsupported field value:",e,t),UC(t,e);if(t instanceof Jy)return function(r,s){if(!$C(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const o=[];let i=0;for(const a of r){let c=Rc(a,s.wc(i));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),i++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=ns(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sj(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ye.fromDate(r);return{timestampValue:Ud(s.serializer,o)}}if(r instanceof Ye){const o=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ud(s.serializer,o)}}if(r instanceof kr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:lC(s.serializer,r._byteString)};if(r instanceof yt){const o=s.databaseId,i=r.firestore._databaseId;if(!i.isEqual(o))throw s.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:jy(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Dr)return function(i,a){return{mapValue:{fields:{[Vb]:{stringValue:Lb},[Vd]:{arrayValue:{values:i.toArray().map(u=>{if(typeof u!="number")throw a.Sc("VectorValues must only contain numeric values.");return Oy(a.serializer,u)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Pf(r)}`)}(t,e)}function UC(t,e){const n={};return Pb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):co(t,(r,s)=>{const o=Rc(s,e.mc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function BC(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof kr||t instanceof Ln||t instanceof yt||t instanceof Jy||t instanceof Dr)}function tv(t,e,n){if(!BC(n)||!Rb(n)){const r=Pf(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function qm(t,e,n){if((e=ns(e))instanceof zf)return e._internalPath;if(typeof e=="string")return nv(t,e);throw qd("Field path arguments must be of type string or ",t,!1,void 0,n)}const T3=new RegExp("[~\\*/\\[\\]]");function nv(t,e,n){if(e.search(T3)>=0)throw qd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zf(...e.split("."))._internalPath}catch{throw qd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qd(t,e,n,r,s){const o=r&&!r.isEmpty(),i=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||i)&&(c+=" (found",o&&(c+=` in field ${r}`),i&&(c+=` in document ${s}`),c+=")"),new J(B.INVALID_ARGUMENT,a+t+c)}function zC(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class S3 extends WC{data(){return super.data()}}function Hf(t,e){return typeof e=="string"?nv(t,e):e instanceof zf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rv{}class sv extends rv{}function Km(t,e,...n){let r=[];e instanceof rv&&r.push(e),r=r.concat(n),function(o){const i=o.filter(c=>c instanceof ov).length,a=o.filter(c=>c instanceof qf).length;if(i>1||i>0&&a>0)throw new J(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class qf extends sv{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new qf(e,n,r)}_apply(e){const n=this._parse(e);return HC(e._query,n),new fo(e.firestore,e.converter,Vm(e._query,n))}_parse(e){const n=ev(e.firestore);return function(o,i,a,c,u,d,f){let h;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new J(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){vx(f,d);const S=[];for(const v of f)S.push(yx(c,o,v));h={arrayValue:{values:S}}}else h=yx(c,o,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||vx(f,d),h=E3(a,i,f,d==="in"||d==="not-in");return mt.create(u,d,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function C3(t,e,n){const r=e,s=Hf("where",t);return qf._create(s,r,n)}class ov extends rv{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ov(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let i=s;const a=o.getFlattenedFilters();for(const c of a)HC(i,c),i=Vm(i,c)}(e._query,n),new fo(e.firestore,e.converter,Vm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iv extends sv{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iv(e,n)}_apply(e){const n=function(s,o,i){if(s.startAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rc(o,i)}(e._query,this._field,this._direction);return new fo(e.firestore,e.converter,function(s,o){const i=s.explicitOrderBy.concat([o]);return new Ia(s.path,s.collectionGroup,i,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Kd(t,e="asc"){const n=e,r=Hf("orderBy",t);return iv._create(r,n)}class av extends sv{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new av(e,n,r)}_apply(e){return new fo(e.firestore,e.converter,jd(e._query,this._limit,this._limitType))}}function gx(t){return SL("limit",t),av._create("limit",t,"F")}function yx(t,e,n){if(typeof(n=ns(n))=="string"){if(n==="")throw new J(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qb(e)&&n.indexOf("/")!==-1)throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ie.isDocumentKey(r))throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return D_(t,new ie(r))}if(n instanceof yt)return D_(t,n._key);throw new J(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Pf(n)}.`)}function vx(t,e){if(!Array.isArray(t)||t.length===0)throw new J(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function HC(t,e){const n=function(s,o){for(const i of s)for(const a of i.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class I3{convertValue(e,n="none"){switch(ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(no(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw le(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return co(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var r,s,o;const n=(o=(s=(r=e.fields)==null?void 0:r[Vd].arrayValue)==null?void 0:s.values)==null?void 0:o.map(i=>dt(i.doubleValue));return new Dr(n)}convertGeoPoint(e){return new kr(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Df(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=to(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Me(pC(r),9688,{name:e});const s=new tc(r.get(1),r.get(3)),o=new ie(r.popFirst(5));return s.isEqual(n)||ss(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R3(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zi extends WC{constructor(e,n,r,s,o,i){super(e,n,r,s,i),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ku(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=zi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}zi._jsonSchemaVersion="firestore/documentSnapshot/1.0",zi._jsonSchema={type:gt("string",zi._jsonSchemaVersion),bundleSource:gt("string","DocumentSnapshot"),bundleName:gt("string"),bundle:gt("string")};class Ku extends zi{data(e={}){return super.data(e)}}class Wi{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _u(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ku(this._firestore,this._userDataWriter,r.key,r,new _u(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(a=>{const c=new Ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _u(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const c=new Ku(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _u(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,d=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:A3(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new J(B.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Wi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function A3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return le(61501,{type:t})}}Wi._jsonSchemaVersion="firestore/querySnapshot/1.0",Wi._jsonSchema={type:gt("string",Wi._jsonSchemaVersion),bundleSource:gt("string","QuerySnapshot"),bundleName:gt("string"),bundle:gt("string")};class P3 extends I3{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function Gm(t){t=Zs(t,fo);const e=Zs(t.firestore,Ic),n=jC(e),r=new P3(e);return b3(t._query),f3(n,t._query).then(s=>new Wi(e,r,t,s))}function N3(t,e,n){t=Zs(t,yt);const r=Zs(t.firestore,Ic),s=R3(t.converter,e);return lv(r,[w3(ev(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,sr.none())])}function sp(t,e,n,...r){t=Zs(t,yt);const s=Zs(t.firestore,Ic),o=ev(s);let i;return i=typeof(e=ns(e))=="string"||e instanceof zf?x3(o,"updateDoc",t._key,e,n,r):_3(o,"updateDoc",t._key,e),lv(s,[i.toMutation(t._key,sr.exists(!0))])}function k3(t){return lv(Zs(t.firestore,Ic),[new My(t._key,sr.none())])}function lv(t,e){return function(r,s){const o=new Hs;return r.asyncQueue.enqueueAndForget(async()=>JF(await u3(r),s,o)),o.promise}(jC(t),e)}(function(e,n=!0){(function(s){Sa=s})(tL),Dd(new Xl("firestore",(r,{instanceIdentifier:s,options:o})=>{const i=r.getProvider("app").getImmediate(),a=new Ic(new mL(r.getProvider("auth-internal")),new vL(i,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new J(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(u.options.projectId,d)}(i,s),i);return o={useFetchStreams:n,...o},a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Ui(__,x_,e),Ui(__,x_,"esm2020")})();var D3="firebase",O3="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ui(D3,O3,"app");const M3={apiKey:"AIzaSyBlYecc9DWvW25Cb0jNRuCK9POfXew0pU4",authDomain:"work-project-tracker.firebaseapp.com",projectId:"work-project-tracker",storageBucket:"work-project-tracker.firebasestorage.app",messagingSenderId:"255672838256",appId:"1:255672838256:web:fe2cd6f535b4d31d4fecb5"},qC=gb(M3),ci=p3(qC),wx=getFirestore(qC),V3=()=>{const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,o]=g.useState(!0),[i,a]=g.useState({totalHoursThisWeek:"0h 0m",jobsCompleted:0,averageJobTime:"0h 0m",punctualityScore:100,lateCheckIns:0,earlyCheckOuts:0});g.useEffect(()=>{c(),u()},[]);const c=async()=>{try{const h=Km(Hd(wx,"work_sessions"),C3("end_time","!=",null),Kd("start_time","desc"),gx(10)),S=(await Gm(h)).docs.map(v=>({id:v.id,...v.data()}));e(S)}catch(h){console.error("Error fetching work sessions:",h)}},u=async()=>{try{const h=Km(Hd(wx,"attendance"),Kd("date","desc"),gx(30)),S=(await Gm(h)).docs.map(v=>({id:v.id,...v.data()}));r(S)}catch(h){console.error("Error fetching attendance records:",h)}finally{o(!1)}};g.useEffect(()=>{t.length>0&&n.length>0&&d()},[t,n]);const d=()=>{const h=new Date,m=new Date(h.setDate(h.getDate()-h.getDay()));m.setHours(0,0,0,0);const S=t.filter(I=>new Date(I.start_time)>=m),v=S.reduce((I,b)=>I+(b.duration||0),0),E=S.length,x=E>0?Math.round(v/E):0,w=n.filter(I=>new Date(I.date)>=m),T=w.filter(I=>I.is_late_check_in).length,N=w.filter(I=>I.is_early_check_out).length,O=w.length,M=O>0?Math.round((O-T-N)/O*100):100;a({totalHoursThisWeek:f(v),jobsCompleted:E,averageJobTime:f(x),punctualityScore:M,lateCheckIns:T,earlyCheckOuts:N})},f=h=>{const m=Math.floor(h/60),S=h%60;return m>0&&S>0?`${m}h ${S}m`:m>0?`${m}h`:`${S}m`};return y.jsx("div",{className:"min-h-screen bg-background p-4",children:y.jsxs("div",{className:"max-w-6xl mx-auto",children:[y.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[y.jsx(Vi,{to:"/",children:y.jsxs(nn,{variant:"outline",size:"sm",children:[y.jsx(uy,{className:"w-4 h-4 mr-2"}),"Home"]})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Parent Dashboard"}),y.jsx("p",{className:"text-muted-foreground",children:"Overview of work activity and progress"})]})]}),(t.length>0||n.length>0)&&!s&&y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[y.jsxs(qt,{children:[y.jsxs(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(Tr,{className:"text-sm font-medium",children:"Total Hours This Week"}),y.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Kt,{children:[y.jsx("div",{className:"text-2xl font-bold text-primary",children:i.totalHoursThisWeek}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"This week"})]})]}),y.jsxs(qt,{children:[y.jsxs(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(Tr,{className:"text-sm font-medium",children:"Jobs Completed"}),y.jsx(B2,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Kt,{children:[y.jsx("div",{className:"text-2xl font-bold text-success",children:i.jobsCompleted}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"This week"})]})]}),y.jsxs(qt,{children:[y.jsxs(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(Tr,{className:"text-sm font-medium",children:"Average Job Time"}),y.jsx(G2,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Kt,{children:[y.jsx("div",{className:"text-2xl font-bold text-primary",children:i.averageJobTime}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Per completed job"})]})]}),y.jsxs(qt,{children:[y.jsxs(Er,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[y.jsx(Tr,{className:"text-sm font-medium",children:"Punctuality Score"}),y.jsx(pm,{className:"h-4 w-4 text-muted-foreground"})]}),y.jsxs(Kt,{children:[y.jsxs("div",{className:"text-2xl font-bold text-primary",children:[i.punctualityScore,"%"]}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:[i.lateCheckIns+i.earlyCheckOuts," violations this week"]})]})]})]}),n.length>0&&i.lateCheckIns+i.earlyCheckOuts>0&&y.jsxs(qt,{className:"mb-6 border-warning bg-warning/5",children:[y.jsxs(Er,{children:[y.jsxs(Tr,{className:"flex items-center gap-2 text-warning",children:[y.jsx(Q2,{className:"w-5 h-5"}),"Punctuality Alerts"]}),y.jsx($i,{children:"Issues requiring attention for performance reviews"})]}),y.jsx(Kt,{children:y.jsx("div",{className:"space-y-3",children:n.filter(h=>h.is_late_check_in||h.is_early_check_out).slice(0,5).map(h=>y.jsxs("div",{className:"flex items-center justify-between p-3 bg-background rounded-md border",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:h.worker_name}),y.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(h.date).toLocaleDateString()})]}),y.jsxs("div",{className:"flex gap-2",children:[h.is_late_check_in&&y.jsxs(cn,{variant:"destructive",className:"text-xs",children:["Late Check-in: ",h.check_in_time?new Date(h.check_in_time).toLocaleTimeString():"N/A"]}),h.is_early_check_out&&y.jsxs(cn,{variant:"destructive",className:"text-xs",children:["Early Check-out: ",h.check_out_time?new Date(h.check_out_time).toLocaleTimeString():"N/A"]})]})]},h.id))})})]}),y.jsxs(qt,{children:[y.jsxs(Er,{children:[y.jsxs(Tr,{className:"flex items-center gap-2",children:[y.jsx(Y2,{className:"w-5 h-5"}),"Recent Work Sessions"]}),y.jsx($i,{children:"Latest work activity and descriptions"})]}),y.jsx(Kt,{children:y.jsx("div",{className:"space-y-4",children:s?y.jsx("div",{className:"text-center py-8",children:y.jsx("p",{className:"text-muted-foreground",children:"Loading work sessions..."})}):t.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("p",{className:"text-muted-foreground",children:"No work sessions completed yet."}),y.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Work sessions will appear here after jobs are completed."})]}):t.map(h=>y.jsx(qt,{className:"bg-muted/20",children:y.jsxs(Kt,{className:"p-4",children:[y.jsxs("div",{className:"flex items-start justify-between mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-lg",children:h.job_title}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(j2,{className:"w-3 h-3"}),new Date(h.start_time).toLocaleDateString()]}),y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Ys,{className:"w-3 h-3"}),new Date(h.start_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",h.end_time?new Date(h.end_time).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"In Progress"]})]})]}),y.jsx(cn,{variant:"secondary",className:"bg-success/10 text-success border-success/20",children:h.duration?f(h.duration):"In Progress"})]}),y.jsx("div",{className:"bg-background p-3 rounded-md border",children:y.jsx("p",{className:"text-sm leading-relaxed",children:h.description||"No description provided"})})]})},h.id))})})]})]})})};var op="focusScope.autoFocusOnMount",ip="focusScope.autoFocusOnUnmount",_x={bubbles:!1,cancelable:!0},L3="FocusScope",cv=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=t,[a,c]=g.useState(null),u=ir(s),d=ir(o),f=g.useRef(null),h=Be(e,v=>c(v)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let v=function(T){if(m.paused||!a)return;const N=T.target;a.contains(N)?f.current=N:ys(f.current,{select:!0})},E=function(T){if(m.paused||!a)return;const N=T.relatedTarget;N!==null&&(a.contains(N)||ys(f.current,{select:!0}))},x=function(T){if(document.activeElement===document.body)for(const O of T)O.removedNodes.length>0&&ys(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",E);const w=new MutationObserver(x);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",E),w.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){Ex.add(m);const v=document.activeElement;if(!a.contains(v)){const x=new CustomEvent(op,_x);a.addEventListener(op,u),a.dispatchEvent(x),x.defaultPrevented||(j3(z3(KC(a)),{select:!0}),document.activeElement===v&&ys(a))}return()=>{a.removeEventListener(op,u),setTimeout(()=>{const x=new CustomEvent(ip,_x);a.addEventListener(ip,d),a.dispatchEvent(x),x.defaultPrevented||ys(v??document.body,{select:!0}),a.removeEventListener(ip,d),Ex.remove(m)},0)}}},[a,u,d,m]);const S=g.useCallback(v=>{if(!n&&!r||m.paused)return;const E=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,x=document.activeElement;if(E&&x){const w=v.currentTarget,[T,N]=F3(w);T&&N?!v.shiftKey&&x===N?(v.preventDefault(),n&&ys(T,{select:!0})):v.shiftKey&&x===T&&(v.preventDefault(),n&&ys(N,{select:!0})):x===w&&v.preventDefault()}},[n,r,m.paused]);return y.jsx(be.div,{tabIndex:-1,...i,ref:h,onKeyDown:S})});cv.displayName=L3;function j3(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ys(r,{select:e}),document.activeElement!==n)return}function F3(t){const e=KC(t),n=xx(e,t),r=xx(e.reverse(),t);return[n,r]}function KC(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function xx(t,e){for(const n of t)if(!$3(n,{upTo:e}))return n}function $3(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function U3(t){return t instanceof HTMLInputElement&&"select"in t}function ys(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&U3(t)&&e&&t.select()}}var Ex=B3();function B3(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Tx(t,e),t.unshift(e)},remove(e){var n;t=Tx(t,e),(n=t[0])==null||n.resume()}}}function Tx(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function z3(t){return t.filter(e=>e.tagName!=="A")}var ap=0;function GC(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Sx()),document.body.insertAdjacentElement("beforeend",t[1]??Sx()),ap++,()=>{ap===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ap--}},[])}function Sx(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var br=function(){return br=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},br.apply(this,arguments)};function QC(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function W3(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,o;r<s;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var Gu="right-scroll-bar-position",Qu="width-before-scroll-bar",H3="with-scroll-bars-hidden",q3="--removed-body-scroll-bar-size";function lp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function K3(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var G3=typeof window<"u"?g.useLayoutEffect:g.useEffect,bx=new WeakMap;function Q3(t,e){var n=K3(null,function(r){return t.forEach(function(s){return lp(s,r)})});return G3(function(){var r=bx.get(n);if(r){var s=new Set(r),o=new Set(t),i=n.current;s.forEach(function(a){o.has(a)||lp(a,null)}),o.forEach(function(a){s.has(a)||lp(a,i)})}bx.set(n,t)},[t]),n}function Y3(t){return t}function X3(t,e){e===void 0&&(e=Y3);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var i=e(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function J3(t){t===void 0&&(t={});var e=X3(null);return e.options=br({async:!0,ssr:!1},t),e}var YC=function(t){var e=t.sideCar,n=QC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,br({},n))};YC.isSideCarExport=!0;function Z3(t,e){return t.useMedium(e),YC}var XC=J3(),cp=function(){},Kf=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:cp,onWheelCapture:cp,onTouchMoveCapture:cp}),s=r[0],o=r[1],i=t.forwardProps,a=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,h=t.sideCar,m=t.noRelative,S=t.noIsolation,v=t.inert,E=t.allowPinchZoom,x=t.as,w=x===void 0?"div":x,T=t.gapMode,N=QC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=h,M=Q3([n,e]),I=br(br({},N),s);return g.createElement(g.Fragment,null,d&&g.createElement(O,{sideCar:XC,removeScrollBar:u,shards:f,noRelative:m,noIsolation:S,inert:v,setCallbacks:o,allowPinchZoom:!!E,lockRef:n,gapMode:T}),i?g.cloneElement(g.Children.only(a),br(br({},I),{ref:M})):g.createElement(w,br({},I,{className:c,ref:M}),a))});Kf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Kf.classNames={fullWidth:Qu,zeroRight:Gu};var e6=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function t6(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=e6();return e&&t.setAttribute("nonce",e),t}function n6(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function r6(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var s6=function(){var t=0,e=null;return{add:function(n){t==0&&(e=t6())&&(n6(e,n),r6(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},o6=function(){var t=s6();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},JC=function(){var t=o6(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},i6={left:0,top:0,right:0,gap:0},up=function(t){return parseInt(t||"",10)||0},a6=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[up(n),up(r),up(s)]},l6=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return i6;var e=a6(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},c6=JC(),Hi="data-scroll-locked",u6=function(t,e,n,r){var s=t.left,o=t.top,i=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(H3,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Gu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Qu,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Gu," .").concat(Gu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qu," .").concat(Qu,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hi,`] {
    `).concat(q3,": ").concat(a,`px;
  }
`)},Cx=function(){var t=parseInt(document.body.getAttribute(Hi)||"0",10);return isFinite(t)?t:0},d6=function(){g.useEffect(function(){return document.body.setAttribute(Hi,(Cx()+1).toString()),function(){var t=Cx()-1;t<=0?document.body.removeAttribute(Hi):document.body.setAttribute(Hi,t.toString())}},[])},f6=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;d6();var o=g.useMemo(function(){return l6(s)},[s]);return g.createElement(c6,{styles:u6(o,!e,s,n?"":"!important")})},Qm=!1;if(typeof window<"u")try{var xu=Object.defineProperty({},"passive",{get:function(){return Qm=!0,!0}});window.addEventListener("test",xu,xu),window.removeEventListener("test",xu,xu)}catch{Qm=!1}var ui=Qm?{passive:!1}:!1,h6=function(t){return t.tagName==="TEXTAREA"},ZC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!h6(t)&&n[e]==="visible")},p6=function(t){return ZC(t,"overflowY")},m6=function(t){return ZC(t,"overflowX")},Ix=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=eI(t,r);if(s){var o=tI(t,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},g6=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},y6=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},eI=function(t,e){return t==="v"?p6(e):m6(e)},tI=function(t,e){return t==="v"?g6(e):y6(e)},v6=function(t,e){return t==="h"&&e==="rtl"?-1:1},w6=function(t,e,n,r,s){var o=v6(t,window.getComputedStyle(e).direction),i=o*r,a=n.target,c=e.contains(a),u=!1,d=i>0,f=0,h=0;do{if(!a)break;var m=tI(t,a),S=m[0],v=m[1],E=m[2],x=v-E-o*S;(S||x)&&eI(t,a)&&(f+=x,h+=S);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},Eu=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Rx=function(t){return[t.deltaX,t.deltaY]},Ax=function(t){return t&&"current"in t?t.current:t},_6=function(t,e){return t[0]===e[0]&&t[1]===e[1]},x6=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},E6=0,di=[];function T6(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(E6++)[0],o=g.useState(JC)[0],i=g.useRef(t);g.useEffect(function(){i.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=W3([t.lockRef.current],(t.shards||[]).map(Ax),!0).filter(Boolean);return v.forEach(function(E){return E.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(E){return E.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(v,E){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!i.current.allowPinchZoom;var x=Eu(v),w=n.current,T="deltaX"in v?v.deltaX:w[0]-x[0],N="deltaY"in v?v.deltaY:w[1]-x[1],O,M=v.target,I=Math.abs(T)>Math.abs(N)?"h":"v";if("touches"in v&&I==="h"&&M.type==="range")return!1;var b=Ix(I,M);if(!b)return!0;if(b?O=I:(O=I==="v"?"h":"v",b=Ix(I,M)),!b)return!1;if(!r.current&&"changedTouches"in v&&(T||N)&&(r.current=O),!O)return!0;var C=r.current||O;return w6(C,E,v,C==="h"?T:N)},[]),c=g.useCallback(function(v){var E=v;if(!(!di.length||di[di.length-1]!==o)){var x="deltaY"in E?Rx(E):Eu(E),w=e.current.filter(function(O){return O.name===E.type&&(O.target===E.target||E.target===O.shadowParent)&&_6(O.delta,x)})[0];if(w&&w.should){E.cancelable&&E.preventDefault();return}if(!w){var T=(i.current.shards||[]).map(Ax).filter(Boolean).filter(function(O){return O.contains(E.target)}),N=T.length>0?a(E,T[0]):!i.current.noIsolation;N&&E.cancelable&&E.preventDefault()}}},[]),u=g.useCallback(function(v,E,x,w){var T={name:v,delta:E,target:x,should:w,shadowParent:S6(x)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(N){return N!==T})},1)},[]),d=g.useCallback(function(v){n.current=Eu(v),r.current=void 0},[]),f=g.useCallback(function(v){u(v.type,Rx(v),v.target,a(v,t.lockRef.current))},[]),h=g.useCallback(function(v){u(v.type,Eu(v),v.target,a(v,t.lockRef.current))},[]);g.useEffect(function(){return di.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,ui),document.addEventListener("touchmove",c,ui),document.addEventListener("touchstart",d,ui),function(){di=di.filter(function(v){return v!==o}),document.removeEventListener("wheel",c,ui),document.removeEventListener("touchmove",c,ui),document.removeEventListener("touchstart",d,ui)}},[]);var m=t.removeScrollBar,S=t.inert;return g.createElement(g.Fragment,null,S?g.createElement(o,{styles:x6(s)}):null,m?g.createElement(f6,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function S6(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const b6=Z3(XC,T6);var uv=g.forwardRef(function(t,e){return g.createElement(Kf,br({},t,{ref:e,sideCar:b6}))});uv.classNames=Kf.classNames;var C6=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fi=new WeakMap,Tu=new WeakMap,Su={},dp=0,nI=function(t){return t&&(t.host||nI(t.parentNode))},I6=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=nI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},R6=function(t,e,n,r){var s=I6(e,Array.isArray(t)?t:[t]);Su[n]||(Su[n]=new WeakMap);var o=Su[n],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(a.has(h))d(h);else try{var m=h.getAttribute(r),S=m!==null&&m!=="false",v=(fi.get(h)||0)+1,E=(o.get(h)||0)+1;fi.set(h,v),o.set(h,E),i.push(h),v===1&&S&&Tu.set(h,!0),E===1&&h.setAttribute(n,"true"),S||h.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",h,x)}})};return d(e),a.clear(),dp++,function(){i.forEach(function(f){var h=fi.get(f)-1,m=o.get(f)-1;fi.set(f,h),o.set(f,m),h||(Tu.has(f)||f.removeAttribute(r),Tu.delete(f)),m||f.removeAttribute(n)}),dp--,dp||(fi=new WeakMap,fi=new WeakMap,Tu=new WeakMap,Su={})}},rI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=C6(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),R6(r,s,n,"aria-hidden")):function(){return null}},Gf="Dialog",[sI,C$]=ei(Gf),[A6,dr]=sI(Gf),oI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=t,a=g.useRef(null),c=g.useRef(null),[u,d]=ql({prop:r,defaultProp:s??!1,onChange:o,caller:Gf});return y.jsx(A6,{scope:e,triggerRef:a,contentRef:c,contentId:ji(),titleId:ji(),descriptionId:ji(),open:u,onOpenChange:d,onOpenToggle:g.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};oI.displayName=Gf;var iI="DialogTrigger",aI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(iI,n),o=Be(e,s.triggerRef);return y.jsx(be.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":hv(s.open),...r,ref:o,onClick:me(t.onClick,s.onOpenToggle)})});aI.displayName=iI;var dv="DialogPortal",[P6,lI]=sI(dv,{forceMount:void 0}),cI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,o=dr(dv,e);return y.jsx(P6,{scope:e,forceMount:n,children:g.Children.map(r,i=>y.jsx(ti,{present:n||o.open,children:y.jsx(vf,{asChild:!0,container:s,children:i})}))})};cI.displayName=dv;var Gd="DialogOverlay",uI=g.forwardRef((t,e)=>{const n=lI(Gd,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=dr(Gd,t.__scopeDialog);return o.modal?y.jsx(ti,{present:r||o.open,children:y.jsx(k6,{...s,ref:e})}):null});uI.displayName=Gd;var N6=la("DialogOverlay.RemoveScroll"),k6=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(Gd,n);return y.jsx(uv,{as:N6,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(be.div,{"data-state":hv(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",dI=g.forwardRef((t,e)=>{const n=lI(qo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,o=dr(qo,t.__scopeDialog);return y.jsx(ti,{present:r||o.open,children:o.modal?y.jsx(D6,{...s,ref:e}):y.jsx(O6,{...s,ref:e})})});dI.displayName=qo;var D6=g.forwardRef((t,e)=>{const n=dr(qo,t.__scopeDialog),r=g.useRef(null),s=Be(e,n.contentRef,r);return g.useEffect(()=>{const o=r.current;if(o)return rI(o)},[]),y.jsx(fI,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:me(t.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:me(t.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:me(t.onFocusOutside,o=>o.preventDefault())})}),O6=g.forwardRef((t,e)=>{const n=dr(qo,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return y.jsx(fI,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=t.onCloseAutoFocus)==null||i.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=t.onInteractOutside)==null||c.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),fI=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=t,a=dr(qo,n),c=g.useRef(null),u=Be(e,c);return GC(),y.jsxs(y.Fragment,{children:[y.jsx(cv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:y.jsx(wc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":hv(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(M6,{titleId:a.titleId}),y.jsx(L6,{contentRef:c,descriptionId:a.descriptionId})]})]})}),fv="DialogTitle",hI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(fv,n);return y.jsx(be.h2,{id:s.titleId,...r,ref:e})});hI.displayName=fv;var pI="DialogDescription",mI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(pI,n);return y.jsx(be.p,{id:s.descriptionId,...r,ref:e})});mI.displayName=pI;var gI="DialogClose",yI=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=dr(gI,n);return y.jsx(be.button,{type:"button",...r,ref:e,onClick:me(t.onClick,()=>s.onOpenChange(!1))})});yI.displayName=gI;function hv(t){return t?"open":"closed"}var vI="DialogTitleWarning",[I$,wI]=zk(vI,{contentName:qo,titleName:fv,docsSlug:"dialog"}),M6=({titleId:t})=>{const e=wI(vI),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},V6="DialogDescriptionWarning",L6=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${wI(V6).contentName}}.`;return g.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},j6=oI,F6=aI,$6=cI,_I=uI,xI=dI,EI=hI,TI=mI,U6=yI;const B6=j6,z6=F6,W6=$6,SI=g.forwardRef(({className:t,...e},n)=>y.jsx(_I,{ref:n,className:De("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));SI.displayName=_I.displayName;const bI=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(W6,{children:[y.jsx(SI,{}),y.jsxs(xI,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,y.jsxs(U6,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[y.jsx(hS,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bI.displayName=xI.displayName;const CI=({className:t,...e})=>y.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});CI.displayName="DialogHeader";const II=g.forwardRef(({className:t,...e},n)=>y.jsx(EI,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));II.displayName=EI.displayName;const RI=g.forwardRef(({className:t,...e},n)=>y.jsx(TI,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));RI.displayName=TI.displayName;function Px(t,[e,n]){return Math.min(n,Math.max(e,t))}var H6=g.createContext(void 0);function q6(t){const e=g.useContext(H6);return t||e||"ltr"}function AI(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var K6=[" ","Enter","ArrowUp","ArrowDown"],G6=[" ","Enter"],Ko="Select",[Qf,Yf,Q6]=VT(Ko),[Aa,R$]=ei(Ko,[Q6,bf]),Xf=bf(),[Y6,ho]=Aa(Ko),[X6,J6]=Aa(Ko),PI=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:m,form:S}=t,v=Xf(e),[E,x]=g.useState(null),[w,T]=g.useState(null),[N,O]=g.useState(!1),M=q6(u),[I,b]=ql({prop:r,defaultProp:s??!1,onChange:o,caller:Ko}),[C,R]=ql({prop:i,defaultProp:a,onChange:c,caller:Ko}),A=g.useRef(null),D=E?S||!!E.closest("form"):!0,[k,$]=g.useState(new Set),ne=Array.from(k).map(Z=>Z.props.value).join(";");return y.jsx(NM,{...v,children:y.jsxs(Y6,{required:m,scope:e,trigger:E,onTriggerChange:x,valueNode:w,onValueNodeChange:T,valueNodeHasChildren:N,onValueNodeHasChildrenChange:O,contentId:ji(),value:C,onValueChange:R,open:I,onOpenChange:b,dir:M,triggerPointerDownPosRef:A,disabled:h,children:[y.jsx(Qf.Provider,{scope:e,children:y.jsx(X6,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(Z=>{$(Y=>new Set(Y).add(Z))},[]),onNativeOptionRemove:g.useCallback(Z=>{$(Y=>{const j=new Set(Y);return j.delete(Z),j})},[]),children:n})}),D?y.jsxs(eR,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:f,value:C,onChange:Z=>R(Z.target.value),disabled:h,form:S,children:[C===void 0?y.jsx("option",{value:""}):null,Array.from(k)]},ne):null]})})};PI.displayName=Ko;var NI="SelectTrigger",kI=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,o=Xf(n),i=ho(NI,n),a=i.disabled||r,c=Be(e,i.onTriggerChange),u=Yf(n),d=g.useRef("touch"),[f,h,m]=nR(v=>{const E=u().filter(T=>!T.disabled),x=E.find(T=>T.value===i.value),w=rR(E,v,x);w!==void 0&&i.onValueChange(w.value)}),S=v=>{a||(i.onOpenChange(!0),m()),v&&(i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return y.jsx(qS,{asChild:!0,...o,children:y.jsx(be.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":tR(i.value)?"":void 0,...s,ref:c,onClick:me(s.onClick,v=>{v.currentTarget.focus(),d.current!=="mouse"&&S(v)}),onPointerDown:me(s.onPointerDown,v=>{d.current=v.pointerType;const E=v.target;E.hasPointerCapture(v.pointerId)&&E.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(S(v),v.preventDefault())}),onKeyDown:me(s.onKeyDown,v=>{const E=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&h(v.key),!(E&&v.key===" ")&&K6.includes(v.key)&&(S(),v.preventDefault())})})})});kI.displayName=NI;var DI="SelectValue",OI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=t,c=ho(DI,n),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=Be(e,c.onValueNodeChange);return Lt(()=>{u(d)},[u,d]),y.jsx(be.span,{...a,ref:f,style:{pointerEvents:"none"},children:tR(c.value)?y.jsx(y.Fragment,{children:i}):o})});OI.displayName=DI;var Z6="SelectIcon",MI=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return y.jsx(be.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});MI.displayName=Z6;var e5="SelectPortal",VI=t=>y.jsx(vf,{asChild:!0,...t});VI.displayName=e5;var Go="SelectContent",LI=g.forwardRef((t,e)=>{const n=ho(Go,t.__scopeSelect),[r,s]=g.useState();if(Lt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?Fn.createPortal(y.jsx(jI,{scope:t.__scopeSelect,children:y.jsx(Qf.Slot,{scope:t.__scopeSelect,children:y.jsx("div",{children:t.children})})}),o):null}return y.jsx(FI,{...t,ref:e})});LI.displayName=Go;var Qn=10,[jI,po]=Aa(Go),t5="SelectContentImpl",n5=la("SelectContent.RemoveScroll"),FI=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:S,hideWhenDetached:v,avoidCollisions:E,...x}=t,w=ho(Go,n),[T,N]=g.useState(null),[O,M]=g.useState(null),I=Be(e,G=>N(G)),[b,C]=g.useState(null),[R,A]=g.useState(null),D=Yf(n),[k,$]=g.useState(!1),ne=g.useRef(!1);g.useEffect(()=>{if(T)return rI(T)},[T]),GC();const Z=g.useCallback(G=>{const[we,...Ie]=D().map(ce=>ce.ref.current),[re]=Ie.slice(-1),de=document.activeElement;for(const ce of G)if(ce===de||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===we&&O&&(O.scrollTop=0),ce===re&&O&&(O.scrollTop=O.scrollHeight),ce==null||ce.focus(),document.activeElement!==de))return},[D,O]),Y=g.useCallback(()=>Z([b,T]),[Z,b,T]);g.useEffect(()=>{k&&Y()},[k,Y]);const{onOpenChange:j,triggerPointerDownPosRef:L}=w;g.useEffect(()=>{if(T){let G={x:0,y:0};const we=re=>{var de,ce;G={x:Math.abs(Math.round(re.pageX)-(((de=L.current)==null?void 0:de.x)??0)),y:Math.abs(Math.round(re.pageY)-(((ce=L.current)==null?void 0:ce.y)??0))}},Ie=re=>{G.x<=10&&G.y<=10?re.preventDefault():T.contains(re.target)||j(!1),document.removeEventListener("pointermove",we),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Ie,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Ie,{capture:!0})}}},[T,j,L]),g.useEffect(()=>{const G=()=>j(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[j]);const[q,se]=nR(G=>{const we=D().filter(de=>!de.disabled),Ie=we.find(de=>de.ref.current===document.activeElement),re=rR(we,G,Ie);re&&setTimeout(()=>re.ref.current.focus())}),K=g.useCallback((G,we,Ie)=>{const re=!ne.current&&!Ie;(w.value!==void 0&&w.value===we||re)&&(C(G),re&&(ne.current=!0))},[w.value]),X=g.useCallback(()=>T==null?void 0:T.focus(),[T]),ae=g.useCallback((G,we,Ie)=>{const re=!ne.current&&!Ie;(w.value!==void 0&&w.value===we||re)&&A(G)},[w.value]),_e=r==="popper"?Ym:$I,xe=_e===Ym?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:m,sticky:S,hideWhenDetached:v,avoidCollisions:E}:{};return y.jsx(jI,{scope:n,content:T,viewport:O,onViewportChange:M,itemRefCallback:K,selectedItem:b,onItemLeave:X,itemTextRefCallback:ae,focusSelectedItem:Y,selectedItemText:R,position:r,isPositioned:k,searchRef:q,children:y.jsx(uv,{as:n5,allowPinchZoom:!0,children:y.jsx(cv,{asChild:!0,trapped:w.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:me(s,G=>{var we;(we=w.trigger)==null||we.focus({preventScroll:!0}),G.preventDefault()}),children:y.jsx(wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:y.jsx(_e,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:G=>G.preventDefault(),...x,...xe,onPlaced:()=>$(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:me(x.onKeyDown,G=>{const we=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!we&&G.key.length===1&&se(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let re=D().filter(de=>!de.disabled).map(de=>de.ref.current);if(["ArrowUp","End"].includes(G.key)&&(re=re.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const de=G.target,ce=re.indexOf(de);re=re.slice(ce+1)}setTimeout(()=>Z(re)),G.preventDefault()}})})})})})})});FI.displayName=t5;var r5="SelectItemAlignedPosition",$I=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,o=ho(Go,n),i=po(Go,n),[a,c]=g.useState(null),[u,d]=g.useState(null),f=Be(e,I=>d(I)),h=Yf(n),m=g.useRef(!1),S=g.useRef(!0),{viewport:v,selectedItem:E,selectedItemText:x,focusSelectedItem:w}=i,T=g.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&v&&E&&x){const I=o.trigger.getBoundingClientRect(),b=u.getBoundingClientRect(),C=o.valueNode.getBoundingClientRect(),R=x.getBoundingClientRect();if(o.dir!=="rtl"){const de=R.left-b.left,ce=C.left-de,$e=I.left-ce,ze=I.width+$e,St=Math.max(ze,b.width),bt=window.innerWidth-Qn,Nn=Px(ce,[Qn,Math.max(Qn,bt-St)]);a.style.minWidth=ze+"px",a.style.left=Nn+"px"}else{const de=b.right-R.right,ce=window.innerWidth-C.right-de,$e=window.innerWidth-I.right-ce,ze=I.width+$e,St=Math.max(ze,b.width),bt=window.innerWidth-Qn,Nn=Px(ce,[Qn,Math.max(Qn,bt-St)]);a.style.minWidth=ze+"px",a.style.right=Nn+"px"}const A=h(),D=window.innerHeight-Qn*2,k=v.scrollHeight,$=window.getComputedStyle(u),ne=parseInt($.borderTopWidth,10),Z=parseInt($.paddingTop,10),Y=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),L=ne+Z+k+j+Y,q=Math.min(E.offsetHeight*5,L),se=window.getComputedStyle(v),K=parseInt(se.paddingTop,10),X=parseInt(se.paddingBottom,10),ae=I.top+I.height/2-Qn,_e=D-ae,xe=E.offsetHeight/2,G=E.offsetTop+xe,we=ne+Z+G,Ie=L-we;if(we<=ae){const de=A.length>0&&E===A[A.length-1].ref.current;a.style.bottom="0px";const ce=u.clientHeight-v.offsetTop-v.offsetHeight,$e=Math.max(_e,xe+(de?X:0)+ce+Y),ze=we+$e;a.style.height=ze+"px"}else{const de=A.length>0&&E===A[0].ref.current;a.style.top="0px";const $e=Math.max(ae,ne+v.offsetTop+(de?K:0)+xe)+Ie;a.style.height=$e+"px",v.scrollTop=we-ae+v.offsetTop}a.style.margin=`${Qn}px 0`,a.style.minHeight=q+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[h,o.trigger,o.valueNode,a,u,v,E,x,o.dir,r]);Lt(()=>T(),[T]);const[N,O]=g.useState();Lt(()=>{u&&O(window.getComputedStyle(u).zIndex)},[u]);const M=g.useCallback(I=>{I&&S.current===!0&&(T(),w==null||w(),S.current=!1)},[T,w]);return y.jsx(o5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:M,children:y.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:N},children:y.jsx(be.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});$I.displayName=r5;var s5="SelectPopperPosition",Ym=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Qn,...o}=t,i=Xf(n);return y.jsx(KS,{...i,...o,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ym.displayName=s5;var[o5,pv]=Aa(Go,{}),Xm="SelectViewport",UI=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,o=po(Xm,n),i=pv(Xm,n),a=Be(e,o.onViewportChange),c=g.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(Qf.Slot,{scope:n,children:y.jsx(be.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:me(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const m=Math.abs(c.current-d.scrollTop);if(m>0){const S=window.innerHeight-Qn*2,v=parseFloat(f.style.minHeight),E=parseFloat(f.style.height),x=Math.max(v,E);if(x<S){const w=x+m,T=Math.min(S,w),N=w-T;f.style.height=T+"px",f.style.bottom==="0px"&&(d.scrollTop=N>0?N:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});UI.displayName=Xm;var BI="SelectGroup",[i5,a5]=Aa(BI),l5=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=ji();return y.jsx(i5,{scope:n,id:s,children:y.jsx(be.div,{role:"group","aria-labelledby":s,...r,ref:e})})});l5.displayName=BI;var zI="SelectLabel",WI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=a5(zI,n);return y.jsx(be.div,{id:s.id,...r,ref:e})});WI.displayName=zI;var Qd="SelectItem",[c5,HI]=Aa(Qd),qI=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=t,a=ho(Qd,n),c=po(Qd,n),u=a.value===r,[d,f]=g.useState(o??""),[h,m]=g.useState(!1),S=Be(e,w=>{var T;return(T=c.itemRefCallback)==null?void 0:T.call(c,w,r,s)}),v=ji(),E=g.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(c5,{scope:n,value:r,disabled:s,textId:v,isSelected:u,onItemTextChange:g.useCallback(w=>{f(T=>T||((w==null?void 0:w.textContent)??"").trim())},[]),children:y.jsx(Qf.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:y.jsx(be.div,{role:"option","aria-labelledby":v,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:S,onFocus:me(i.onFocus,()=>m(!0)),onBlur:me(i.onBlur,()=>m(!1)),onClick:me(i.onClick,()=>{E.current!=="mouse"&&x()}),onPointerUp:me(i.onPointerUp,()=>{E.current==="mouse"&&x()}),onPointerDown:me(i.onPointerDown,w=>{E.current=w.pointerType}),onPointerMove:me(i.onPointerMove,w=>{var T;E.current=w.pointerType,s?(T=c.onItemLeave)==null||T.call(c):E.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:me(i.onPointerLeave,w=>{var T;w.currentTarget===document.activeElement&&((T=c.onItemLeave)==null||T.call(c))}),onKeyDown:me(i.onKeyDown,w=>{var N;((N=c.searchRef)==null?void 0:N.current)!==""&&w.key===" "||(G6.includes(w.key)&&x(),w.key===" "&&w.preventDefault())})})})})});qI.displayName=Qd;var al="SelectItemText",KI=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...o}=t,i=ho(al,n),a=po(al,n),c=HI(al,n),u=J6(al,n),[d,f]=g.useState(null),h=Be(e,x=>f(x),c.onItemTextChange,x=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,x,c.value,c.disabled)}),m=d==null?void 0:d.textContent,S=g.useMemo(()=>y.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:v,onNativeOptionRemove:E}=u;return Lt(()=>(v(S),()=>E(S)),[v,E,S]),y.jsxs(y.Fragment,{children:[y.jsx(be.span,{id:c.textId,...o,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Fn.createPortal(o.children,i.valueNode):null]})});KI.displayName=al;var GI="SelectItemIndicator",QI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return HI(GI,n).isSelected?y.jsx(be.span,{"aria-hidden":!0,...r,ref:e}):null});QI.displayName=GI;var Jm="SelectScrollUpButton",YI=g.forwardRef((t,e)=>{const n=po(Jm,t.__scopeSelect),r=pv(Jm,t.__scopeSelect),[s,o]=g.useState(!1),i=Be(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?y.jsx(JI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});YI.displayName=Jm;var Zm="SelectScrollDownButton",XI=g.forwardRef((t,e)=>{const n=po(Zm,t.__scopeSelect),r=pv(Zm,t.__scopeSelect),[s,o]=g.useState(!1),i=Be(e,r.onScrollButtonChange);return Lt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?y.jsx(JI,{...t,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});XI.displayName=Zm;var JI=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,o=po("SelectScrollButton",n),i=g.useRef(null),a=Yf(n),c=g.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),Lt(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),y.jsx(be.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:me(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:me(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:me(s.onPointerLeave,()=>{c()})})}),u5="SelectSeparator",ZI=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return y.jsx(be.div,{"aria-hidden":!0,...r,ref:e})});ZI.displayName=u5;var eg="SelectArrow",d5=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Xf(n),o=ho(eg,n),i=po(eg,n);return o.open&&i.position==="popper"?y.jsx(GS,{...s,...r,ref:e}):null});d5.displayName=eg;var f5="SelectBubbleInput",eR=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),o=Be(r,s),i=AI(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==e&&d){const f=new Event("change",{bubbles:!0});d.call(a,e),a.dispatchEvent(f)}},[i,e]),y.jsx(be.select,{...n,style:{...UT,...n.style},ref:o,defaultValue:e})});eR.displayName=f5;function tR(t){return t===""||t===void 0}function nR(t){const e=ir(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(i=>{const a=n.current+i;e(a),function c(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),o=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function rR(t,e,n){const s=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let i=h5(t,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function h5(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var p5=PI,sR=kI,m5=OI,g5=MI,y5=VI,oR=LI,v5=UI,iR=WI,aR=qI,w5=KI,_5=QI,lR=YI,cR=XI,uR=ZI;const x5=p5,E5=m5,dR=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(sR,{ref:r,className:De("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,y.jsx(g5,{asChild:!0,children:y.jsx(fS,{className:"h-4 w-4 opacity-50"})})]}));dR.displayName=sR.displayName;const fR=g.forwardRef(({className:t,...e},n)=>y.jsx(lR,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx($2,{className:"h-4 w-4"})}));fR.displayName=lR.displayName;const hR=g.forwardRef(({className:t,...e},n)=>y.jsx(cR,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:y.jsx(fS,{className:"h-4 w-4"})}));hR.displayName=cR.displayName;const pR=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>y.jsx(y5,{children:y.jsxs(oR,{ref:s,className:De("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[y.jsx(fR,{}),y.jsx(v5,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(hR,{})]})}));pR.displayName=oR.displayName;const T5=g.forwardRef(({className:t,...e},n)=>y.jsx(iR,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));T5.displayName=iR.displayName;const Yu=g.forwardRef(({className:t,children:e,...n},r)=>y.jsxs(aR,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[y.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(_5,{children:y.jsx(dS,{className:"h-4 w-4"})})}),y.jsx(w5,{children:e})]}));Yu.displayName=aR.displayName;const S5=g.forwardRef(({className:t,...e},n)=>y.jsx(uR,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));S5.displayName=uR.displayName;var Jf="Checkbox",[b5,A$]=ei(Jf),[C5,mv]=b5(Jf);function I5(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[h,m]=ql({prop:n,defaultProp:s??!1,onChange:c,caller:Jf}),[S,v]=g.useState(null),[E,x]=g.useState(null),w=g.useRef(!1),T=S?!!i||!!S.closest("form"):!0,N={checked:h,disabled:o,setChecked:m,control:S,setControl:v,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:w,required:u,defaultChecked:Ks(s)?!1:s,isFormControl:T,bubbleInput:E,setBubbleInput:x};return y.jsx(C5,{scope:e,...N,children:R5(f)?f(N):r})}var mR="CheckboxTrigger",gR=g.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:h,isFormControl:m,bubbleInput:S}=mv(mR,t),v=Be(s,d),E=g.useRef(c);return g.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const w=()=>f(E.current);return x.addEventListener("reset",w),()=>x.removeEventListener("reset",w)}},[o,f]),y.jsx(be.button,{type:"button",role:"checkbox","aria-checked":Ks(c)?"mixed":c,"aria-required":u,"data-state":xR(c),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:v,onKeyDown:me(e,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:me(n,x=>{f(w=>Ks(w)?!0:!w),S&&m&&(h.current=x.isPropagationStopped(),h.current||x.stopPropagation())})})});gR.displayName=mR;var gv=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:c,onCheckedChange:u,form:d,...f}=t;return y.jsx(I5,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:r,form:d,value:c,internal_do_not_use_render:({isFormControl:h})=>y.jsxs(y.Fragment,{children:[y.jsx(gR,{...f,ref:e,__scopeCheckbox:n}),h&&y.jsx(_R,{__scopeCheckbox:n})]})})});gv.displayName=Jf;var yR="CheckboxIndicator",vR=g.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,o=mv(yR,n);return y.jsx(ti,{present:r||Ks(o.checked)||o.checked===!0,children:y.jsx(be.span,{"data-state":xR(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});vR.displayName=yR;var wR="CheckboxBubbleInput",_R=g.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:c,name:u,value:d,form:f,bubbleInput:h,setBubbleInput:m}=mv(wR,t),S=Be(n,m),v=AI(o),E=VS(r);g.useEffect(()=>{const w=h;if(!w)return;const T=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(T,"checked").set,M=!s.current;if(v!==o&&O){const I=new Event("click",{bubbles:M});w.indeterminate=Ks(o),O.call(w,Ks(o)?!1:o),w.dispatchEvent(I)}},[h,v,o,s]);const x=g.useRef(Ks(o)?!1:o);return y.jsx(be.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:S,style:{...e.style,...E,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});_R.displayName=wR;function R5(t){return typeof t=="function"}function Ks(t){return t==="indeterminate"}function xR(t){return Ks(t)?"indeterminate":t?"checked":"unchecked"}const ER=g.forwardRef(({className:t,...e},n)=>y.jsx(gv,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:y.jsx(vR,{className:De("flex items-center justify-center text-current"),children:y.jsx(dS,{className:"h-4 w-4"})})}));ER.displayName=gv.displayName;function A5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g.useMemo(()=>r=>{e.forEach(s=>s(r))},e)}const Zf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Pa(t){const e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function yv(t){return"nodeType"in t}function yn(t){var e,n;return t?Pa(t)?t:yv(t)&&(e=(n=t.ownerDocument)==null?void 0:n.defaultView)!=null?e:window:window}function vv(t){const{Document:e}=yn(t);return t instanceof e}function Ac(t){return Pa(t)?!1:t instanceof yn(t).HTMLElement}function TR(t){return t instanceof yn(t).SVGElement}function Na(t){return t?Pa(t)?t.document:yv(t)?vv(t)?t:Ac(t)||TR(t)?t.ownerDocument:document:document:document}const Vr=Zf?g.useLayoutEffect:g.useEffect;function wv(t){const e=g.useRef(t);return Vr(()=>{e.current=t}),g.useCallback(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e.current==null?void 0:e.current(...r)},[])}function P5(){const t=g.useRef(null),e=g.useCallback((r,s)=>{t.current=setInterval(r,s)},[]),n=g.useCallback(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function ic(t,e){e===void 0&&(e=[t]);const n=g.useRef(t);return Vr(()=>{n.current!==t&&(n.current=t)},e),n}function Pc(t,e){const n=g.useRef();return g.useMemo(()=>{const r=t(n.current);return n.current=r,r},[...e])}function Yd(t){const e=wv(t),n=g.useRef(null),r=g.useCallback(s=>{s!==n.current&&(e==null||e(s,n.current)),n.current=s},[]);return[n,r]}function tg(t){const e=g.useRef();return g.useEffect(()=>{e.current=t},[t]),e.current}let fp={};function Nc(t,e){return g.useMemo(()=>{if(e)return e;const n=fp[t]==null?0:fp[t]+1;return fp[t]=n,t+"-"+n},[t,e])}function SR(t){return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.reduce((o,i)=>{const a=Object.entries(i);for(const[c,u]of a){const d=o[c];d!=null&&(o[c]=d+t*u)}return o},{...e})}}const qi=SR(1),ac=SR(-1);function N5(t){return"clientX"in t&&"clientY"in t}function _v(t){if(!t)return!1;const{KeyboardEvent:e}=yn(t.target);return e&&t instanceof e}function k5(t){if(!t)return!1;const{TouchEvent:e}=yn(t.target);return e&&t instanceof e}function ng(t){if(k5(t)){if(t.touches&&t.touches.length){const{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){const{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return N5(t)?{x:t.clientX,y:t.clientY}:null}const lc=Object.freeze({Translate:{toString(t){if(!t)return;const{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;const{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[lc.Translate.toString(t),lc.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Nx="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function D5(t){return t.matches(Nx)?t:t.querySelector(Nx)}const O5={display:"none"};function M5(t){let{id:e,value:n}=t;return W.createElement("div",{id:e,style:O5},n)}function V5(t){let{id:e,announcement:n,ariaLiveType:r="assertive"}=t;const s={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:e,style:s,role:"status","aria-live":r,"aria-atomic":!0},n)}function L5(){const[t,e]=g.useState("");return{announce:g.useCallback(r=>{r!=null&&e(r)},[]),announcement:t}}const bR=g.createContext(null);function j5(t){const e=g.useContext(bR);g.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function F5(){const[t]=g.useState(()=>new Set),e=g.useCallback(r=>(t.add(r),()=>t.delete(r)),[t]);return[g.useCallback(r=>{let{type:s,event:o}=r;t.forEach(i=>{var a;return(a=i[s])==null?void 0:a.call(i,o)})},[t]),e]}const $5={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},U5={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was moved over droppable area "+n.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:n}=t;return n?"Draggable item "+e.id+" was dropped over droppable area "+n.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function B5(t){let{announcements:e=U5,container:n,hiddenTextDescribedById:r,screenReaderInstructions:s=$5}=t;const{announce:o,announcement:i}=L5(),a=Nc("DndLiveRegion"),[c,u]=g.useState(!1);if(g.useEffect(()=>{u(!0)},[]),j5(g.useMemo(()=>({onDragStart(f){let{active:h}=f;o(e.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;e.onDragMove&&o(e.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;o(e.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;o(e.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;o(e.onDragCancel({active:h,over:m}))}}),[o,e])),!c)return null;const d=W.createElement(W.Fragment,null,W.createElement(M5,{id:r,value:s.draggable}),W.createElement(V5,{id:a,announcement:i}));return n?Fn.createPortal(d,n):d}var xt;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(xt||(xt={}));function Xd(){}function kx(t,e){return g.useMemo(()=>({sensor:t,options:e??{}}),[t,e])}function z5(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const ur=Object.freeze({x:0,y:0});function CR(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function IR(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return n-r}function W5(t,e){let{data:{value:n}}=t,{data:{value:r}}=e;return r-n}function Dx(t){let{left:e,top:n,height:r,width:s}=t;return[{x:e,y:n},{x:e+s,y:n},{x:e,y:n+r},{x:e+s,y:n+r}]}function RR(t,e){if(!t||t.length===0)return null;const[n]=t;return n[e]}function Ox(t,e,n){return e===void 0&&(e=t.left),n===void 0&&(n=t.top),{x:e+t.width*.5,y:n+t.height*.5}}const Mx=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=Ox(e,e.left,e.top),o=[];for(const i of r){const{id:a}=i,c=n.get(a);if(c){const u=CR(Ox(c),s);o.push({id:a,data:{droppableContainer:i,value:u}})}}return o.sort(IR)},H5=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=Dx(e),o=[];for(const i of r){const{id:a}=i,c=n.get(a);if(c){const u=Dx(c),d=s.reduce((h,m,S)=>h+CR(u[S],m),0),f=Number((d/4).toFixed(4));o.push({id:a,data:{droppableContainer:i,value:f}})}}return o.sort(IR)};function q5(t,e){const n=Math.max(e.top,t.top),r=Math.max(e.left,t.left),s=Math.min(e.left+e.width,t.left+t.width),o=Math.min(e.top+e.height,t.top+t.height),i=s-r,a=o-n;if(r<s&&n<o){const c=e.width*e.height,u=t.width*t.height,d=i*a,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const K5=t=>{let{collisionRect:e,droppableRects:n,droppableContainers:r}=t;const s=[];for(const o of r){const{id:i}=o,a=n.get(i);if(a){const c=q5(a,e);c>0&&s.push({id:i,data:{droppableContainer:o,value:c}})}}return s.sort(W5)};function G5(t,e,n){return{...t,scaleX:e&&n?e.width/n.width:1,scaleY:e&&n?e.height/n.height:1}}function AR(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:ur}function Q5(t){return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),o=1;o<r;o++)s[o-1]=arguments[o];return s.reduce((i,a)=>({...i,top:i.top+t*a.y,bottom:i.bottom+t*a.y,left:i.left+t*a.x,right:i.right+t*a.x}),{...n})}}const Y5=Q5(1);function X5(t){if(t.startsWith("matrix3d(")){const e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){const e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function J5(t,e,n){const r=X5(e);if(!r)return t;const{scaleX:s,scaleY:o,x:i,y:a}=r,c=t.left-i-(1-s)*parseFloat(n),u=t.top-a-(1-o)*parseFloat(n.slice(n.indexOf(" ")+1)),d=s?t.width/s:t.width,f=o?t.height/o:t.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const Z5={ignoreTransform:!1};function ka(t,e){e===void 0&&(e=Z5);let n=t.getBoundingClientRect();if(e.ignoreTransform){const{transform:u,transformOrigin:d}=yn(t).getComputedStyle(t);u&&(n=J5(n,u,d))}const{top:r,left:s,width:o,height:i,bottom:a,right:c}=n;return{top:r,left:s,width:o,height:i,bottom:a,right:c}}function Vx(t){return ka(t,{ignoreTransform:!0})}function e9(t){const e=t.innerWidth,n=t.innerHeight;return{top:0,left:0,right:e,bottom:n,width:e,height:n}}function t9(t,e){return e===void 0&&(e=yn(t).getComputedStyle(t)),e.position==="fixed"}function n9(t,e){e===void 0&&(e=yn(t).getComputedStyle(t));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(s=>{const o=e[s];return typeof o=="string"?n.test(o):!1})}function eh(t,e){const n=[];function r(s){if(e!=null&&n.length>=e||!s)return n;if(vv(s)&&s.scrollingElement!=null&&!n.includes(s.scrollingElement))return n.push(s.scrollingElement),n;if(!Ac(s)||TR(s)||n.includes(s))return n;const o=yn(t).getComputedStyle(s);return s!==t&&n9(s,o)&&n.push(s),t9(s,o)?n:r(s.parentNode)}return t?r(t):n}function PR(t){const[e]=eh(t,1);return e??null}function hp(t){return!Zf||!t?null:Pa(t)?t:yv(t)?vv(t)||t===Na(t).scrollingElement?window:Ac(t)?t:null:null}function NR(t){return Pa(t)?t.scrollX:t.scrollLeft}function kR(t){return Pa(t)?t.scrollY:t.scrollTop}function rg(t){return{x:NR(t),y:kR(t)}}var At;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(At||(At={}));function DR(t){return!Zf||!t?!1:t===document.scrollingElement}function OR(t){const e={x:0,y:0},n=DR(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},r={x:t.scrollWidth-n.width,y:t.scrollHeight-n.height},s=t.scrollTop<=e.y,o=t.scrollLeft<=e.x,i=t.scrollTop>=r.y,a=t.scrollLeft>=r.x;return{isTop:s,isLeft:o,isBottom:i,isRight:a,maxScroll:r,minScroll:e}}const r9={x:.2,y:.2};function s9(t,e,n,r,s){let{top:o,left:i,right:a,bottom:c}=n;r===void 0&&(r=10),s===void 0&&(s=r9);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=OR(t),m={x:0,y:0},S={x:0,y:0},v={height:e.height*s.y,width:e.width*s.x};return!u&&o<=e.top+v.height?(m.y=At.Backward,S.y=r*Math.abs((e.top+v.height-o)/v.height)):!d&&c>=e.bottom-v.height&&(m.y=At.Forward,S.y=r*Math.abs((e.bottom-v.height-c)/v.height)),!h&&a>=e.right-v.width?(m.x=At.Forward,S.x=r*Math.abs((e.right-v.width-a)/v.width)):!f&&i<=e.left+v.width&&(m.x=At.Backward,S.x=r*Math.abs((e.left+v.width-i)/v.width)),{direction:m,speed:S}}function o9(t){if(t===document.scrollingElement){const{innerWidth:o,innerHeight:i}=window;return{top:0,left:0,right:o,bottom:i,width:o,height:i}}const{top:e,left:n,right:r,bottom:s}=t.getBoundingClientRect();return{top:e,left:n,right:r,bottom:s,width:t.clientWidth,height:t.clientHeight}}function MR(t){return t.reduce((e,n)=>qi(e,rg(n)),ur)}function i9(t){return t.reduce((e,n)=>e+NR(n),0)}function a9(t){return t.reduce((e,n)=>e+kR(n),0)}function l9(t,e){if(e===void 0&&(e=ka),!t)return;const{top:n,left:r,bottom:s,right:o}=e(t);PR(t)&&(s<=0||o<=0||n>=window.innerHeight||r>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}const c9=[["x",["left","right"],i9],["y",["top","bottom"],a9]];class xv{constructor(e,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=eh(n),s=MR(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[o,i,a]of c9)for(const c of i)Object.defineProperty(this,c,{get:()=>{const u=a(r),d=s[o]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Tl{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...n)})},this.target=e}add(e,n,r){var s;(s=this.target)==null||s.addEventListener(e,n,r),this.listeners.push([e,n,r])}}function u9(t){const{EventTarget:e}=yn(t);return t instanceof e?t:Na(t)}function pp(t,e){const n=Math.abs(t.x),r=Math.abs(t.y);return typeof e=="number"?Math.sqrt(n**2+r**2)>e:"x"in e&&"y"in e?n>e.x&&r>e.y:"x"in e?n>e.x:"y"in e?r>e.y:!1}var On;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(On||(On={}));function Lx(t){t.preventDefault()}function d9(t){t.stopPropagation()}var Ce;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(Ce||(Ce={}));const VR={start:[Ce.Space,Ce.Enter],cancel:[Ce.Esc],end:[Ce.Space,Ce.Enter,Ce.Tab]},f9=(t,e)=>{let{currentCoordinates:n}=e;switch(t.code){case Ce.Right:return{...n,x:n.x+25};case Ce.Left:return{...n,x:n.x-25};case Ce.Down:return{...n,y:n.y+25};case Ce.Up:return{...n,y:n.y-25}}};class Ev{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:n}}=e;this.props=e,this.listeners=new Tl(Na(n)),this.windowListeners=new Tl(yn(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(On.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:n}=this.props,r=e.node.current;r&&l9(r),n(ur)}handleKeyDown(e){if(_v(e)){const{active:n,context:r,options:s}=this.props,{keyboardCodes:o=VR,coordinateGetter:i=f9,scrollBehavior:a="smooth"}=s,{code:c}=e;if(o.end.includes(c)){this.handleEnd(e);return}if(o.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:u}=r.current,d=u?{x:u.left,y:u.top}:ur;this.referenceCoordinates||(this.referenceCoordinates=d);const f=i(e,{active:n,context:r.current,currentCoordinates:d});if(f){const h=ac(f,d),m={x:0,y:0},{scrollableAncestors:S}=r.current;for(const v of S){const E=e.code,{isTop:x,isRight:w,isLeft:T,isBottom:N,maxScroll:O,minScroll:M}=OR(v),I=o9(v),b={x:Math.min(E===Ce.Right?I.right-I.width/2:I.right,Math.max(E===Ce.Right?I.left:I.left+I.width/2,f.x)),y:Math.min(E===Ce.Down?I.bottom-I.height/2:I.bottom,Math.max(E===Ce.Down?I.top:I.top+I.height/2,f.y))},C=E===Ce.Right&&!w||E===Ce.Left&&!T,R=E===Ce.Down&&!N||E===Ce.Up&&!x;if(C&&b.x!==f.x){const A=v.scrollLeft+h.x,D=E===Ce.Right&&A<=O.x||E===Ce.Left&&A>=M.x;if(D&&!h.y){v.scrollTo({left:A,behavior:a});return}D?m.x=v.scrollLeft-A:m.x=E===Ce.Right?v.scrollLeft-O.x:v.scrollLeft-M.x,m.x&&v.scrollBy({left:-m.x,behavior:a});break}else if(R&&b.y!==f.y){const A=v.scrollTop+h.y,D=E===Ce.Down&&A<=O.y||E===Ce.Up&&A>=M.y;if(D&&!h.x){v.scrollTo({top:A,behavior:a});return}D?m.y=v.scrollTop-A:m.y=E===Ce.Down?v.scrollTop-O.y:v.scrollTop-M.y,m.y&&v.scrollBy({top:-m.y,behavior:a});break}}this.handleMove(e,qi(ac(f,this.referenceCoordinates),m))}}}handleMove(e,n){const{onMove:r}=this.props;e.preventDefault(),r(n)}handleEnd(e){const{onEnd:n}=this.props;e.preventDefault(),this.detach(),n()}handleCancel(e){const{onCancel:n}=this.props;e.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}Ev.activators=[{eventName:"onKeyDown",handler:(t,e,n)=>{let{keyboardCodes:r=VR,onActivation:s}=e,{active:o}=n;const{code:i}=t.nativeEvent;if(r.start.includes(i)){const a=o.activatorNode.current;return a&&t.target!==a?!1:(t.preventDefault(),s==null||s({event:t.nativeEvent}),!0)}return!1}}];function jx(t){return!!(t&&"distance"in t)}function Fx(t){return!!(t&&"delay"in t)}class Tv{constructor(e,n,r){var s;r===void 0&&(r=u9(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=n;const{event:o}=e,{target:i}=o;this.props=e,this.events=n,this.document=Na(i),this.documentListeners=new Tl(this.document),this.listeners=new Tl(r),this.windowListeners=new Tl(yn(i)),this.initialCoordinates=(s=ng(o))!=null?s:ur,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:n,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(On.Resize,this.handleCancel),this.windowListeners.add(On.DragStart,Lx),this.windowListeners.add(On.VisibilityChange,this.handleCancel),this.windowListeners.add(On.ContextMenu,Lx),this.documentListeners.add(On.Keydown,this.handleKeydown),n){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Fx(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(jx(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,n){const{active:r,onPending:s}=this.props;s(r,e,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:e}=this,{onStart:n}=this.props;e&&(this.activated=!0,this.documentListeners.add(On.Click,d9,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(On.SelectionChange,this.removeTextSelection),n(e))}handleMove(e){var n;const{activated:r,initialCoordinates:s,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!s)return;const c=(n=ng(e))!=null?n:ur,u=ac(s,c);if(!r&&a){if(jx(a)){if(a.tolerance!=null&&pp(u,a.tolerance))return this.handleCancel();if(pp(u,a.distance))return this.handleStart()}if(Fx(a)&&pp(u,a.tolerance))return this.handleCancel();this.handlePending(a,u);return}e.cancelable&&e.preventDefault(),i(c)}handleEnd(){const{onAbort:e,onEnd:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleCancel(){const{onAbort:e,onCancel:n}=this.props;this.detach(),this.activated||e(this.props.active),n()}handleKeydown(e){e.code===Ce.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const h9={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Sv extends Tv{constructor(e){const{event:n}=e,r=Na(n.target);super(e,h9,r)}}Sv.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return!n.isPrimary||n.button!==0?!1:(r==null||r({event:n}),!0)}}];const p9={move:{name:"mousemove"},end:{name:"mouseup"}};var sg;(function(t){t[t.RightClick=2]="RightClick"})(sg||(sg={}));class m9 extends Tv{constructor(e){super(e,p9,Na(e.event.target))}}m9.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;return n.button===sg.RightClick?!1:(r==null||r({event:n}),!0)}}];const mp={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class g9 extends Tv{constructor(e){super(e,mp)}static setup(){return window.addEventListener(mp.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(mp.move.name,e)};function e(){}}}g9.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:n}=t,{onActivation:r}=e;const{touches:s}=n;return s.length>1?!1:(r==null||r({event:n}),!0)}}];var Sl;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(Sl||(Sl={}));var Jd;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Jd||(Jd={}));function y9(t){let{acceleration:e,activator:n=Sl.Pointer,canScroll:r,draggingRect:s,enabled:o,interval:i=5,order:a=Jd.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=t;const m=w9({delta:f,disabled:!o}),[S,v]=P5(),E=g.useRef({x:0,y:0}),x=g.useRef({x:0,y:0}),w=g.useMemo(()=>{switch(n){case Sl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Sl.DraggableRect:return s}},[n,s,c]),T=g.useRef(null),N=g.useCallback(()=>{const M=T.current;if(!M)return;const I=E.current.x*x.current.x,b=E.current.y*x.current.y;M.scrollBy(I,b)},[]),O=g.useMemo(()=>a===Jd.TreeOrder?[...u].reverse():u,[a,u]);g.useEffect(()=>{if(!o||!u.length||!w){v();return}for(const M of O){if((r==null?void 0:r(M))===!1)continue;const I=u.indexOf(M),b=d[I];if(!b)continue;const{direction:C,speed:R}=s9(M,b,w,e,h);for(const A of["x","y"])m[A][C[A]]||(R[A]=0,C[A]=0);if(R.x>0||R.y>0){v(),T.current=M,S(N,i),E.current=R,x.current=C;return}}E.current={x:0,y:0},x.current={x:0,y:0},v()},[e,N,r,v,o,i,JSON.stringify(w),JSON.stringify(m),S,u,O,d,JSON.stringify(h)])}const v9={x:{[At.Backward]:!1,[At.Forward]:!1},y:{[At.Backward]:!1,[At.Forward]:!1}};function w9(t){let{delta:e,disabled:n}=t;const r=tg(e);return Pc(s=>{if(n||!r||!s)return v9;const o={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[At.Backward]:s.x[At.Backward]||o.x===-1,[At.Forward]:s.x[At.Forward]||o.x===1},y:{[At.Backward]:s.y[At.Backward]||o.y===-1,[At.Forward]:s.y[At.Forward]||o.y===1}}},[n,e,r])}function _9(t,e){const n=e!=null?t.get(e):void 0,r=n?n.node.current:null;return Pc(s=>{var o;return e==null?null:(o=r??s)!=null?o:null},[r,e])}function x9(t,e){return g.useMemo(()=>t.reduce((n,r)=>{const{sensor:s}=r,o=s.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,r)}));return[...n,...o]},[]),[t,e])}var cc;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(cc||(cc={}));var og;(function(t){t.Optimized="optimized"})(og||(og={}));const $x=new Map;function E9(t,e){let{dragging:n,dependencies:r,config:s}=e;const[o,i]=g.useState(null),{frequency:a,measure:c,strategy:u}=s,d=g.useRef(t),f=E(),h=ic(f),m=g.useCallback(function(x){x===void 0&&(x=[]),!h.current&&i(w=>w===null?x:w.concat(x.filter(T=>!w.includes(T))))},[h]),S=g.useRef(null),v=Pc(x=>{if(f&&!n)return $x;if(!x||x===$x||d.current!==t||o!=null){const w=new Map;for(let T of t){if(!T)continue;if(o&&o.length>0&&!o.includes(T.id)&&T.rect.current){w.set(T.id,T.rect.current);continue}const N=T.node.current,O=N?new xv(c(N),N):null;T.rect.current=O,O&&w.set(T.id,O)}return w}return x},[t,o,n,f,c]);return g.useEffect(()=>{d.current=t},[t]),g.useEffect(()=>{f||m()},[n,f]),g.useEffect(()=>{o&&o.length>0&&i(null)},[JSON.stringify(o)]),g.useEffect(()=>{f||typeof a!="number"||S.current!==null||(S.current=setTimeout(()=>{m(),S.current=null},a))},[a,f,m,...r]),{droppableRects:v,measureDroppableContainers:m,measuringScheduled:o!=null};function E(){switch(u){case cc.Always:return!1;case cc.BeforeDragging:return n;default:return!n}}}function LR(t,e){return Pc(n=>t?n||(typeof e=="function"?e(t):t):null,[e,t])}function T9(t,e){return LR(t,e)}function S9(t){let{callback:e,disabled:n}=t;const r=wv(e),s=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:o}=window;return new o(r)},[r,n]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function th(t){let{callback:e,disabled:n}=t;const r=wv(e),s=g.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:o}=window;return new o(r)},[n]);return g.useEffect(()=>()=>s==null?void 0:s.disconnect(),[s]),s}function b9(t){return new xv(ka(t),t)}function Ux(t,e,n){e===void 0&&(e=b9);const[r,s]=g.useState(null);function o(){s(c=>{if(!t)return null;if(t.isConnected===!1){var u;return(u=c??n)!=null?u:null}const d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const i=S9({callback(c){if(t)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(t)){o();break}}}}),a=th({callback:o});return Vr(()=>{o(),t?(a==null||a.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(a==null||a.disconnect(),i==null||i.disconnect())},[t]),r}function C9(t){const e=LR(t);return AR(t,e)}const Bx=[];function I9(t){const e=g.useRef(t),n=Pc(r=>t?r&&r!==Bx&&t&&e.current&&t.parentNode===e.current.parentNode?r:eh(t):Bx,[t]);return g.useEffect(()=>{e.current=t},[t]),n}function R9(t){const[e,n]=g.useState(null),r=g.useRef(t),s=g.useCallback(o=>{const i=hp(o.target);i&&n(a=>a?(a.set(i,rg(i)),new Map(a)):null)},[]);return g.useEffect(()=>{const o=r.current;if(t!==o){i(o);const a=t.map(c=>{const u=hp(c);return u?(u.addEventListener("scroll",s,{passive:!0}),[u,rg(u)]):null}).filter(c=>c!=null);n(a.length?new Map(a):null),r.current=t}return()=>{i(t),i(o)};function i(a){a.forEach(c=>{const u=hp(c);u==null||u.removeEventListener("scroll",s)})}},[s,t]),g.useMemo(()=>t.length?e?Array.from(e.values()).reduce((o,i)=>qi(o,i),ur):MR(t):ur,[t,e])}function zx(t,e){e===void 0&&(e=[]);const n=g.useRef(null);return g.useEffect(()=>{n.current=null},e),g.useEffect(()=>{const r=t!==ur;r&&!n.current&&(n.current=t),!r&&n.current&&(n.current=null)},[t]),n.current?ac(t,n.current):ur}function A9(t){g.useEffect(()=>{if(!Zf)return;const e=t.map(n=>{let{sensor:r}=n;return r.setup==null?void 0:r.setup()});return()=>{for(const n of e)n==null||n()}},t.map(e=>{let{sensor:n}=e;return n}))}function P9(t,e){return g.useMemo(()=>t.reduce((n,r)=>{let{eventName:s,handler:o}=r;return n[s]=i=>{o(i,e)},n},{}),[t,e])}function jR(t){return g.useMemo(()=>t?e9(t):null,[t])}const Wx=[];function N9(t,e){e===void 0&&(e=ka);const[n]=t,r=jR(n?yn(n):null),[s,o]=g.useState(Wx);function i(){o(()=>t.length?t.map(c=>DR(c)?r:new xv(e(c),c)):Wx)}const a=th({callback:i});return Vr(()=>{a==null||a.disconnect(),i(),t.forEach(c=>a==null?void 0:a.observe(c))},[t]),s}function k9(t){if(!t)return null;if(t.children.length>1)return t;const e=t.children[0];return Ac(e)?e:t}function D9(t){let{measure:e}=t;const[n,r]=g.useState(null),s=g.useCallback(u=>{for(const{target:d}of u)if(Ac(d)){r(f=>{const h=e(d);return f?{...f,width:h.width,height:h.height}:h});break}},[e]),o=th({callback:s}),i=g.useCallback(u=>{const d=k9(u);o==null||o.disconnect(),d&&(o==null||o.observe(d)),r(d?e(d):null)},[e,o]),[a,c]=Yd(i);return g.useMemo(()=>({nodeRef:a,rect:n,setRef:c}),[n,a,c])}const O9=[{sensor:Sv,options:{}},{sensor:Ev,options:{}}],M9={current:{}},Xu={draggable:{measure:Vx},droppable:{measure:Vx,strategy:cc.WhileDragging,frequency:og.Optimized},dragOverlay:{measure:ka}};class bl extends Map{get(e){var n;return e!=null&&(n=super.get(e))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:n}=e;return!n})}getNodeFor(e){var n,r;return(n=(r=this.get(e))==null?void 0:r.node.current)!=null?n:void 0}}const V9={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new bl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xd},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Xu,measureDroppableContainers:Xd,windowRect:null,measuringScheduled:!1},L9={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xd,draggableNodes:new Map,over:null,measureDroppableContainers:Xd},nh=g.createContext(L9),FR=g.createContext(V9);function j9(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new bl}}}function F9(t,e){switch(e.type){case xt.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case xt.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case xt.DragEnd:case xt.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case xt.RegisterDroppable:{const{element:n}=e,{id:r}=n,s=new bl(t.droppable.containers);return s.set(r,n),{...t,droppable:{...t.droppable,containers:s}}}case xt.SetDroppableDisabled:{const{id:n,key:r,disabled:s}=e,o=t.droppable.containers.get(n);if(!o||r!==o.key)return t;const i=new bl(t.droppable.containers);return i.set(n,{...o,disabled:s}),{...t,droppable:{...t.droppable,containers:i}}}case xt.UnregisterDroppable:{const{id:n,key:r}=e,s=t.droppable.containers.get(n);if(!s||r!==s.key)return t;const o=new bl(t.droppable.containers);return o.delete(n),{...t,droppable:{...t.droppable,containers:o}}}default:return t}}function $9(t){let{disabled:e}=t;const{active:n,activatorEvent:r,draggableNodes:s}=g.useContext(nh),o=tg(r),i=tg(n==null?void 0:n.id);return g.useEffect(()=>{if(!e&&!r&&o&&i!=null){if(!_v(o)||document.activeElement===o.target)return;const a=s.get(i);if(!a)return;const{activatorNode:c,node:u}=a;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=D5(d);if(f){f.focus();break}}})}},[r,e,s,i,o]),null}function U9(t,e){let{transform:n,...r}=e;return t!=null&&t.length?t.reduce((s,o)=>o({transform:s,...r}),n):n}function B9(t){return g.useMemo(()=>({draggable:{...Xu.draggable,...t==null?void 0:t.draggable},droppable:{...Xu.droppable,...t==null?void 0:t.droppable},dragOverlay:{...Xu.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function z9(t){let{activeNode:e,measure:n,initialRect:r,config:s=!0}=t;const o=g.useRef(!1),{x:i,y:a}=typeof s=="boolean"?{x:s,y:s}:s;Vr(()=>{if(!i&&!a||!e){o.current=!1;return}if(o.current||!r)return;const u=e==null?void 0:e.node.current;if(!u||u.isConnected===!1)return;const d=n(u),f=AR(d,r);if(i||(f.x=0),a||(f.y=0),o.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=PR(u);h&&h.scrollBy({top:f.y,left:f.x})}},[e,i,a,r,n])}const $R=g.createContext({...ur,scaleX:1,scaleY:1});var _s;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(_s||(_s={}));const Hx=g.memo(function(e){var n,r,s,o;let{id:i,accessibility:a,autoScroll:c=!0,children:u,sensors:d=O9,collisionDetection:f=K5,measuring:h,modifiers:m,...S}=e;const v=g.useReducer(F9,void 0,j9),[E,x]=v,[w,T]=F5(),[N,O]=g.useState(_s.Uninitialized),M=N===_s.Initialized,{draggable:{active:I,nodes:b,translate:C},droppable:{containers:R}}=E,A=I!=null?b.get(I):null,D=g.useRef({initial:null,translated:null}),k=g.useMemo(()=>{var Je;return I!=null?{id:I,data:(Je=A==null?void 0:A.data)!=null?Je:M9,rect:D}:null},[I,A]),$=g.useRef(null),[ne,Z]=g.useState(null),[Y,j]=g.useState(null),L=ic(S,Object.values(S)),q=Nc("DndDescribedBy",i),se=g.useMemo(()=>R.getEnabled(),[R]),K=B9(h),{droppableRects:X,measureDroppableContainers:ae,measuringScheduled:_e}=E9(se,{dragging:M,dependencies:[C.x,C.y],config:K.droppable}),xe=_9(b,I),G=g.useMemo(()=>Y?ng(Y):null,[Y]),we=Fr(),Ie=T9(xe,K.draggable.measure);z9({activeNode:I!=null?b.get(I):null,config:we.layoutShiftCompensation,initialRect:Ie,measure:K.draggable.measure});const re=Ux(xe,K.draggable.measure,Ie),de=Ux(xe?xe.parentElement:null),ce=g.useRef({activatorEvent:null,active:null,activeNode:xe,collisionRect:null,collisions:null,droppableRects:X,draggableNodes:b,draggingNode:null,draggingNodeRect:null,droppableContainers:R,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),$e=R.getNodeFor((n=ce.current.over)==null?void 0:n.id),ze=D9({measure:K.dragOverlay.measure}),St=(r=ze.nodeRef.current)!=null?r:xe,bt=M?(s=ze.rect)!=null?s:re:null,Nn=!!(ze.nodeRef.current&&ze.rect),fr=C9(Nn?null:re),vn=jR(St?yn(St):null),Xt=I9(M?$e??xe:null),wn=N9(Xt),jr=U9(m,{transform:{x:C.x-fr.x,y:C.y-fr.y,scaleX:1,scaleY:1},activatorEvent:Y,active:k,activeNodeRect:re,containerNodeRect:de,draggingNodeRect:bt,over:ce.current.over,overlayNodeRect:ze.rect,scrollableAncestors:Xt,scrollableAncestorRects:wn,windowRect:vn}),an=G?qi(G,C):null,as=R9(Xt),si=zx(as),Oe=zx(as,[re]),Ve=qi(jr,si),_n=bt?Y5(bt,jr):null,hr=k&&_n?f({active:k,collisionRect:_n,droppableRects:X,droppableContainers:se,pointerCoordinates:an}):null,pr=RR(hr,"id"),[kn,zn]=g.useState(null),ls=Nn?jr:qi(jr,Oe),Wn=G5(ls,(o=kn==null?void 0:kn.rect)!=null?o:null,re),mr=g.useRef(null),Hn=g.useCallback((Je,We)=>{let{sensor:nt,options:oe}=We;if($.current==null)return;const ue=b.get($.current);if(!ue)return;const ye=Je.nativeEvent,je=new nt({active:$.current,activeNode:ue,event:ye,options:oe,context:ce,onAbort(ge){if(!b.get(ge))return;const{onDragAbort:Fe}=L.current,Ze={id:ge};Fe==null||Fe(Ze),w({type:"onDragAbort",event:Ze})},onPending(ge,wt,Fe,Ze){if(!b.get(ge))return;const{onDragPending:vo}=L.current,Jt={id:ge,constraint:wt,initialCoordinates:Fe,offset:Ze};vo==null||vo(Jt),w({type:"onDragPending",event:Jt})},onStart(ge){const wt=$.current;if(wt==null)return;const Fe=b.get(wt);if(!Fe)return;const{onDragStart:Ze}=L.current,yo={activatorEvent:ye,active:{id:wt,data:Fe.data,rect:D}};Fn.unstable_batchedUpdates(()=>{Ze==null||Ze(yo),O(_s.Initializing),x({type:xt.DragStart,initialCoordinates:ge,active:wt}),w({type:"onDragStart",event:yo}),Z(mr.current),j(ye)})},onMove(ge){x({type:xt.DragMove,coordinates:ge})},onEnd:ut(xt.DragEnd),onCancel:ut(xt.DragCancel)});mr.current=je;function ut(ge){return async function(){const{active:Fe,collisions:Ze,over:yo,scrollAdjustedTranslate:vo}=ce.current;let Jt=null;if(Fe&&vo){const{cancelDrop:wo}=L.current;Jt={activatorEvent:ye,active:Fe,collisions:Ze,delta:vo,over:yo},ge===xt.DragEnd&&typeof wo=="function"&&await Promise.resolve(wo(Jt))&&(ge=xt.DragCancel)}$.current=null,Fn.unstable_batchedUpdates(()=>{x({type:ge}),O(_s.Uninitialized),zn(null),Z(null),j(null),mr.current=null;const wo=ge===xt.DragEnd?"onDragEnd":"onDragCancel";if(Jt){const Oa=L.current[wo];Oa==null||Oa(Jt),w({type:wo,event:Jt})}})}}},[b]),Da=g.useCallback((Je,We)=>(nt,oe)=>{const ue=nt.nativeEvent,ye=b.get(oe);if($.current!==null||!ye||ue.dndKit||ue.defaultPrevented)return;const je={active:ye};Je(nt,We.options,je)===!0&&(ue.dndKit={capturedBy:We.sensor},$.current=oe,Hn(nt,We))},[b,Hn]),cs=x9(d,Da);A9(d),Vr(()=>{re&&N===_s.Initializing&&O(_s.Initialized)},[re,N]),g.useEffect(()=>{const{onDragMove:Je}=L.current,{active:We,activatorEvent:nt,collisions:oe,over:ue}=ce.current;if(!We||!nt)return;const ye={active:We,activatorEvent:nt,collisions:oe,delta:{x:Ve.x,y:Ve.y},over:ue};Fn.unstable_batchedUpdates(()=>{Je==null||Je(ye),w({type:"onDragMove",event:ye})})},[Ve.x,Ve.y]),g.useEffect(()=>{const{active:Je,activatorEvent:We,collisions:nt,droppableContainers:oe,scrollAdjustedTranslate:ue}=ce.current;if(!Je||$.current==null||!We||!ue)return;const{onDragOver:ye}=L.current,je=oe.get(pr),ut=je&&je.rect.current?{id:je.id,rect:je.rect.current,data:je.data,disabled:je.disabled}:null,ge={active:Je,activatorEvent:We,collisions:nt,delta:{x:ue.x,y:ue.y},over:ut};Fn.unstable_batchedUpdates(()=>{zn(ut),ye==null||ye(ge),w({type:"onDragOver",event:ge})})},[pr]),Vr(()=>{ce.current={activatorEvent:Y,active:k,activeNode:xe,collisionRect:_n,collisions:hr,droppableRects:X,draggableNodes:b,draggingNode:St,draggingNodeRect:bt,droppableContainers:R,over:kn,scrollableAncestors:Xt,scrollAdjustedTranslate:Ve},D.current={initial:bt,translated:_n}},[k,xe,hr,_n,b,St,bt,X,R,kn,Xt,Ve]),y9({...we,delta:C,draggingRect:_n,pointerCoordinates:an,scrollableAncestors:Xt,scrollableAncestorRects:wn});const mo=g.useMemo(()=>({active:k,activeNode:xe,activeNodeRect:re,activatorEvent:Y,collisions:hr,containerNodeRect:de,dragOverlay:ze,draggableNodes:b,droppableContainers:R,droppableRects:X,over:kn,measureDroppableContainers:ae,scrollableAncestors:Xt,scrollableAncestorRects:wn,measuringConfiguration:K,measuringScheduled:_e,windowRect:vn}),[k,xe,re,Y,hr,de,ze,b,R,X,kn,ae,Xt,wn,K,_e,vn]),go=g.useMemo(()=>({activatorEvent:Y,activators:cs,active:k,activeNodeRect:re,ariaDescribedById:{draggable:q},dispatch:x,draggableNodes:b,over:kn,measureDroppableContainers:ae}),[Y,cs,k,re,x,q,b,kn,ae]);return W.createElement(bR.Provider,{value:T},W.createElement(nh.Provider,{value:go},W.createElement(FR.Provider,{value:mo},W.createElement($R.Provider,{value:Wn},u)),W.createElement($9,{disabled:(a==null?void 0:a.restoreFocus)===!1})),W.createElement(B5,{...a,hiddenTextDescribedById:q}));function Fr(){const Je=(ne==null?void 0:ne.autoScrollEnabled)===!1,We=typeof c=="object"?c.enabled===!1:c===!1,nt=M&&!Je&&!We;return typeof c=="object"?{...c,enabled:nt}:{enabled:nt}}}),W9=g.createContext(null),qx="button",H9="Draggable";function q9(t){let{id:e,data:n,disabled:r=!1,attributes:s}=t;const o=Nc(H9),{activators:i,activatorEvent:a,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=g.useContext(nh),{role:m=qx,roleDescription:S="draggable",tabIndex:v=0}=s??{},E=(c==null?void 0:c.id)===e,x=g.useContext(E?$R:W9),[w,T]=Yd(),[N,O]=Yd(),M=P9(i,e),I=ic(n);Vr(()=>(f.set(e,{id:e,key:o,node:w,activatorNode:N,data:I}),()=>{const C=f.get(e);C&&C.key===o&&f.delete(e)}),[f,e]);const b=g.useMemo(()=>({role:m,tabIndex:v,"aria-disabled":r,"aria-pressed":E&&m===qx?!0:void 0,"aria-roledescription":S,"aria-describedby":d.draggable}),[r,m,v,E,S,d.draggable]);return{active:c,activatorEvent:a,activeNodeRect:u,attributes:b,isDragging:E,listeners:r?void 0:M,node:w,over:h,setNodeRef:T,setActivatorNodeRef:O,transform:x}}function K9(){return g.useContext(FR)}const G9="Droppable",Q9={timeout:25};function Y9(t){let{data:e,disabled:n=!1,id:r,resizeObserverConfig:s}=t;const o=Nc(G9),{active:i,dispatch:a,over:c,measureDroppableContainers:u}=g.useContext(nh),d=g.useRef({disabled:n}),f=g.useRef(!1),h=g.useRef(null),m=g.useRef(null),{disabled:S,updateMeasurementsFor:v,timeout:E}={...Q9,...s},x=ic(v??r),w=g.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(x.current)?x.current:[x.current]),m.current=null},E)},[E]),T=th({callback:w,disabled:S||!i}),N=g.useCallback((b,C)=>{T&&(C&&(T.unobserve(C),f.current=!1),b&&T.observe(b))},[T]),[O,M]=Yd(N),I=ic(e);return g.useEffect(()=>{!T||!O.current||(T.disconnect(),f.current=!1,T.observe(O.current))},[O,T]),g.useEffect(()=>(a({type:xt.RegisterDroppable,element:{id:r,key:o,disabled:n,node:O,rect:h,data:I}}),()=>a({type:xt.UnregisterDroppable,key:o,id:r})),[r]),g.useEffect(()=>{n!==d.current.disabled&&(a({type:xt.SetDroppableDisabled,id:r,key:o,disabled:n}),d.current.disabled=n)},[r,o,n,a]),{active:i,rect:h,isOver:(c==null?void 0:c.id)===r,node:O,over:c,setNodeRef:M}}function bv(t,e,n){const r=t.slice();return r.splice(n<0?r.length+n:n,0,r.splice(e,1)[0]),r}function X9(t,e){return t.reduce((n,r,s)=>{const o=e.get(r);return o&&(n[s]=o),n},Array(t.length))}function bu(t){return t!==null&&t>=0}function J9(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Z9(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}const UR=t=>{let{rects:e,activeIndex:n,overIndex:r,index:s}=t;const o=bv(e,r,n),i=e[s],a=o[s];return!a||!i?null:{x:a.left-i.left,y:a.top-i.top,scaleX:a.width/i.width,scaleY:a.height/i.height}},Cu={scaleX:1,scaleY:1},Kx=t=>{var e;let{activeIndex:n,activeNodeRect:r,index:s,rects:o,overIndex:i}=t;const a=(e=o[n])!=null?e:r;if(!a)return null;if(s===n){const u=o[i];return u?{x:0,y:n<i?u.top+u.height-(a.top+a.height):u.top-a.top,...Cu}:null}const c=e$(o,s,n);return s>n&&s<=i?{x:0,y:-a.height-c,...Cu}:s<n&&s>=i?{x:0,y:a.height+c,...Cu}:{x:0,y:0,...Cu}};function e$(t,e,n){const r=t[e],s=t[e-1],o=t[e+1];return r?n<e?s?r.top-(s.top+s.height):o?o.top-(r.top+r.height):0:o?o.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}const BR="Sortable",zR=W.createContext({activeIndex:-1,containerId:BR,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:UR,disabled:{draggable:!1,droppable:!1}});function Gx(t){let{children:e,id:n,items:r,strategy:s=UR,disabled:o=!1}=t;const{active:i,dragOverlay:a,droppableRects:c,over:u,measureDroppableContainers:d}=K9(),f=Nc(BR,n),h=a.rect!==null,m=g.useMemo(()=>r.map(M=>typeof M=="object"&&"id"in M?M.id:M),[r]),S=i!=null,v=i?m.indexOf(i.id):-1,E=u?m.indexOf(u.id):-1,x=g.useRef(m),w=!J9(m,x.current),T=E!==-1&&v===-1||w,N=Z9(o);Vr(()=>{w&&S&&d(m)},[w,m,S,d]),g.useEffect(()=>{x.current=m},[m]);const O=g.useMemo(()=>({activeIndex:v,containerId:f,disabled:N,disableTransforms:T,items:m,overIndex:E,useDragOverlay:h,sortedRects:X9(m,c),strategy:s}),[v,f,N.draggable,N.droppable,T,m,E,c,h,s]);return W.createElement(zR.Provider,{value:O},e)}const t$=t=>{let{id:e,items:n,activeIndex:r,overIndex:s}=t;return bv(n,r,s).indexOf(e)},n$=t=>{let{containerId:e,isSorting:n,wasDragging:r,index:s,items:o,newIndex:i,previousItems:a,previousContainerId:c,transition:u}=t;return!u||!r||a!==o&&s===i?!1:n?!0:i!==s&&e===c},r$={duration:200,easing:"ease"},WR="transform",s$=lc.Transition.toString({property:WR,duration:0,easing:"linear"}),o$={roleDescription:"sortable"};function i$(t){let{disabled:e,index:n,node:r,rect:s}=t;const[o,i]=g.useState(null),a=g.useRef(n);return Vr(()=>{if(!e&&n!==a.current&&r.current){const c=s.current;if(c){const u=ka(r.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&i(d)}}n!==a.current&&(a.current=n)},[e,n,r,s]),g.useEffect(()=>{o&&i(null)},[o]),o}function a$(t){let{animateLayoutChanges:e=n$,attributes:n,disabled:r,data:s,getNewIndex:o=t$,id:i,strategy:a,resizeObserverConfig:c,transition:u=r$}=t;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:S,sortedRects:v,overIndex:E,useDragOverlay:x,strategy:w}=g.useContext(zR),T=l$(r,m),N=d.indexOf(i),O=g.useMemo(()=>({sortable:{containerId:f,index:N,items:d},...s}),[f,s,N,d]),M=g.useMemo(()=>d.slice(d.indexOf(i)),[d,i]),{rect:I,node:b,isOver:C,setNodeRef:R}=Y9({id:i,data:O,disabled:T.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...c}}),{active:A,activatorEvent:D,activeNodeRect:k,attributes:$,setNodeRef:ne,listeners:Z,isDragging:Y,over:j,setActivatorNodeRef:L,transform:q}=q9({id:i,data:O,attributes:{...o$,...n},disabled:T.draggable}),se=A5(R,ne),K=!!A,X=K&&!S&&bu(h)&&bu(E),ae=!x&&Y,_e=ae&&X?q:null,G=X?_e??(a??w)({rects:v,activeNodeRect:k,activeIndex:h,overIndex:E,index:N}):null,we=bu(h)&&bu(E)?o({id:i,items:d,activeIndex:h,overIndex:E}):N,Ie=A==null?void 0:A.id,re=g.useRef({activeId:Ie,items:d,newIndex:we,containerId:f}),de=d!==re.current.items,ce=e({active:A,containerId:f,isDragging:Y,isSorting:K,id:i,index:N,items:d,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:u,wasDragging:re.current.activeId!=null}),$e=i$({disabled:!ce,index:N,node:b,rect:I});return g.useEffect(()=>{K&&re.current.newIndex!==we&&(re.current.newIndex=we),f!==re.current.containerId&&(re.current.containerId=f),d!==re.current.items&&(re.current.items=d)},[K,we,f,d]),g.useEffect(()=>{if(Ie===re.current.activeId)return;if(Ie!=null&&re.current.activeId==null){re.current.activeId=Ie;return}const St=setTimeout(()=>{re.current.activeId=Ie},50);return()=>clearTimeout(St)},[Ie]),{active:A,activeIndex:h,attributes:$,data:O,rect:I,index:N,newIndex:we,items:d,isOver:C,isSorting:K,isDragging:Y,listeners:Z,node:b,overIndex:E,over:j,setNodeRef:se,setActivatorNodeRef:L,setDroppableNodeRef:R,setDraggableNodeRef:ne,transform:$e??G,transition:ze()};function ze(){if($e||de&&re.current.newIndex===N)return s$;if(!(ae&&!_v(D)||!u)&&(K||ce))return lc.Transition.toString({...u,property:WR})}}function l$(t,e){var n,r;return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(n=t==null?void 0:t.draggable)!=null?n:e.draggable,droppable:(r=t==null?void 0:t.droppable)!=null?r:e.droppable}}function Zd(t){if(!t)return!1;const e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const c$=[Ce.Down,Ce.Right,Ce.Up,Ce.Left],u$=(t,e)=>{let{context:{active:n,collisionRect:r,droppableRects:s,droppableContainers:o,over:i,scrollableAncestors:a}}=e;if(c$.includes(t.code)){if(t.preventDefault(),!n||!r)return;const c=[];o.getEnabled().forEach(f=>{if(!f||f!=null&&f.disabled)return;const h=s.get(f.id);if(h)switch(t.code){case Ce.Down:r.top<h.top&&c.push(f);break;case Ce.Up:r.top>h.top&&c.push(f);break;case Ce.Left:r.left>h.left&&c.push(f);break;case Ce.Right:r.left<h.left&&c.push(f);break}});const u=H5({collisionRect:r,droppableRects:s,droppableContainers:c});let d=RR(u,"id");if(d===(i==null?void 0:i.id)&&u.length>1&&(d=u[1].id),d!=null){const f=o.get(n.id),h=o.get(d),m=h?s.get(h.id):null,S=h==null?void 0:h.node.current;if(S&&m&&f&&h){const E=eh(S).some((M,I)=>a[I]!==M),x=HR(f,h),w=d$(f,h),T=E||!x?{x:0,y:0}:{x:w?r.width-m.width:0,y:w?r.height-m.height:0},N={x:m.left,y:m.top};return T.x&&T.y?N:ac(N,T)}}}};function HR(t,e){return!Zd(t)||!Zd(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function d$(t,e){return!Zd(t)||!Zd(e)||!HR(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}const Qx=({job:t,onEdit:e,onDelete:n,onToggleCategory:r,formatMinutesToTime:s,getStatusColor:o,getPriorityColor:i})=>{const{attributes:a,listeners:c,setNodeRef:u,transform:d,transition:f,isDragging:h}=a$({id:t.id}),m={transform:lc.Transform.toString(d),transition:f,opacity:h?.5:1};return y.jsx(qt,{ref:u,style:m,className:h?"z-50":"",children:y.jsx(Kt,{className:"p-4",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[y.jsx("div",{...a,...c,className:"mt-1 cursor-grab active:cursor-grabbing hover:bg-muted rounded p-1",children:y.jsx(W2,{className:"w-4 h-4 text-muted-foreground"})}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("h3",{className:"font-semibold text-lg",children:t.title}),y.jsx(cn,{className:o(t.status),children:t.status.replace("_"," ")}),y.jsxs(cn,{className:i(t.priority),children:[t.priority," priority"]})]}),y.jsx("p",{className:"text-muted-foreground",children:t.description||"No description provided"}),t.assigned_days.length>0&&y.jsx("div",{className:"flex flex-wrap gap-1",children:t.assigned_days.map(S=>y.jsx(cn,{variant:"outline",className:"text-xs",children:S.slice(0,3)},S))}),y.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(Ys,{className:"w-3 h-3"}),s(t.estimated_time)]}),y.jsxs("span",{children:["Created: ",new Date(t.created_at).toLocaleDateString()]})]})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(nn,{variant:"outline",size:"sm",onClick:()=>r(t.id,t.category==="active"?"later":"active"),title:t.category==="active"?"Move to Later":"Move to Active",children:y.jsx(uS,{className:"w-4 h-4"})}),y.jsx(nn,{variant:"outline",size:"sm",onClick:()=>e(t),children:y.jsx(q2,{className:"w-4 h-4"})}),y.jsx(nn,{variant:"outline",size:"sm",onClick:()=>n(t.id),className:"text-destructive hover:text-destructive",children:y.jsx(K2,{className:"w-4 h-4"})})]})]})})})},f$=()=>{const[t,e]=g.useState(!1),[n,r]=g.useState(null),[s,o]=g.useState({title:"",description:"",estimatedTime:"",priority:"medium",assigned_days:[]}),[i,a]=g.useState([]),[c,u]=g.useState(!0),{toast:d}=oy(),f=z5(kx(Sv),kx(Ev,{coordinateGetter:u$}));g.useEffect(()=>{h()},[]);const h=async()=>{try{const C=Km(Hd(ci,"jobs"),Kd("display_order","asc"),Kd("created_at","desc")),A=(await Gm(C)).docs.map(D=>({id:D.id,...D.data()}));a(A)}catch(C){console.error("Error fetching jobs:",C)}},m=async()=>{if(s.title&&s.estimatedTime){const C=x(s.estimatedTime);try{if(n){const R=Za(ci,"jobs",n.id);await sp(R,{title:s.title,description:s.description||null,estimated_time:C,priority:s.priority,assigned_days:s.assigned_days}),d({title:"Success",description:"Job updated successfully"})}else{const R=Math.max(0,...i.map(D=>D.display_order)),A=await N3(Za(Hd(ci,"jobs")),{title:s.title,description:s.description||null,estimated_time:C,status:"pending",priority:s.priority,assigned_days:s.assigned_days,category:"active",display_order:R+1});d({title:"Success",description:"Job created successfully"})}v(),h()}catch(R){console.error("Error saving job:",R),d({title:"Error",description:"Failed to save job",variant:"destructive"})}}},S=C=>{r(C),o({title:C.title,description:C.description||"",estimatedTime:w(C.estimated_time),priority:C.priority,assigned_days:C.assigned_days}),e(!0)},v=()=>{o({title:"",description:"",estimatedTime:"",priority:"medium",assigned_days:[]}),r(null),e(!1)},E=async C=>{try{const R=Za(ci,"jobs",C);await k3(R),d({title:"Success",description:"Job deleted successfully"}),h()}catch(R){console.error("Error deleting job:",R),d({title:"Error",description:"Failed to delete job",variant:"destructive"})}},x=C=>{const R=C.match(/(\d+(?:\.\d+)?)\s*h/i),A=C.match(/(\d+)\s*m/i);let D=0;return R&&(D+=parseFloat(R[1])*60),A&&(D+=parseInt(A[1])),D||60},w=C=>{const R=Math.floor(C/60),A=C%60;return R>0&&A>0?`${R}h ${A}m`:R>0?`${R}h`:`${A}m`},T=C=>{switch(C){case"pending":return"bg-warning/10 text-warning border-warning/20";case"in_progress":return"bg-primary/10 text-primary border-primary/20";case"completed":return"bg-success/10 text-success border-success/20";default:return"bg-muted text-muted-foreground"}},N=C=>{switch(C){case"high":return"bg-destructive/10 text-destructive border-destructive/20";case"medium":return"bg-warning/10 text-warning border-warning/20";case"low":return"bg-success/10 text-success border-success/20";default:return"bg-muted text-muted-foreground"}},O=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],M=(C,R)=>{o(R?{...s,assigned_days:[...s.assigned_days,C]}:{...s,assigned_days:s.assigned_days.filter(A=>A!==C)})},I=async C=>{const{active:R,over:A}=C;if(R.id!==(A==null?void 0:A.id)){const D=i.find($=>$.id===R.id),k=i.find($=>$.id===(A==null?void 0:A.id));if(D&&k&&D.category===k.category){const $=i.filter(L=>L.category===D.category),ne=$.findIndex(L=>L.id===R.id),Z=$.findIndex(L=>L.id===(A==null?void 0:A.id)),Y=bv($,ne,Z),j=Y.map((L,q)=>{q<Math.ceil(Y.length/3);const se=q===0?"high":q<Math.ceil(Y.length/2)?"medium":"low";return{id:L.id,display_order:q,priority:se}});a(L=>{const q=[...L],se=new Map(j.map(K=>[K.id,K]));return q.map(K=>{const X=se.get(K.id);return X?{...K,display_order:X.display_order,priority:X.priority}:K})});try{for(const L of j){const q=Za(ci,"jobs",L.id);await sp(q,{display_order:L.display_order,priority:L.priority})}d({title:"Success",description:"Job order and priorities updated"})}catch(L){console.error("Error updating job order:",L),d({title:"Error",description:"Failed to update job order",variant:"destructive"}),h()}}}},b=async(C,R)=>{try{const A=Za(ci,"jobs",C);await sp(A,{category:R}),d({title:"Success",description:`Job moved to ${R}`}),h()}catch(A){console.error("Error updating job category:",A),d({title:"Error",description:"Failed to update job category",variant:"destructive"})}};return y.jsx("div",{className:"min-h-screen bg-background p-4",children:y.jsxs("div",{className:"max-w-4xl mx-auto",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsxs("div",{className:"flex items-center gap-4",children:[y.jsx(Vi,{to:"/",children:y.jsxs(nn,{variant:"outline",size:"sm",children:[y.jsx(uy,{className:"w-4 h-4 mr-2"}),"Home"]})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold",children:"Job Management"}),y.jsx("p",{className:"text-muted-foreground",children:"Create and manage jobs for your worker"})]})]}),y.jsxs(B6,{open:t,onOpenChange:e,children:[y.jsx(z6,{asChild:!0,children:y.jsxs(nn,{className:"bg-gradient-to-r from-primary to-primary/80",children:[y.jsx(V0,{className:"w-4 h-4 mr-2"}),"Add New Job"]})}),y.jsxs(bI,{children:[y.jsxs(CI,{children:[y.jsx(II,{children:n?"Edit Job":"Create New Job"}),y.jsx(RI,{children:n?"Update the job details below.":"Add a new job for your worker to complete."})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Job Title"}),y.jsx(Ad,{value:s.title,onChange:C=>o({...s,title:C.target.value}),placeholder:"e.g., Clean the garage"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Description (Optional)"}),y.jsx(Ty,{value:s.description,onChange:C=>o({...s,description:C.target.value}),placeholder:"Detailed description of what needs to be done (optional)",rows:3})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Priority"}),y.jsxs(x5,{value:s.priority,onValueChange:C=>o({...s,priority:C}),children:[y.jsx(dR,{children:y.jsx(E5,{placeholder:"Select priority"})}),y.jsxs(pR,{children:[y.jsx(Yu,{value:"high",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(U2,{className:"w-4 h-4 text-destructive"}),"High Priority"]})}),y.jsx(Yu,{value:"medium",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ys,{className:"w-4 h-4 text-warning"}),"Medium Priority"]})}),y.jsx(Yu,{value:"low",children:y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(Ys,{className:"w-4 h-4 text-success"}),"Low Priority"]})})]})]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Assigned Days"}),y.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:O.map(C=>y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(ER,{id:C,checked:s.assigned_days.includes(C),onCheckedChange:R=>M(C,R)}),y.jsx("label",{htmlFor:C,className:"text-sm",children:C})]},C))})]}),y.jsxs("div",{children:[y.jsx("label",{className:"text-sm font-medium",children:"Estimated Time"}),y.jsx(Ad,{value:s.estimatedTime,onChange:C=>o({...s,estimatedTime:C.target.value}),placeholder:"e.g., 2 hours, 45 minutes"})]}),y.jsxs("div",{className:"flex gap-2 pt-4",children:[y.jsx(nn,{onClick:m,disabled:!s.title||!s.estimatedTime,className:"flex-1 bg-gradient-to-r from-primary to-primary/80",children:n?"Update Job":"Create Job"}),y.jsx(nn,{variant:"outline",onClick:v,children:"Cancel"})]})]})]})]})]}),c?y.jsx(qt,{children:y.jsx(Kt,{className:"p-8 text-center",children:y.jsx("p",{className:"text-muted-foreground",children:"Loading jobs..."})})}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"space-y-4",children:[y.jsx("h2",{className:"text-2xl font-semibold",children:"Active Jobs"}),y.jsx(Hx,{sensors:f,collisionDetection:Mx,onDragEnd:I,children:y.jsx(Gx,{items:i.filter(C=>C.category==="active").map(C=>C.id),strategy:Kx,children:y.jsx("div",{className:"space-y-4",children:i.filter(C=>C.category==="active").sort((C,R)=>C.display_order-R.display_order).map(C=>y.jsx(Qx,{job:C,onEdit:S,onDelete:E,onToggleCategory:b,formatMinutesToTime:w,getStatusColor:T,getPriorityColor:N},C.id))})})}),i.filter(C=>C.category==="active").length===0&&y.jsx(qt,{children:y.jsx(Kt,{className:"p-8 text-center",children:y.jsx("p",{className:"text-muted-foreground mb-4",children:"No active jobs."})})})]}),i.filter(C=>C.category==="later").length>0&&y.jsxs("div",{className:"space-y-4 mt-8 pt-8 border-t",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(uS,{className:"w-5 h-5 text-muted-foreground"}),y.jsx("h2",{className:"text-2xl font-semibold text-muted-foreground",children:"Later / Someday"})]}),y.jsx(Hx,{sensors:f,collisionDetection:Mx,onDragEnd:I,children:y.jsx(Gx,{items:i.filter(C=>C.category==="later").map(C=>C.id),strategy:Kx,children:y.jsx("div",{className:"space-y-4",children:i.filter(C=>C.category==="later").sort((C,R)=>C.display_order-R.display_order).map(C=>y.jsx(Qx,{job:C,onEdit:S,onDelete:E,onToggleCategory:b,formatMinutesToTime:w,getStatusColor:T,getPriorityColor:N},C.id))})})})]})]}),i.length===0&&y.jsx(qt,{children:y.jsxs(Kt,{className:"p-8 text-center",children:[y.jsx("p",{className:"text-muted-foreground mb-4",children:"No jobs created yet."}),y.jsxs(nn,{onClick:()=>e(!0),className:"bg-gradient-to-r from-primary to-primary/80",children:[y.jsx(V0,{className:"w-4 h-4 mr-2"}),"Create Your First Job"]})]})})]})})},h$=()=>{const t=vc();return g.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),y.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:y.jsxs("div",{className:"text-center",children:[y.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),y.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),y.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},p$=new E4,m$=()=>y.jsx(S4,{client:p$,children:y.jsxs(QM,{children:[y.jsx(kD,{}),y.jsx(uO,{}),y.jsx(Dk,{children:y.jsxs(Ck,{children:[y.jsx(hi,{path:"/",element:y.jsx(b4,{})}),y.jsx(hi,{path:"/worker",element:y.jsx(A4,{})}),y.jsx(hi,{path:"/parent",element:y.jsx(V3,{})}),y.jsx(hi,{path:"/jobs",element:y.jsx(f$,{})}),y.jsx(hi,{path:"*",element:y.jsx(h$,{})})]})})]})});wT(document.getElementById("root")).render(y.jsx(Ok,{children:y.jsx(m$,{})}));
